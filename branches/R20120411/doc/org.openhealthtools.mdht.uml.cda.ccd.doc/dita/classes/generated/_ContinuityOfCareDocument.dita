<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="classId" xml:lang="en-us">
<title>Continuity Of Care Document - conformance rules</title>
<shortdesc id="shortdesc">[ClinicalDocument: templateId <tt>2.16.840.1.113883.10.20.1</tt>]</shortdesc>
<prolog id="prolog">
<metadata><category>ClinicalDocument</category></metadata>
<resourceid id="2.16.840.1.113883.10.20.1"/>
</prolog>
<body>
<section id="description">
</section>
<ol id="conformance">
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-140), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../ProblemSection.dita">Problem Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.11</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-184), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../FamilyHistorySection.dita">Family History Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.4</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-232), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../SocialHistorySection.dita">Social History Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.15</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../AlertsSection.dita">Alerts Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.2</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-298), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../MedicationsSection.dita">Medications Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.8</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-388), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../ResultsSection.dita">Results Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.14</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../ProceduresSection.dita">Procedures Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.12</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../EncountersSection.dita">Encounters Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.3</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../PlanOfCareSection.dita">Plan Of Care Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.10</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-376), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../ImmunizationsSection.dita">Immunizations Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.6</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-381), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../VitalSignsSection.dita">Vital Signs Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.16</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-371), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../MedicalEquipmentSection.dita">Medical Equipment Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.7</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-123), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../FunctionalStatusSection.dita">Functional Status Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.5</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-77), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../AdvanceDirectivesSection.dita">Advance Directives Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.1</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../PayersSection.dita">Payers Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.9</tt>)</li></ol></li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt><tt><b>/@code</b>="34133-9" </tt><i>Summarization of episode note</i> (CodeSystem:<tt> 2.16.840.1.113883.6.1 LOINC</tt>) (CONF-1)
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>languageCode</b></tt> (CONF-5)
<ol>
<li>languageCode has the form nn, or nn-CC. The nn portion <b>SHALL</b> be an ISO-639-1 language code in lower case. The CC portion, if present, <b>SHALL</b> be an ISO-3166 country code in upper case (CONF-6)<ul><li><codeblock>[OCL]: self.languageCode.matches('code','(([a-z]{2})(\\\\-[A-Z]{2})?)')</codeblock></li></ul></li></ol></li>
<li><b>MAY</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-15), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../PurposeSection.dita">Purpose Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.13</tt>)</li></ol></li>
<li><b>SHALL</b> satisfy: Contains exactly one documentationOf / serviceEvent (CONF-2)<ul><li><codeblock>[OCL]: self.documentationOf-&gt;one(doc : cda::DocumentationOf | not doc.serviceEvent.oclIsUndefined())</codeblock></li></ul></li>
<li>documentationOf / serviceEvent / @classCode <b>SHALL</b> be 'PCPR' (CONF-3)<ul><li><codeblock>[OCL]: self.documentationOf-&gt;one(doc : cda::DocumentationOf | doc.serviceEvent.classCode = vocab::ActClassRoot::PCPR)</codeblock></li></ul></li>
<li><b>SHALL</b> satisfy: documentationOf / serviceEvent contains exactly one serviceEvent / effectiveTime / low and exactly one serviveEvent / effectiveTime / high (CONF-4)<ul><li><codeblock>[OCL]: self.documentationOf-&gt;one(doc : cda::DocumentationOf | 
   not doc.serviceEvent.effectiveTime.low.oclIsUndefined() and not doc.serviceEvent.effectiveTime.high.oclIsUndefined())</codeblock></li></ul></li>
<li><b>SHALL NOT</b> contain templateId / @extension (CONF-8)<ul><li><codeblock>[OCL]: self.templateId-&gt;forAll(id : datatypes::II | id.root = '2.16.840.1.113883.10.20.1' implies id.extension.oclIsUndefined())</codeblock></li></ul></li>
<li><b>SHALL</b> satisfy: effectiveTime is expressed with precision to include seconds (CONF-9)<ul><li><codeblock>[OCL]: self.effectiveTime.value.size() &gt;= 4</codeblock></li></ul></li>
<li><b>SHALL</b> satisfy: effectiveTime includes an explicit time zone offset (CONF-10)<ul><li><codeblock>[OCL]: self.effectiveTime.value.size() &gt;= 19</codeblock></li></ul></li>
<li><b>SHALL</b> satisfy: Contains one or two recordTarget (CONF-11)<ul><li><codeblock>[OCL]: self.recordTarget-&gt;size() = 1 or self.recordTarget-&gt;size() =2</codeblock></li></ul></li>
<li><b>SHOULD</b> satisfy: Contains one or more author / assignedAuthor / assignedPerson and/or author / assignedAuthor / representedOrganization (CONF-12)<ul><li><codeblock>[OCL]: self.author-&gt;exists(author : cda::Author | not author.assignedAuthor.assignedPerson.oclIsUndefined() 
   or not author.assignedAuthor.representedOrganization.oclIsUndefined())</codeblock></li></ul></li>
<li>If author has an associated representedOrganization with no assignedPerson or assignedAuthoringDevice, then the value for author / assignedAuthor / id / @NullFlavor <b>SHALL</b> be 'NA' (CONF-13)<ul><li><codeblock>[OCL]: self.author-&gt;exists(author : cda::Author | (not author.assignedAuthor.representedOrganization.oclIsUndefined()
      and author.assignedAuthor.assignedPerson.oclIsUndefined() and author.assignedAuthor.assignedAuthoringDevice.oclIsUndefined())
   implies author.assignedAuthor.id-&gt;one(id : datatypes::II | id.nullFlavor = vocab::NullFlavor::NA))</codeblock></li></ul></li>
<li><b>MAY</b> satisfy: Contains one or more informationRecipient (CONF-14)<ul><li><codeblock>[OCL]: self.informationRecipient-&gt;size() &gt; 0</codeblock></li></ul></li>
<li>The value for component / structuredBody / component / section / entry / @typeCode <b>MAY</b> be 'DRIV' "is derived from" 2.16.840.1.113883.5.1002 ActRelationshipType STATIC, to indicate that the CDA Narrative Block is fully derived from the structured entries. (CONF-28)<ul><li>UNIMPLEMENTABLE</li></ul></li>
<li>A CCD entry <b>SHOULD</b> explicitly reference its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1 &lt;content&gt;). (CONF-29)<ul><li>UNIMPLEMENTABLE</li></ul></li>
<li>A section <b>MAY</b> contain one or more comments, either as a clinical statement or nested under another clinical statement. (CONF-502)<ul><li>UNIMPLEMENTABLE</li></ul></li>
</ol>
<ol id="aggregate">
<li>Contains exactly one [1..1] <tt><b>typeId</b></tt>, where its data type is InfrastructureRootTypeId
</li>
<li>Contains exactly one [1..1] <tt><b>id</b></tt>, where its data type is II
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt><tt><b>/@code</b>="34133-9" </tt><i>Summarization of episode note</i> (CodeSystem:<tt> 2.16.840.1.113883.6.1 LOINC</tt>) (CONF-1)
</li>
<li>Contains exactly one [1..1] <tt><b>effectiveTime</b></tt>, where its data type is TS
</li>
<li>Contains exactly one [1..1] <tt><b>confidentialityCode</b></tt>, where its data type is CE
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>languageCode</b></tt> (CONF-5)
<ol>
<li>languageCode has the form nn, or nn-CC. The nn portion <b>SHALL</b> be an ISO-639-1 language code in lower case. The CC portion, if present, <b>SHALL</b> be an ISO-3166 country code in upper case (CONF-6)<ul><li><codeblock>[OCL]: self.languageCode.matches('code','(([a-z]{2})(\\\\-[A-Z]{2})?)')</codeblock></li></ul></li></ol></li>
<li>Contains at least one [1..*] <tt><b>recordTarget</b></tt>, where its type is <xref href="../RecordTarget.dita">Record Target</xref>
</li>
<li>Contains at least one [1..*] <tt><b>author</b></tt>, where its type is <xref href="../Author.dita">Author</xref>
</li>
<li>Contains exactly one [1..1] <tt><b>custodian</b></tt>, where its type is <xref href="../Custodian.dita">Custodian</xref>
</li>
<li>Contains exactly one [1..1] <tt><b>component</b></tt>, where its type is <xref href="../Component2.dita">Component2</xref>
</li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-140), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../ProblemSection.dita">Problem Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.11</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-184), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../FamilyHistorySection.dita">Family History Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.4</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-232), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../SocialHistorySection.dita">Social History Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.15</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../AlertsSection.dita">Alerts Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.2</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-388), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../ResultsSection.dita">Results Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.14</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../ProceduresSection.dita">Procedures Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.12</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../EncountersSection.dita">Encounters Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.3</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../PlanOfCareSection.dita">Plan Of Care Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.10</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-376), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../ImmunizationsSection.dita">Immunizations Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.6</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-381), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../VitalSignsSection.dita">Vital Signs Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.16</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-371), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../MedicalEquipmentSection.dita">Medical Equipment Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.7</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-123), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../FunctionalStatusSection.dita">Functional Status Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.5</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-77), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../AdvanceDirectivesSection.dita">Advance Directives Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.1</tt>)</li></ol></li>
<li><b>SHOULD</b> contain exactly one [1..1] <tt><b>component</b></tt>, such that
<ol>
<li>Contains exactly one [1..1] <xref href="../PayersSection.dita">Payers Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.9</tt>)</li></ol></li>
<li><b>MAY</b> contain exactly one [1..1] <tt><b>component</b></tt> (CONF-15), such that
<ol>
<li>Contains exactly one [1..1] <xref href="../PurposeSection.dita">Purpose Section</xref> (templateId: <tt>2.16.840.1.113883.10.20.1.13</tt>)</li></ol></li>
<li><b>SHALL</b> satisfy: Contains exactly one documentationOf / serviceEvent (CONF-2)<ul><li><codeblock>[OCL]: self.documentationOf-&gt;one(doc : cda::DocumentationOf | not doc.serviceEvent.oclIsUndefined())</codeblock></li></ul></li>
<li>documentationOf / serviceEvent / @classCode <b>SHALL</b> be 'PCPR' (CONF-3)<ul><li><codeblock>[OCL]: self.documentationOf-&gt;one(doc : cda::DocumentationOf | doc.serviceEvent.classCode = vocab::ActClassRoot::PCPR)</codeblock></li></ul></li>
<li><b>SHALL</b> satisfy: documentationOf / serviceEvent contains exactly one serviceEvent / effectiveTime / low and exactly one serviveEvent / effectiveTime / high (CONF-4)<ul><li><codeblock>[OCL]: self.documentationOf-&gt;one(doc : cda::DocumentationOf | 
   not doc.serviceEvent.effectiveTime.low.oclIsUndefined() and not doc.serviceEvent.effectiveTime.high.oclIsUndefined())</codeblock></li></ul></li>
<li>languageCode has the form nn, or nn-CC. The nn portion <b>SHALL</b> be an ISO-639-1 language code in lower case. The CC portion, if present, <b>SHALL</b> be an ISO-3166 country code in upper case (CONF-6)<ul><li><codeblock>[OCL]: self.languageCode.matches('code','(([a-z]{2})(\\\\-[A-Z]{2})?)')</codeblock></li></ul></li>
<li><b>SHALL NOT</b> contain templateId / @extension (CONF-8)<ul><li><codeblock>[OCL]: self.templateId-&gt;forAll(id : datatypes::II | id.root = '2.16.840.1.113883.10.20.1' implies id.extension.oclIsUndefined())</codeblock></li></ul></li>
<li><b>SHALL</b> satisfy: effectiveTime is expressed with precision to include seconds (CONF-9)<ul><li><codeblock>[OCL]: self.effectiveTime.value.size() &gt;= 4</codeblock></li></ul></li>
<li><b>SHALL</b> satisfy: effectiveTime includes an explicit time zone offset (CONF-10)<ul><li><codeblock>[OCL]: self.effectiveTime.value.size() &gt;= 19</codeblock></li></ul></li>
<li><b>SHALL</b> satisfy: Contains one or two recordTarget (CONF-11)<ul><li><codeblock>[OCL]: self.recordTarget-&gt;size() = 1 or self.recordTarget-&gt;size() =2</codeblock></li></ul></li>
<li><b>SHOULD</b> satisfy: Contains one or more author / assignedAuthor / assignedPerson and/or author / assignedAuthor / representedOrganization (CONF-12)<ul><li><codeblock>[OCL]: self.author-&gt;exists(author : cda::Author | not author.assignedAuthor.assignedPerson.oclIsUndefined() 
   or not author.assignedAuthor.representedOrganization.oclIsUndefined())</codeblock></li></ul></li>
<li>If author has an associated representedOrganization with no assignedPerson or assignedAuthoringDevice, then the value for author / assignedAuthor / id / @NullFlavor <b>SHALL</b> be 'NA' (CONF-13)<ul><li><codeblock>[OCL]: self.author-&gt;exists(author : cda::Author | (not author.assignedAuthor.representedOrganization.oclIsUndefined()
      and author.assignedAuthor.assignedPerson.oclIsUndefined() and author.assignedAuthor.assignedAuthoringDevice.oclIsUndefined())
   implies author.assignedAuthor.id-&gt;one(id : datatypes::II | id.nullFlavor = vocab::NullFlavor::NA))</codeblock></li></ul></li>
<li><b>MAY</b> satisfy: Contains one or more informationRecipient (CONF-14)<ul><li><codeblock>[OCL]: self.informationRecipient-&gt;size() &gt; 0</codeblock></li></ul></li>
<li>The value for component / structuredBody / component / section / entry / @typeCode <b>MAY</b> be 'DRIV' "is derived from" 2.16.840.1.113883.5.1002 ActRelationshipType STATIC, to indicate that the CDA Narrative Block is fully derived from the structured entries. (CONF-28)<ul><li>UNIMPLEMENTABLE</li></ul></li>
<li>A CCD entry <b>SHOULD</b> explicitly reference its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1 &lt;content&gt;). (CONF-29)<ul><li>UNIMPLEMENTABLE</li></ul></li>
<li>A section <b>MAY</b> contain one or more comments, either as a clinical statement or nested under another clinical statement. (CONF-502)<ul><li>UNIMPLEMENTABLE</li></ul></li>
</ol>
<codeblock id="example"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<ClinicalDocument xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:hl7-org:v3" xsi:schemaLocation="urn:hl7-org:v3 CDA.xsd">
  <typeId root="2.16.840.1.113883.1.3"/>
  <templateId root="2.16.840.1.113883.10.20.1"/>
  <id root="2097335606"/>
  <code code="34133-9" codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" displayName="Summarization of episode note"/>
  <title/>
  <effectiveTime/>
  <confidentialityCode code="Value"/>
  <languageCode/>
  <recordTarget/>
  <author/>
  <custodian/>
  <component>
    <structuredBody>
      <component>
        <section>
          <templateId root="2.16.840.1.113883.10.20.1.11"/>
          <id root="127333809"/>
          <code code="11450-4" codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" displayName="Problem list"/>
          <title/>
          <languageCode/>
          <entry>
            <act/>
          </entry>
        </section>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
      <component>
        <section/>
      </component>
    </structuredBody>
  </component>
</ClinicalDocument>]]></codeblock>
</body>
</topic>
