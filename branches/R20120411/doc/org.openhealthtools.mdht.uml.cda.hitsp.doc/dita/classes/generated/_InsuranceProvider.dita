<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="classId" xml:lang="en-us">
<title>Insurance Provider - conformance rules</title>
<shortdesc id="shortdesc">[Act: templateId <tt>2.16.840.1.113883.3.88.11.83.5</tt>]</shortdesc>
<prolog id="prolog">
<metadata><category>Act</category></metadata>
<resourceid id="2.16.840.1.113883.3.88.11.83.5"/>
</prolog>
<body>
<section id="description">
</section>
<ol id="conformance">
<li><b>SHALL</b> conform to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ihe.doc/classes/CoverageEntry.html">IHE Coverage Entry</xref> template (templateId: <tt>1.3.6.1.4.1.19376.1.5.3.1.4.17</tt>)</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt><tt><b>/@code</b>="48768-6" </tt><i>Payment sources</i> (CodeSystem:<tt> 2.16.840.1.113883.6.1 LOINC</tt>) (CONF-41, CONF-42)
</li>
<li>Information for payment providers <b>SHALL</b> be recorded as a policy act inside the coverage act.</li>
<li>All Insurance Provider modules <b>SHALL</b> declare conformance to the IHE Payer Entry by including a &lt;templateID&gt; element with the root attribute set to the value 1.3.6.1.4.1.19376.1.5.3.1.4.18<ul><li><codeblock>[OCL]: self.getActs()-&gt;exists(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))</codeblock></li></ul></li>
<li>The id/@root attribute of a Payer Entry <b>SHOULD</b> be the OID of the assigning authority for the identifier; however, determining the assigning authority is not feasible in all settings. A GUID <b>MAY</b> be used in place of the OID of the assigning authority. Implementers <b>SHOULD</b> use the same GUID for each instance of the same group or contract number<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | not a.id.root-&gt;isEmpty())</codeblock></li></ul></li>
<li>The code/@code element <b>SHOULD</b> be present in a Payer Entry and <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.3221.5.2, Health Insurance Type Value Set, 20081218, STATIC<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.code.codeSystem = '2.16.840.1.113883.6.255.1336' and (a.code.code='12' or a.code.code='13' or a.code.code='14' or a.code.code='15' or a.code.code='16' or a.code.code='41' or a.code.code='42' or a.code.code='43' or a.code.code='47' or a.code.code='AP' or a.code.code='C1' or a.code.code='CO' or a.code.code='CP' or a.code.code='D' or a.code.code='DB' or a.code.code='EP' or a.code.code='FF' or a.code.code='GP' or a.code.code='HM' or a.code.code='HN' or a.code.code='HS' or a.code.code='IN' or a.code.code='IP' or a.code.code='LC' or a.code.code='LD' or a.code.code='LI' or a.code.code='LT' or a.code.code='MA' or a.code.code='MB' or a.code.code='MC' or a.code.code='MH' or a.code.code='MI' or a.code.code='MP' or a.code.code='OT' or a.code.code='PE' or a.code.code='PL' or a.code.code='PP' or a.code.code='PR' or a.code.code='PS' or a.code.code='QM' or a.code.code='RP' or a.code.code='SP' or a.code.code='TF' or a.code.code='WC' or a.code.code='WU'))</codeblock></li></ul></li>
<li>performer/@typeCode='PRF'/assignedEntity <b>SHALL</b> be present to record Payer Information/Health Insurance Information<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists (perm : cda::Performer2 | perm.typeCode = vocab::ParticipationPhysicalPerformer::PRF and perm.assignedEntity-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>performer/@typeCode='PRF'/assignedEntity/id elements <b>MAY</b> be present. The ID element corresponds to the RxBIN and RxPCN fields found on pharmacy benefit cards. When a national payer identifier is standardized, it would also go in this field.
The OID for RxBIN is 2.16.840.1.113883.3.88.3.1. The OID for an RxPCN is 2.16.840.1.113883.3.88.3.1 plus the numeric identifier used in the RxBIN.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists (perm : cda::Performer2 | perm.typeCode = vocab::ParticipationPhysicalPerformer::PRF and perm.assignedEntity.id-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The performer/@typeCode='PRF'/assignedEntity/addr <b>MAY</b> be present.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists (perm : cda::Performer2 | perm.typeCode = vocab::ParticipationPhysicalPerformer::PRF and perm.assignedEntity.addr-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The state part of performer/@typeCode='PRF'/assignedEntity/addr <b>SHALL</b> be recorded using 2.16.840.1.113883.3.88.12.80.1, State Value Set, 20081218, Dynamic</li>
<li>The country part of performer/@typeCode='PRF'/assignedEntity/addr <b>SHALL</b> be recorded using 2.16.840.1.113883.3.88.12.80.63, Country Value Set, 20081218, Dynamic</li>
<li>The state part of performer/@typeCode='PRF'/assignedEntity/addr <b>SHALL</b> be recorded using 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, 20081218, Dynamic</li>
<li>The date when the plan began covering the member <b>SHOULD</b> be recorded in the &lt;low&gt; element of the &lt;time&gt; element beneath the participant/@typeCode='COV' element<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.time.low-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The date when the plan stops covering the member <b>SHOULD</b> be recorded in the &lt;high&gt; element of the &lt;time&gt; element beneath the participant/@typeCode='COV' element<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.time.high-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>participant/@typeCode='COV'/participantRole/@classCode='PAT' <b>SHALL</b> be present to record Patient information.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT))</codeblock></li></ul></li>
<li>The member identifier number <b>SHALL</b> be recorded in the extension attribute of the &lt;id&gt; element found in the &lt;participant/@typeCode='COV'/participantRole/@classCode='PAT'&gt; element<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.id-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The root attribute of a participant/@typeCode='COV'/participantRole/@classCode='PAT'/id element <b>SHOULD</b> be the OID of the assigning authority for the identifier; however, determining the assigning authority is not feasible in all settings<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.id.root-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>A GUID <b>MAY</b> be used in place of the OID of the assigning authority</li>
<li>Implementers <b>SHOULD</b> use the same GUID for each instance of a member identifier from the same health plan</li>
<li>The relationship to the subscriber <b>SHALL</b> be present and <b>SHALL</b> be recorded in the &lt;code&gt; element underneath the &lt;participantRole&gt; element recording the member information<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.code-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The Patient Relationship to Subscriber <b>SHALL</b> be coded as 2.16.840.1.113883.1.11.18877, Coverage Role Type Value, V3NE08, STATIC<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.code.codeSystem = '2.16.840.1.113883.5.111' and (par.participantRole.code.code = 'FAMDEP' or par.participantRole.code.code='HANDIC' or par.participantRole.code.code ='INJ' or par.participantRole.code.code='SELF' or par.participantRole.code.code='SPON' or par.participantRole.code.code ='STUD' or par.participantRole.code.code='FSTUD' or par.participantRole.code.code='PSTUD')))</codeblock></li></ul></li>
<li>The state part of participant/@typeCode='COV'/participantRole/@classCode='PAT'/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.1, State Value Set, 20081218, Dynamic</li>
<li>The state part of participant/@typeCode='COV'/participantRole/@classCode='PAT'/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.63, Country Value Set, 20081218, Dynamic</li>
<li>The state part of participant/@typeCode='COV'/participantRole/@classCode='PAT'/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, 20081218, Dynamic</li>
<li>If the member name as recorded by the health plan differs from the patient name as recorded in the registration/medication summary (e.g., due to marriage or for other reasons), then the member name <b>SHALL</b> be recorded in the &lt;name&gt; element of the &lt;playingEntity&gt; element beneath the &lt;participant/@typeCode='COV'/participantRole/@classCode='PAT'&gt; element<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.playingEntity.name-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>If the member date of birth as recorded by the health plan differs from the patient date of birth as recorded in the registration/medication summary, then the member date of birth <b>SHALL</b> be recorded in the &lt;sdtc:birthTime&gt; element of the &lt;playingEntity&gt; element beneath the &lt;participant/@typeCode='COV'/participantRole/@classCode='PAT'&gt; element</li>
<li>The &lt;participant/@typeCode='HLD'&gt; element <b>SHOULD</b> be present to record Subscriber Information.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::HLD))</codeblock></li></ul></li>
<li>When the Subscriber is the patient, the &lt;participant/@typeCode='HLD'&gt; element describing the subscriber <b>SHALL NOT</b> be present. This information will be recorded instead in the data elements used to record member information</li>
<li>The participant/@typeCode='HLD'/participantRole/id element <b>SHALL</b> be present.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::HLD and par.participantRole.id-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The root attribute <b>SHOULD</b> be the OID of the assigning authority for the identifier; however, determining the assigning authority is not feasible in all settings. A GUID <b>MAY</b> be used in place of the OID of the assigning authority. Implementers <b>SHOULD</b> use the same GUID for each instance of a subscriber identifier from the same health plan<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::HLD and par.participantRole.id.root-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The participant/@typeCode='HLD'/participantRole/addr element <b>SHALL</b> be present to record the Subscriber Address.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::HLD and par.participantRole.addr-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The state part of participant/@typeCode='HLD'/participantRole/addr element <b>SHALL</b> be coded as  2.16.840.1.113883.3.88.12.80.1, State Value Set, 20081218, Dynamic</li>
<li>The country part of participant/@typeCode='HLD'/participantRole/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.63, Country Value Set, 20081218, Dynamic</li>
<li>The postal code part of participant/@typeCode='HLD'/participantRole/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, 20081218, Dynamic</li>
<li>The subscriber date of birth <b>SHALL</b> be recorded in the &lt;sdtc:birthTime&gt; element of the &lt;playingEntity&gt; element beneath the &lt;performer/@typeCode='HLD'/participantRole&gt; element.</li>
<li><b>SHALL</b> satisfy: performer/assignedEntity/code element is used to denote the financial Responsibility Party Type.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists(per : cda::Performer2 | per.typeCode = vocab::ParticipationPhysicalPerformer::PRF and per.assignedEntity.code-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>performer/assignedEntity/code/@code attribute <b>SHALL</b> be coded as 2.16.840.1.113883.1.11.10416, Financially Responsible Party Type Value Set, V3NE08, STATIC<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists(per : cda::Performer2 | per.assignedEntity.code.codeSystem = '2.16.840.1.113883.5.110'))</codeblock></li></ul></li>
<li>When the code of the encompassing act is PP, the code attribute value <b>SHALL</b> be set to GUAR or PAT to represent a guarantor or self-paying patient respectively</li>
<li>The code attribute <b>SHALL</b> be set to PAYOR when the code of the encompassing act is other than PP</li>
<li>performer/assignedEntity/addr <b>SHOULD</b> be present to record Financial Responsibility Party Address<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists(per : cda::Performer2 | per.assignedEntity.addr-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The state part of a performer/assignedEntity/addr/ element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.1, State Value Set, 20081218, Dynamic</li>
<li>The country part of a performer/assignedEntity/addr/ element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.63, Country Value Set, 20081218, Dynamic</li>
<li>The postal code part of a performer/assignedEntity/addr/ element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, 20081218, Dynamic</li>
</ol>
<ol id="aggregate">
<li><b>SHALL</b> conform to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/CoverageActivity.html">CCD Coverage Activity</xref> template (templateId: <tt>2.16.840.1.113883.10.20.1.20</tt>)</li>
<li><b>SHALL</b> conform to <xref format="html" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ihe.doc/classes/CoverageEntry.html">IHE Coverage Entry</xref> template (templateId: <tt>1.3.6.1.4.1.19376.1.5.3.1.4.17</tt>)</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>@classCode</b>="ACT" </tt><i>Act</i> (CodeSystem:<tt> 2.16.840.1.113883.5.6 HL7ActClass</tt>) (CONF-36)
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>@moodCode</b>="DEF" </tt> (CodeSystem:<tt> 2.16.840.1.113883.5.1001 HL7ActMood</tt>) (CONF-37)
</li>
<li><b>SHALL</b> contain at least one [1..*] <tt><b>id</b></tt> (CONF-38)
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>code</b></tt><tt><b>/@code</b>="48768-6" </tt><i>Payment sources</i> (CodeSystem:<tt> 2.16.840.1.113883.6.1 LOINC</tt>) (CONF-41, CONF-42)
</li>
<li><b>SHALL</b> contain exactly one [1..1] <tt><b>statusCode</b></tt><tt><b>/@code</b>="completed" </tt> (CodeSystem:<tt> 2.16.840.1.113883.5.14 HL7ActStatus</tt>) (CONF-39, CONF-40)
</li>
<li><b>SHALL</b> contain at least one [1..*] <tt><b>entryRelationship</b></tt>, such that
<ol>
<li>Contains <tt><b>@typeCode="</b>COMP" </tt><i>COMP (has component)</i></li>
<li>Contains exactly one [1..1] <xref href="../PayerEntry.dita">Payer Entry</xref> (templateId: <tt>1.3.6.1.4.1.19376.1.5.3.1.4.18</tt>)</li></ol></li>
<li><b>SHALL</b> satisfy: An alert observation contains one or more sources of information. (CONF-47)<ul><li><codeblock>[OCL]: not self.informant-&gt;isEmpty() 
  or not self.getSection().informant-&gt;isEmpty()
  or not self.getClinicalDocument().informant-&gt;isEmpty()
  or self.reference-&gt;exists(ref : cda::Reference | ref.typeCode = vocab::x_ActRelationshipExternalReference::XCRPT)
  or (self.entryRelationship-&gt;exists(rel : cda::EntryRelationship | 
   rel.typeCode = vocab::x_ActRelationshipEntryRelationship::REFR
   and rel.observation.code.code = '48766-0'))</codeblock></li></ul></li>
<li><b>MAY</b> satisfy: entryRelationship contains sequenceNumber, which serves to prioritize the payment sources. (CONF-44)<ul><li><codeblock>[OCL]: self.entryRelationship-&gt;exists(rel : cda::EntryRelationship | not rel.sequenceNumber.oclIsUndefined())</codeblock></li></ul></li>
<li>Information for payment providers <b>SHALL</b> be recorded as a policy act inside the coverage act.</li>
<li>All Insurance Provider modules <b>SHALL</b> declare conformance to the IHE Payer Entry by including a &lt;templateID&gt; element with the root attribute set to the value 1.3.6.1.4.1.19376.1.5.3.1.4.18<ul><li><codeblock>[OCL]: self.getActs()-&gt;exists(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))</codeblock></li></ul></li>
<li>The id/@root attribute of a Payer Entry <b>SHOULD</b> be the OID of the assigning authority for the identifier; however, determining the assigning authority is not feasible in all settings. A GUID <b>MAY</b> be used in place of the OID of the assigning authority. Implementers <b>SHOULD</b> use the same GUID for each instance of the same group or contract number<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | not a.id.root-&gt;isEmpty())</codeblock></li></ul></li>
<li>The code/@code element <b>SHOULD</b> be present in a Payer Entry and <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.3221.5.2, Health Insurance Type Value Set, 20081218, STATIC<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.code.codeSystem = '2.16.840.1.113883.6.255.1336' and (a.code.code='12' or a.code.code='13' or a.code.code='14' or a.code.code='15' or a.code.code='16' or a.code.code='41' or a.code.code='42' or a.code.code='43' or a.code.code='47' or a.code.code='AP' or a.code.code='C1' or a.code.code='CO' or a.code.code='CP' or a.code.code='D' or a.code.code='DB' or a.code.code='EP' or a.code.code='FF' or a.code.code='GP' or a.code.code='HM' or a.code.code='HN' or a.code.code='HS' or a.code.code='IN' or a.code.code='IP' or a.code.code='LC' or a.code.code='LD' or a.code.code='LI' or a.code.code='LT' or a.code.code='MA' or a.code.code='MB' or a.code.code='MC' or a.code.code='MH' or a.code.code='MI' or a.code.code='MP' or a.code.code='OT' or a.code.code='PE' or a.code.code='PL' or a.code.code='PP' or a.code.code='PR' or a.code.code='PS' or a.code.code='QM' or a.code.code='RP' or a.code.code='SP' or a.code.code='TF' or a.code.code='WC' or a.code.code='WU'))</codeblock></li></ul></li>
<li>performer/@typeCode='PRF'/assignedEntity <b>SHALL</b> be present to record Payer Information/Health Insurance Information<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists (perm : cda::Performer2 | perm.typeCode = vocab::ParticipationPhysicalPerformer::PRF and perm.assignedEntity-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>performer/@typeCode='PRF'/assignedEntity/id elements <b>MAY</b> be present. The ID element corresponds to the RxBIN and RxPCN fields found on pharmacy benefit cards. When a national payer identifier is standardized, it would also go in this field.
The OID for RxBIN is 2.16.840.1.113883.3.88.3.1. The OID for an RxPCN is 2.16.840.1.113883.3.88.3.1 plus the numeric identifier used in the RxBIN.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists (perm : cda::Performer2 | perm.typeCode = vocab::ParticipationPhysicalPerformer::PRF and perm.assignedEntity.id-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The performer/@typeCode='PRF'/assignedEntity/addr <b>MAY</b> be present.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists (perm : cda::Performer2 | perm.typeCode = vocab::ParticipationPhysicalPerformer::PRF and perm.assignedEntity.addr-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The state part of performer/@typeCode='PRF'/assignedEntity/addr <b>SHALL</b> be recorded using 2.16.840.1.113883.3.88.12.80.1, State Value Set, 20081218, Dynamic</li>
<li>The country part of performer/@typeCode='PRF'/assignedEntity/addr <b>SHALL</b> be recorded using 2.16.840.1.113883.3.88.12.80.63, Country Value Set, 20081218, Dynamic</li>
<li>The state part of performer/@typeCode='PRF'/assignedEntity/addr <b>SHALL</b> be recorded using 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, 20081218, Dynamic</li>
<li>The date when the plan began covering the member <b>SHOULD</b> be recorded in the &lt;low&gt; element of the &lt;time&gt; element beneath the participant/@typeCode='COV' element<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.time.low-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The date when the plan stops covering the member <b>SHOULD</b> be recorded in the &lt;high&gt; element of the &lt;time&gt; element beneath the participant/@typeCode='COV' element<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.time.high-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>participant/@typeCode='COV'/participantRole/@classCode='PAT' <b>SHALL</b> be present to record Patient information.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT))</codeblock></li></ul></li>
<li>The member identifier number <b>SHALL</b> be recorded in the extension attribute of the &lt;id&gt; element found in the &lt;participant/@typeCode='COV'/participantRole/@classCode='PAT'&gt; element<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.id-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The root attribute of a participant/@typeCode='COV'/participantRole/@classCode='PAT'/id element <b>SHOULD</b> be the OID of the assigning authority for the identifier; however, determining the assigning authority is not feasible in all settings<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.id.root-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>A GUID <b>MAY</b> be used in place of the OID of the assigning authority</li>
<li>Implementers <b>SHOULD</b> use the same GUID for each instance of a member identifier from the same health plan</li>
<li>The relationship to the subscriber <b>SHALL</b> be present and <b>SHALL</b> be recorded in the &lt;code&gt; element underneath the &lt;participantRole&gt; element recording the member information<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.code-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The Patient Relationship to Subscriber <b>SHALL</b> be coded as 2.16.840.1.113883.1.11.18877, Coverage Role Type Value, V3NE08, STATIC<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.code.codeSystem = '2.16.840.1.113883.5.111' and (par.participantRole.code.code = 'FAMDEP' or par.participantRole.code.code='HANDIC' or par.participantRole.code.code ='INJ' or par.participantRole.code.code='SELF' or par.participantRole.code.code='SPON' or par.participantRole.code.code ='STUD' or par.participantRole.code.code='FSTUD' or par.participantRole.code.code='PSTUD')))</codeblock></li></ul></li>
<li>The state part of participant/@typeCode='COV'/participantRole/@classCode='PAT'/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.1, State Value Set, 20081218, Dynamic</li>
<li>The state part of participant/@typeCode='COV'/participantRole/@classCode='PAT'/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.63, Country Value Set, 20081218, Dynamic</li>
<li>The state part of participant/@typeCode='COV'/participantRole/@classCode='PAT'/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, 20081218, Dynamic</li>
<li>If the member name as recorded by the health plan differs from the patient name as recorded in the registration/medication summary (e.g., due to marriage or for other reasons), then the member name <b>SHALL</b> be recorded in the &lt;name&gt; element of the &lt;playingEntity&gt; element beneath the &lt;participant/@typeCode='COV'/participantRole/@classCode='PAT'&gt; element<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists (par : cda::Participant2 | par.typeCode = vocab::ParticipationType::COV and par.participantRole.classCode = vocab::RoleClassRoot::PAT and par.participantRole.playingEntity.name-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>If the member date of birth as recorded by the health plan differs from the patient date of birth as recorded in the registration/medication summary, then the member date of birth <b>SHALL</b> be recorded in the &lt;sdtc:birthTime&gt; element of the &lt;playingEntity&gt; element beneath the &lt;participant/@typeCode='COV'/participantRole/@classCode='PAT'&gt; element</li>
<li>The &lt;participant/@typeCode='HLD'&gt; element <b>SHOULD</b> be present to record Subscriber Information.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::HLD))</codeblock></li></ul></li>
<li>When the Subscriber is the patient, the &lt;participant/@typeCode='HLD'&gt; element describing the subscriber <b>SHALL NOT</b> be present. This information will be recorded instead in the data elements used to record member information</li>
<li>The participant/@typeCode='HLD'/participantRole/id element <b>SHALL</b> be present.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::HLD and par.participantRole.id-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The root attribute <b>SHOULD</b> be the OID of the assigning authority for the identifier; however, determining the assigning authority is not feasible in all settings. A GUID <b>MAY</b> be used in place of the OID of the assigning authority. Implementers <b>SHOULD</b> use the same GUID for each instance of a subscriber identifier from the same health plan<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::HLD and par.participantRole.id.root-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The participant/@typeCode='HLD'/participantRole/addr element <b>SHALL</b> be present to record the Subscriber Address.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.participant-&gt;exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::HLD and par.participantRole.addr-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The state part of participant/@typeCode='HLD'/participantRole/addr element <b>SHALL</b> be coded as  2.16.840.1.113883.3.88.12.80.1, State Value Set, 20081218, Dynamic</li>
<li>The country part of participant/@typeCode='HLD'/participantRole/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.63, Country Value Set, 20081218, Dynamic</li>
<li>The postal code part of participant/@typeCode='HLD'/participantRole/addr element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, 20081218, Dynamic</li>
<li>The subscriber date of birth <b>SHALL</b> be recorded in the &lt;sdtc:birthTime&gt; element of the &lt;playingEntity&gt; element beneath the &lt;performer/@typeCode='HLD'/participantRole&gt; element.</li>
<li><b>SHALL</b> satisfy: performer/assignedEntity/code element is used to denote the financial Responsibility Party Type.<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists(per : cda::Performer2 | per.typeCode = vocab::ParticipationPhysicalPerformer::PRF and per.assignedEntity.code-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>performer/assignedEntity/code/@code attribute <b>SHALL</b> be coded as 2.16.840.1.113883.1.11.10416, Financially Responsible Party Type Value Set, V3NE08, STATIC<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists(per : cda::Performer2 | per.assignedEntity.code.codeSystem = '2.16.840.1.113883.5.110'))</codeblock></li></ul></li>
<li>When the code of the encompassing act is PP, the code attribute value <b>SHALL</b> be set to GUAR or PAT to represent a guarantor or self-paying patient respectively</li>
<li>The code attribute <b>SHALL</b> be set to PAYOR when the code of the encompassing act is other than PP</li>
<li>performer/assignedEntity/addr <b>SHOULD</b> be present to record Financial Responsibility Party Address<ul><li><codeblock>[OCL]: self.getActs()-&gt;select(act : cda::Act | act.oclIsKindOf(ihe::PayerEntry))-&gt;forAll(a : cda::Act | a.performer-&gt;exists(per : cda::Performer2 | per.assignedEntity.addr-&gt;size() &gt; 0))</codeblock></li></ul></li>
<li>The state part of a performer/assignedEntity/addr/ element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.1, State Value Set, 20081218, Dynamic</li>
<li>The country part of a performer/assignedEntity/addr/ element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.63, Country Value Set, 20081218, Dynamic</li>
<li>The postal code part of a performer/assignedEntity/addr/ element <b>SHALL</b> be coded as 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, 20081218, Dynamic</li>
</ol>
<codeblock id="example"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<act xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:hl7-org:v3" xsi:schemaLocation="urn:hl7-org:v3 CDA.xsd" classCode="ACT" moodCode="DEF">
  <templateId root="2.16.840.1.113883.10.20.1.20"/>
  <templateId root="1.3.6.1.4.1.19376.1.5.3.1.4.17"/>
  <templateId root="2.16.840.1.113883.3.88.11.83.5"/>
  <id root="2088071209"/>
  <code code="48768-6" codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" displayName="Payment sources"/>
  <statusCode code="completed"/>
  <effectiveTime>
    <low value="2011"/>
    <high value="2011"/>
  </effectiveTime>
</act>]]></codeblock>
</body>
</topic>
