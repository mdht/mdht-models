<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.1" xmlns:xmi="http://schema.omg.org/spec/XMI/2.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:CDA="http://www.openhealthtools.org/mdht/schemas/cda/4" xmlns:Ecore="http://www.eclipse.org/uml2/schemas/Ecore/5" xmlns:uml="http://www.eclipse.org/uml2/3.0.0/UML" xsi:schemaLocation="http://www.eclipse.org/uml2/schemas/Ecore/5 pathmap://UML_PROFILES/Ecore.profile.uml#_z1OFcHjqEdy8S4Cr8Rc_NA">
  <uml:Class xmi:id="_2NIpgBSVEeGGzu7fmW9pXw" name="MedicationsSection">
    <ownedComment xmi:id="_2NP-QBSVEeGGzu7fmW9pXw" annotatedElement="_2NIpgBSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    The Medications section defines a patient's current medications and pertinent medication&#xD;
    history. At a minimum, the currently active medications should be listed, with an entire medication history as an&#xD;
    option, particularly when the summary document is used for comprehensive data export. The section may also include a&#xD;
    patient's prescription history, and enables the determination of the source of a medication list (e.g. from a pharmacy&#xD;
    system vs. from the patient).&#xD;
&lt;/p>&#xD;
&lt;p>Reconciliation of conflicting medication information from various sources is enabled both by indicating the source of information and by indicating whether the source is reporting intended or actual medication use. For instance, a physician may intend for a patient to be on a particular dose, but the patient may actually be taking a different dose; a pharmacy may fill a prescription for a particular dose only to then have the patient's physician lower the dose without notifying the pharmacy. Therefore, medication and supply activities can be expressed in CCD in either the &quot;EVN&quot; (event) mood or the &quot;INT&quot; (intent) mood. Medication activities in &quot;INT&quot; mood are not orders (which are represented in the Plan of Care section), but rather are reflections of what a clinician intends a patient to be taking. Medication activities in &quot;EVN&quot; mood reflect actual use. A pharmacy system will typically report what was actually filled (supply event), along with intended use (substance administration intent). A physician will often report intended use (substance administration and supply intent). A patient or family member will typically report actual use (substance administration event).&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_2NP-QRSVEeGGzu7fmW9pXw" annotatedElement="_2NIpgBSVEeGGzu7fmW9pXw">
      <body>The medications section shall contain a description of the relevant medications for the patient, e.g. an ambulatory&#xD;
prescription list. It shall include entries for medications as described in the Entry Content Module.</body>
    </ownedComment>
    <ownedComment xmi:id="_2NIpgRSVEeGGzu7fmW9pXw" annotatedElement="_2NIpgBSVEeGGzu7fmW9pXw">
      <body>The Medications Section contains information about the relevant medications for the patient. At a minimum, the currently active medications should be listed.</body>
    </ownedComment>
    <ownedRule xmi:id="_2NJ3shSVEeGGzu7fmW9pXw" name="hasMedicationOrSupplyActivity">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2NJ3sxSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.getSubstanceAdministrations()->exists(activity : cda::SubstanceAdministration | activity.oclIsKindOf(consol::MedicationActivity))&#xD;&#xA;   or self.getSupplies()->exists(activity : cda::Supply | activity.oclIsKindOf(consol::SupplyActivity))</body>
        <body>Clinical statements include one or more Medication Activity and/or one or more Supply Activity.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2NJ3tRSVEeGGzu7fmW9pXw" name="absenceOfMedications">
      <ownedComment xmi:id="_2NJ3thSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2NJ3txSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>The absence of known medications is explicitly asserted.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2NJ3uRSVEeGGzu7fmW9pXw" name="titleValue">
      <ownedComment xmi:id="_2NJ3uhSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2NJ3uxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>Valued with a case-insensitive language-insensitive string containing 'medication'.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2NJ3vRSVEeGGzu7fmW9pXw" name="hasDosing">
      <ownedComment xmi:id="_2NJ3vhSVEeGGzu7fmW9pXw">
        <body>There are a variety of special cases for dosing that need to be accounted for. &#xD;
Most of these special cases involve changing the dosage or frequency over time, or based on&#xD;
some measurement. When the dosage changes, then additional entries are required for each differing dosage.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2NJ3vxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>Contains one dosing template to identify this as a particular type of medication event. Possible dosing templates: 1.3.6.1.4.1.19376.1.5.3.1.4.7.1 Normal Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.8, Tapered Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.9 Split Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.10 Conditional Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.11 Combination Dosing.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2NJ3wRSVEeGGzu7fmW9pXw" name="DosingRelationship">
      <ownedComment xmi:id="_2NJ3whSVEeGGzu7fmW9pXw">
        <body>n the first three cases, the subordinate components shall specify only the changed &amp;lt;frequency>&#xD;
and/or &amp;lt;doseAmount> elements. For conditional dosing, each subordinate component shall have&#xD;
a &amp;lt;precondition> element that specifies the &amp;lt;observation> that must be obtained before&#xD;
administration of the dose. The value of the &amp;lt;sequenceNumber> shall be an ordinal number,&#xD;
starting at 1 for the first component, and increasing by 1 for each subsequent component.&#xD;
Components shall be sent in &amp;lt;sequenceNumber> order.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2NJ3wxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>contains one or more related components (&lt;entryRelationship typeCode='COMP'>, either to handle split, tapered or conditional dosing, or to support combination medications.</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_UeEpoBVgEeGQCvUGzi1kDQ" general="_iAoXEBVdEeGQCvUGzi1kDQ"/>
    <ownedAttribute xmi:id="_2NJ3pBSVEeGGzu7fmW9pXw" name="code" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2NJ3phSVEeGGzu7fmW9pXw" name="title" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_EaTNsDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2NJ3qBSVEeGGzu7fmW9pXw" name="text" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_0jvq8E8AEd6ohP_YEXs4Wg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2NJ3qRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2NJ3qhSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2NIpgxSVEeGGzu7fmW9pXw" name="medication" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_2NJ3oRSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2NIphBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2NIphRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="_2NJ3oRSVEeGGzu7fmW9pXw" memberEnd="_2NIpgxSVEeGGzu7fmW9pXw _2NJ3ohSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2NJ3ohSVEeGGzu7fmW9pXw" type="_2NIpgBSVEeGGzu7fmW9pXw" association="_2NJ3oRSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <CDA:CDATemplate xmi:id="_2NIphhSVEeGGzu7fmW9pXw" base_Class="_2NIpgBSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.22.2.1.1"/>
  <CDA:ConstraintValidation xmi:id="_2NJ3tBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2NJ3shSVEeGGzu7fmW9pXw">
    <ruleId>CONF-298</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2NJ3uBSVEeGGzu7fmW9pXw" base_Constraint="_2NJ3tRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-299</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2NJ3vBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2NJ3uRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-303</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2NJ3wBSVEeGGzu7fmW9pXw" base_Constraint="_2NJ3vRSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2NJ3xBSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2NJ3wRSVEeGGzu7fmW9pXw"/>
  <CDA:CodeSystemConstraint xmi:id="_2NJ3pRSVEeGGzu7fmW9pXw" code="10160-0" displayName="History of medication use" base_Property="_2NJ3pBSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_3-cwsCWrEd-iTYfpNb4PkQ"/>
    <ruleId>CONF-300</ruleId>
    <ruleId>CONF-301</ruleId>
  </CDA:CodeSystemConstraint>
  <CDA:PropertyValidation xmi:id="_2NJ3pxSVEeGGzu7fmW9pXw" base_Property="_2NJ3phSVEeGGzu7fmW9pXw">
    <ruleId>CONF-302</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2NJ3qxSVEeGGzu7fmW9pXw" base_Property="_2NJ3qBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-298</ruleId>
  </CDA:PropertyValidation>
  <CDA:AssociationValidation xmi:id="_2NJ3oxSVEeGGzu7fmW9pXw" base_Association="_2NJ3oRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[CT-112-2]</ruleId>
  </CDA:AssociationValidation>
  <uml:Class xmi:id="_2GHbgBSVEeGGzu7fmW9pXw" name="MedicationActivity">
    <ownedComment xmi:id="_2H1SwBSVEeGGzu7fmW9pXw" annotatedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <body>&lt;p>A medication activity is used to describe what is administered.&lt;/p>&#xD;
&lt;p>An indication describes the rationale for a medication activity. The indication can be an existing problem or can be a criterion that if met would warrant the activity. Criteria are typically associated with PRN (from the Latin &quot;pro re nata&quot;, meaning &quot;as needed&quot;) medications (e.g. &quot;give Medication X as needed for nausea&quot;).&lt;/p>&#xD;
&lt;p>A reaction represents an adverse event due to an administered substance. Significant reactions are to be listed in the Alerts section. Reactions in the Medications section can be used to track reactions associated with individual substance administrations or to track routine follow up to an administration (e.g. &quot;no adverse reaction 30 minutes post administration&quot;).&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_2H1SwRSVEeGGzu7fmW9pXw" annotatedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
This content module describes the general structure for a medication. All medication administration acts will be derived&#xD;
from this content module.&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
The &amp;lt;substanceAdministration> element may contain subordinate&#xD;
&amp;lt;substanceAdministration> elements in a related component entry to deal with special cases (see&#xD;
the section below on Special Cases). These cases include split, tapered, or conditional dosing, or&#xD;
combination medications. The use of subordinate &amp;lt;substanceAdministration> elements to deal with these cases is optional. The comment field should always be used in these cases to provide&#xD;
the same information as free text in the top level &amp;lt;substanceAdministration> element.&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedRule xmi:id="_2HpskRSVEeGGzu7fmW9pXw" name="moodCode">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HqToBSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.moodCode=vocab::x_DocumentSubstanceMood::EVN or self.moodCode=vocab::x_DocumentSubstanceMood::INT </body>
        <body>Value for moodCode is &quot;EVN&quot; or &quot;INT&quot; 2.16.840.1.113883.5.1001 ActMood STATIC</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HqTohSVEeGGzu7fmW9pXw" name="hasDoseQuantityOrRateQuantity">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HqToxSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>not self.doseQuantity.oclIsUndefined() or not self.rateQuantity.oclIsUndefined()</body>
        <body>Contains exactly one doseQuantity or rateQuantity.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hq6sBSVEeGGzu7fmW9pXw" name="hasConsents">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hq6sRSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.getClinicalDocument().authorization->size() > 0 and self.getClinicalDocument().authorization.consent->size() > 0</body>
        <body>Has one or more associated consents, represented in the CCD Header as ClinicalDocument / authorization / consent.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HrhwBSVEeGGzu7fmW9pXw" name="informationSource">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HrhwRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more sources of information.</body>
        <body>not self.informant->isEmpty() &#xD;&#xA;or not self.getSection().informant->isEmpty()&#xD;&#xA;or not self.getClinicalDocument().informant->isEmpty()&#xD;&#xA;or self.reference->exists(ref : cda::Reference | ref.typeCode = vocab::x_ActRelationshipExternalReference::XCRPT)&#xD;&#xA;or (self.entryRelationship->exists(rel : cda::EntryRelationship | &#xD;&#xA;   rel.typeCode = vocab::x_ActRelationshipEntryRelationship::REFR&#xD;&#xA;   and rel.observation.code.code = '48766-0'))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HsI0BSVEeGGzu7fmW9pXw" name="hasPreconditionCriterion">
      <ownedComment xmi:id="_2HsI0RSVEeGGzu7fmW9pXw">
        <body>Indicates that the medication is administered only when the associated (coded or free text) criteria are met.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HsI0hSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more precondition / Criterion, to indicate that the medication is administered only when the associated (coded or free text) criteria are met.</body>
        <body>self.precondition->exists(precondition : cda::Precondition | not precondition.criterion.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hsv4BSVEeGGzu7fmW9pXw" name="hasReason">
      <ownedComment xmi:id="_2Hsv4RSVEeGGzu7fmW9pXw">
        <body>The target of the relationship represents the indication for the activity.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hsv4hSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more entryRelationship, where the value for @typeCode is &quot;RSON&quot; &quot;Has reason&quot; 2.16.840.1.113883.5.1002 ActRelationshipType STATIC.</body>
        <body>self.entryRelationship->exists(entryRel : cda::EntryRelationship | entryRel.typeCode = vocab::x_ActRelationshipEntryRelationship::RSON)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hsv5BSVEeGGzu7fmW9pXw" name="hasReasonProblem">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hsv5RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>entryRelationship / @typeCode=&quot;RSON&quot; in a medication activity has a target of problem act (templateId 2.16.840.1.113883.10.20.1.27), problem observation (templateId 2.16.840.1.113883.10.20.1.28), or some other clinical statement.</body>
        <body>self.getEntryRelationshipTargets(vocab::x_ActRelationshipEntryRelationship::RSON, cda::ClinicalStatement)->forAll(target : &#xD;&#xD;&#xA;cda::ClinicalStatement | not target.oclIsUndefined() and &#xD;&#xA;  (target.oclIsKindOf(consol::ProblemConcernAct) or target.oclIsKindOf(consol::ProblemObservation)))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HtW8RSVEeGGzu7fmW9pXw" name="hasProduct">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HtW8hSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains exactly one consumable, the target of which is a Product template.</body>
        <body>self.consumable.manufacturedProduct.oclIsKindOf(consol::Product)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Ht-ABSVEeGGzu7fmW9pXw" name="hasDosing">
      <ownedComment xmi:id="_2Ht-ARSVEeGGzu7fmW9pXw">
        <body>There are a variety of special cases for dosing that need to be accounted for. &#xD;
Most of these special cases involve changing the dosage or frequency over time, or based on&#xD;
some measurement. When the dosage changes, then additional entries are required for each differing dosage.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Ht-AhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one dosing template to identify this entry as a particular type of medication event. Possible dosing templates: 1.3.6.1.4.1.19376.1.5.3.1.4.7.1 Normal Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.8, Tapered Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.9 Split Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.10 Conditional Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.11 Combination Dosing.</body>
        <body>self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.7.1') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.8') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.9') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.10') xor self.templateId->exists(id : datatypes::II | id.root =  '1.3.6.1.4.1.19376.1.5.3.1.4.11')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Ht-AxSVEeGGzu7fmW9pXw" name="DosingRelationship">
      <ownedComment xmi:id="_2Ht-BBSVEeGGzu7fmW9pXw">
        <body>n the first three cases, the subordinate components shall specify only the changed &amp;lt;frequency>&#xD;
and/or &amp;lt;doseAmount> elements. For conditional dosing, each subordinate component shall have&#xD;
a &amp;lt;precondition> element that specifies the &amp;lt;observation> that must be obtained before&#xD;
administration of the dose. The value of the &amp;lt;sequenceNumber> shall be an ordinal number,&#xD;
starting at 1 for the first component, and increasing by 1 for each subsequent component.&#xD;
Components shall be sent in &amp;lt;sequenceNumber> order.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Ht-BRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>contains one or more related components (&lt;entryRelationship typeCode='COMP'>, either to handle split, tapered or conditional dosing, or to support combination medications.</body>
        <body>self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.8') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.9') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.10') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.11') implies self.entryRelationship->exists(er | er.typeCode=vocab::x_ActRelationshipEntryRelationship::COMP)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Ht-BhSVEeGGzu7fmW9pXw" name="hasDescriptionNoMedNotKnown">
      <ownedComment xmi:id="_2Ht-BxSVEeGGzu7fmW9pXw">
        <body>&lt;p>&#xD;
182904002 &quot;Drug Treatment Unknown&quot; (To indicate lack of knowledge about drug therapy)&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
182849000 &quot;No Drug Therapy Prescribed&quot; (To indicate the absense of any prescribed medications)&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
408350003 &quot;Patient Not On Self-Medications&quot; (To indicate no treatment)&#xD;
&lt;/p></body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Ht-CBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Values from SNOMED CT shall be used in the &lt;code> element to record that a patient is either not on medications, or that medications are not known.</body>
        <body>true</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HulERSVEeGGzu7fmW9pXw" name="ReasonClassMood">
      <ownedComment xmi:id="_2HulEhSVEeGGzu7fmW9pXw">
        <body>self.internalReference->exists(ir : consol::InternalReference | ar.classCode &amp;lt;> 'ACT' or ar.moodCode &amp;lt;> 'EVN')</body>
      </ownedComment>
      <ownedComment xmi:id="_2HulExSVEeGGzu7fmW9pXw">
        <body>OCL Issue - What is the internalReference relationship?  unable to get OCL to reference</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HulFBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The act/@classCode='ACT' and act/@moodCode='EVN' when recording reason for medication in InternalReference Template.</body>
        <body>true</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HvMIBSVEeGGzu7fmW9pXw" name="hasProductEntry">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HvMIRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;consumable> element shall be present, and shall contain a Product Entry template</body>
        <body>self.consumable.manufacturedProduct.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.7.2')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HvzMBSVEeGGzu7fmW9pXw" name="hasIntructionsInversion">
      <ownedComment xmi:id="_2HvzMRSVEeGGzu7fmW9pXw">
        <body>OCL Issue - What is the patientInstructions relationship?  unable to get OCL to reference</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HvzMhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The entryRelationship/@inversionInd attribute is 'true' for Patient Medical Instructions relationship</body>
        <body>self.entryRelationship->forAll( er : cda::EntryRelationship | (not er.act.oclIsKindOf(consol::PatientMedicalInstructions)) or ( er.inversionInd = true and er.act.oclIsKindOf(consol::PatientMedicalInstructions))  )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HwaQBSVEeGGzu7fmW9pXw" name="ProductStrength">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HwaQRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The name and strength of the medication is recorded in consumable/manufacturedProduct/manufacturedMaterial/code/originalText</body>
        <body>not self.consumable.manufacturedProduct.manufacturedMaterial.code.oclIsUndefined() implies not self.consumable.manufacturedProduct.manufacturedMaterial.code.originalText.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HwaQxSVEeGGzu7fmW9pXw" name="ProductName">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HwaRBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Name of the substance or product is recorded in consumable/manufacturedProduct/manufacturedMaterial/name</body>
        <body>not self.consumable.manufacturedProduct.manufacturedMaterial.name.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HxBURSVEeGGzu7fmW9pXw" name="PreconditionReference">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HxBUhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>the preconditions for use of the medication are recorded in the&#xD;&#xA;&lt;precondition> element. element. The value attribute of the &lt;reference> element is a URL that points to&#xD;&#xA;the CDA narrative describing those preconditions.</body>
        <body>not self.precondition.criterion.text->exists (t | t.reference.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HxoYBSVEeGGzu7fmW9pXw" name="hasSupplyEntryInversion">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HxoYRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The entryRelationship/@inversionInd attribute is 'false' for Supply Entry relationship</body>
        <body>not self.entryRelationship->exists(er : cda::EntryRelationship | (not er.supply->isEmpty()) and er.inversionInd&lt;>false )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HyPcBSVEeGGzu7fmW9pXw" name="hasFillNumber">
      <ownedComment xmi:id="_2HyPcRSVEeGGzu7fmW9pXw">
        <body>The prescription activity may have a &amp;lt;sequenceNumber> element to indicate the fill number. A&#xD;
value of 1, 2 or N indicates that it is the first, second, or Nth fill respectively of a specific&#xD;
prescription.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HyPchSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>entryRelationship/sequenceNumber element should be present when the embedded 'supply' element has a&#xD;&#xA;moodCode attribute of EVN.</body>
        <body>not self.entryRelationship->exists(er| (not er.supply->isEmpty()) and er.sequenceNumber.value.oclIsUndefined() )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbgRSVEeGGzu7fmW9pXw" name="medicationStopped" constrainedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2GHbghSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbgxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>The time at which the medication was stopped is determined based on the content of the &amp;lt;high> element of the first &amp;lt;effectiveTime> element.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbhBSVEeGGzu7fmW9pXw" name="administrativeTiming" constrainedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2GHbhRSVEeGGzu7fmW9pXw">
        <body>defines a specific administration or&#xD;
use time. Can be a text string (Morning, Evening,&#xD;
Before Meals, 1 Hour After Meals, 3 Hours After&#xD;
Meals, Before Bed) or an exact time</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbhhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>The HL7 data type for PIVL_TS uses the institutionSpecified attribute to indicate whether it is the interval (time between dosing), or frequency (number of doses in a time period) that is important. If instititutionSpecified is not present or is set to false, then the time between dosing is important (every 8 hours). If true, then the frequency of administration is important (e.g., 3 times per day).</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbhxSVEeGGzu7fmW9pXw" name="firstEffectiveTimeDatatype" constrainedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbiBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The first &amp;lt;effectiveTime> SHALL use the IVL_TS data type unless for a single administration, in which case, it SHALL use the TS data type.</body>
        <body>self.effectiveTime->exists (ef : datatypes::SXCM_TS | not ef.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbiRSVEeGGzu7fmW9pXw" name="dailyLivingActivities" constrainedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbihSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>Medications that are administered based on activities of daily living SHALL identify the events that trigger administration in the &amp;lt;event> element beneath the &amp;lt;effectiveTime> element. The &amp;lt;effectiveTime> element SHALL be of type EIVL_TS.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbixSVEeGGzu7fmW9pXw" name="specifiedFrequency" constrainedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2GHbjBSVEeGGzu7fmW9pXw">
        <body>defines how often the medication is&#xD;
to be administered as events per unit of time. Often&#xD;
expressed as the number of times per day (e.g., four&#xD;
times a day), but may also include event-related&#xD;
information (e.g., 1 hour before meals, in the morning,&#xD;
at bedtime). Complimentary to Interval, although&#xD;
equivalent expressions may have different&#xD;
implications (e.g., every 8 hours versus 3 times a day)</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbjRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>Medications that are administered at a specified frequency SHALL record the expected interval between doses in the &amp;lt;period> element beneath an &amp;lt;effectiveTime> of type PIVL_TS. The &amp;lt;effectiveTime> element SHALL have an institutionSpecified attribute value of &quot;true&quot;.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbjhSVEeGGzu7fmW9pXw" name="specifiedInterval" constrainedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2GHbjxSVEeGGzu7fmW9pXw">
        <body>defines how the product is to be&#xD;
administered as an interval of time. For example,&#xD;
every 8 hours. Complimentary to Frequency, although&#xD;
equivalent expressions may have different&#xD;
implications (e.g., every 8 hours versus 3 times a day)</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbkBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>Medications that are administered at a specified interval SHALL record interval between doses in the &amp;lt;period> element beneath an &amp;lt;effectiveTime> element of type PIVL_TS. The &amp;lt;effectiveTime> element SHALL have an institutionSpecified attribute value of &quot;false&quot;.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbkRSVEeGGzu7fmW9pXw" name="doseUnits" constrainedElement="_2GHbjhSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbkhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>doseQuantity/@unit, Dose Units MAY be present when needed. If present it SHALL be coded as 2.16.840.1.113883.3.88.12.80.29 Unit of Measure</body>
        <body>self.doseQuantity->exists(dq : datatypes::IVL_PQ | dq.unit='2.16.840.1.113883.3.88.12.80.29')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbkxSVEeGGzu7fmW9pXw" name="medicationStrengthUnit" constrainedElement="_2GHbkRSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHblBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>When the coded product or brand name describes the strength or concentration of the medication, and the dosing is in administration units (e.g., 1 tablet, 2 capsules), units SHOULD contain the preferred name of the presentation units within braces { } using the units of presentation from the NCI Thesaurus</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHblRSVEeGGzu7fmW9pXw" name="deliveryMethodDescription">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHblhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The free text description of the delivery method MAY be included within a &lt;originalText> element beneath the &lt;code> element</body>
        <body>not self.code.originalText.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHblxSVEeGGzu7fmW9pXw" name="hasMedicationInformation" constrainedElement="_2GHbgBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbmBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one consumable element which contains the Medication Information template. The name and code for the medication are recorded in the &lt;consumable> element.</body>
        <body>self.consumable.manufacturedProduct->exists(mp : cda::ManufacturedProduct | mp.oclIsKindOf(consol::MedicationInformation))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbmRSVEeGGzu7fmW9pXw" name="hasStatusOfMedication" constrainedElement="_2GHblxSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2GHbmhSVEeGGzu7fmW9pXw">
        <body>If the medication is Active, Discharged, Chronic,&#xD;
Acute, etc</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbmxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The medication status MAY be recorded using the CCD Medication Status observation using the value set defined in the CCD</body>
        <body>self.getObservations()->exists(po : cda::Observation |  po.oclIsKindOf(consol::MedicationStatusObservation))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbnBSVEeGGzu7fmW9pXw" name="hasIndication" constrainedElement="_2GHbmRSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2GHbnRSVEeGGzu7fmW9pXw">
        <body>The medical condition or problem&#xD;
intended to be addressed by the ordered product. For&#xD;
example: for chest pain, for pain, for high blood&#xD;
pressure</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbnhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>MAY contain [0..*] indications which SHALL be recorded using the Indication problem observation (templateID 2.16.840.1.113883.10.20.1.28) described in the CCD Implementation Guide.</body>
        <body>self.getObservations()->exists(po : cda::Observation | po.oclIsKindOf(consol::ProblemObservation))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbnxSVEeGGzu7fmW9pXw" name="hasIndicationNarrativeText" constrainedElement="_2GHbnBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHboBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The indication problem observation SHALL contain a &lt;text> element that includes a &lt;reference> element whose value attribute points to the narrative text that is the indication for the medication</body>
        <body>self.getObservations()->exists(po : cda::Observation | po.oclIsKindOf(consol::ProblemObservation) and not po.text.reference.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHboRSVEeGGzu7fmW9pXw" name="hasIndicationVocab" constrainedElement="_2GHbnBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbohSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The indication SHALL be coded as 2.16.840.1.113883.3.88.12.3221.7.4, Problem Value Set, version: 20100125, Dynamic</body>
        <body>self.getObservations()->exists(po : cda::Observation | po.oclIsKindOf(consol::ProblemObservation) and po.code.codeSystem = '2.16.840.1.113883.6.96')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHboxSVEeGGzu7fmW9pXw" name="hasPatientInstructions" constrainedElement="_2GHboRSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2GHbpBSVEeGGzu7fmW9pXw">
        <body>&lt;p>&#xD;
Instructions to the patient that are not traditionally part&#xD;
of the Sig. For example, &quot;keep in the refrigerator.&quot;&#xD;
More extensive patient education materials can also&#xD;
be included&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
External patient educational materials can be referenced with an appropriate URL entry in the text/ reference/value.&#xD;
&lt;/p></body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbpRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>MAY contain Patient Instructions which SHALL be recorded using the Patient Medication Instructions template (templateID 1.3.6.1.4.1.19376.1.5.3.1.4.3)</body>
        <body>self.getActs()->exists(po : cda::Act | po.oclIsKindOf(consol::PatientMedicalInstructions))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbphSVEeGGzu7fmW9pXw" name="hasMedicationVehicle" constrainedElement="_2GHboxSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2GHbpxSVEeGGzu7fmW9pXw">
        <body>Non-active ingredient(s), or&#xD;
substances not of therapeutic interest, in which the&#xD;
active ingredients are dispersed. Most often applied to&#xD;
liquid products where the major fluid component is&#xD;
considered the vehicle. For example: Normal Saline is&#xD;
the vehicle in &quot;Ampicillin 150mg in 50ml NS&quot;;&#xD;
Aquaphor is the vehicle in &quot;10% LCD in Aquaphor&quot;</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbqBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The vehicle for administering a medication MAY be recorded in a &lt;participantRole> element inside a &lt;participant> element in the &lt;substanceAdministration> element</body>
        <body>self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant.participantRole->size() > 0)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbqRSVEeGGzu7fmW9pXw" name="medicationVehicleType" constrainedElement="_2GHbphSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbqhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The typeCode attribute of the &lt;participant> element SHALL be CSM</body>
        <body>self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant->size() > 0) implies self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant->exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::CSM))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbqxSVEeGGzu7fmW9pXw" name="medicationVehicleClass" constrainedElement="_2GHbqRSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbrBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The classCode of the &lt;participantRole> SHALL be MANU</body>
        <body>self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant.participantRole->size() > 0) implies self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant->exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::CSM and par.participantRole->exists(pr : cda::ParticipantRole | pr.classCode = vocab::RoleClassRoot::MANU)))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbrRSVEeGGzu7fmW9pXw" name="medicationVehicleCode" constrainedElement="_2GHbqxSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbrhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>A &lt;code> element for the &lt;participantRole> SHALL be present and SHALL contain the code 412307009 from the SNOMED CT code system</body>
        <body>self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant.participantRole->size() > 0) implies self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant->exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::CSM and par.participantRole->exists(pr : cda::ParticipantRole | pr.classCode = vocab::RoleClassRoot::MANU and pr.code.code = '412307009' and pr.code.codeSystem = '2.16.840.1.113883.6.96')))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbrxSVEeGGzu7fmW9pXw" name="medicationVehicleName" constrainedElement="_2GHbrRSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbsBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;name> element in the &lt;playingEntity> element SHALL record the name of the drug vehicle</body>
        <body>self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant.participantRole->size() > 0) implies self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant->exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::CSM and par.participantRole->exists(pr : cda::ParticipantRole | pr.classCode = vocab::RoleClassRoot::MANU and pr.code.code = '412307009' and pr.code.codeSystem = '2.16.840.1.113883.6.96' and pr.playingEntity.name->size() > 0)))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbsRSVEeGGzu7fmW9pXw" name="medicationVehicleCodedName" constrainedElement="_2GHbrxSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbshSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;code> element in the &lt;playingEntity> element MAY be used to supply a coded term for the drug vehicle</body>
        <body>self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant.participantRole->size() > 0) implies self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant->exists(par : cda::Participant2 | par.typeCode =vocab::ParticipationType::CSM and par.participantRole->exists(pr : cda::ParticipantRole | pr.classCode = vocab::RoleClassRoot::MANU and pr.code.code = '412307009' and pr.code.codeSystem = '2.16.840.1.113883.6.96' and pr.playingEntity.code->size() > 0)))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GHbsxSVEeGGzu7fmW9pXw" name="medicationVehicleCodedNameVocab" constrainedElement="_2GHbsRSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GHbtBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The Medication Vehicle shall be coded as 2.16.840.1.113883.3.88.12.80.21, Medication Vehicle Value Set, version: 20081218, Dynamic</body>
        <body>self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant.participantRole->size() > 0) implies self.getSubstanceAdministrations()->exists(sa : cda::SubstanceAdministration | sa.participant->exists(par : cda::Participant2 | par.typeCode = vocab::ParticipationType::CSM and par.participantRole->exists(pr : cda::ParticipantRole | pr.classCode = vocab::RoleClassRoot::MANU and pr.code.code = '412307009' and pr.code.codeSystem = '2.16.840.1.113883.6.96' and pr.playingEntity.code->size() > 0 and pr.playingEntity.code.codeSystem = '2.16.840.1.113883.6.96')))</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2H1SwhSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_nazskEbuEd6besF9iFIJkQ"/>
    </generalization>
    <ownedAttribute xmi:id="_2GkHcBSVEeGGzu7fmW9pXw" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2GkHcRSVEeGGzu7fmW9pXw" name="SBADM">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdc0DcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GkugRSVEeGGzu7fmW9pXw" name="moodCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zOpxEDcEd6xYZuu1VKCVw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GkugxSVEeGGzu7fmW9pXw" name="id" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_culQ8DxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GkuhBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GkuhRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHb0hSVEeGGzu7fmW9pXw" name="code" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2GHb0xSVEeGGzu7fmW9pXw">
        <body>Delivery Method: A description of how the product is&#xD;
administered/consumed</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHb1BSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHb1RSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GlVkBSVEeGGzu7fmW9pXw" name="statusCode" visibility="private" isReadOnly="true">
      <ownedComment xmi:id="_2GlVkRSVEeGGzu7fmW9pXw">
        <body>The status of all 'substanceAdministration' elements must be &quot;completed&quot;. The act has either&#xD;
occurred, or the request or order has been placed.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GlVkhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GlVkxSVEeGGzu7fmW9pXw" value="1"/>
      <defaultValue xmi:type="uml:LiteralString" xmi:id="_2GlVlBSVEeGGzu7fmW9pXw" value="completed"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHbthSVEeGGzu7fmW9pXw" name="effectiveTime" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2GHbtxSVEeGGzu7fmW9pXw">
        <body>Indicate Medication Stopped: Used to express a &quot;hard stop,&quot; such as the last Sig sequence in a tapering dose, where the last sequence is 'then D/C' or where the therapy/drug is used to treat a condition and that treatment is for a fixed duration with a hard stop, such as antibiotic treatment, etc.</body>
      </ownedComment>
      <ownedComment xmi:id="_2GHbuBSVEeGGzu7fmW9pXw">
        <body>Administration Timing: defines a specific administration or use time. Can be a text string (Morning, Evening, Before Meals, 1 Hour After Meals, 3 Hours After Meals, Before Bed) or an exact time.</body>
      </ownedComment>
      <ownedComment xmi:id="_2GHbuRSVEeGGzu7fmW9pXw">
        <body>Frequency: defines how often the medication is to be administered as events per unit of time. Often expressed as the number of times per day (e.g., four times a day), but may also include event-related information (e.g., 1 hour before meals, in the morning, at bedtime). Complimentary to Interval, although equivalent expressions may have different implications (e.g., every 8 hours versus 3 times a day).</body>
      </ownedComment>
      <ownedComment xmi:id="_2GHbuhSVEeGGzu7fmW9pXw">
        <body>Interval: defines how the product is to be administered as an interval of time. For example, every 8 hours. Complimentary to Frequency, although equivalent expressions may have different implications (e.g., every 8 hours versus 3 times a day).</body>
      </ownedComment>
      <ownedComment xmi:id="_2GHbuxSVEeGGzu7fmW9pXw">
        <body>Duration: for non-instantaneous administrations, indicates the length of time the administration should be continued. For example, (infuse) over 30 minutes.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_QYeW4D5-Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHbvBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHbvRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHbvhSVEeGGzu7fmW9pXw" name="routeCode" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2GHbvxSVEeGGzu7fmW9pXw">
        <body>The route is a coded value, and indicates how the medication is received by the patient (by mouth, intravenously, topically, et cetera).</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHbwBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHbwRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHbzhSVEeGGzu7fmW9pXw" name="approachSiteCode" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2GHbzxSVEeGGzu7fmW9pXw">
        <body>The anatomic site where the&#xD;
medication is administered. Usually applicable to&#xD;
injected or topical products</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHb0BSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHb0RSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHbwhSVEeGGzu7fmW9pXw" name="doseQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2GHbwxSVEeGGzu7fmW9pXw">
        <body>the amount of the product to be&#xD;
given. This may be a known, measurable unit (e.g.,&#xD;
milliliters), an administration unit (e.g., tablet), or an&#xD;
amount of active ingredient (e.g., 250 mg). May define&#xD;
a variable dose, dose range or dose options based&#xD;
upon identified criteria (see Dose Indicator)</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_1VHHUErrEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHbxBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHbxRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GmjsBSVEeGGzu7fmW9pXw" name="rateQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2GmjsRSVEeGGzu7fmW9pXw">
        <body>The rate is a measurement of how fast the dose is given to the patient over time (e.g., .5 liter / 1 hr), and is often used with IV drugs.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_1VHHUErrEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GmjshSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GmjsxSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHbyhSVEeGGzu7fmW9pXw" name="maxDoseQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2GHbyxSVEeGGzu7fmW9pXw">
        <body>defines a maximum or dose limit.&#xD;
This segment can repeat for more than one dose&#xD;
restriction</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_IZ0HUErsEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHbzBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHbzRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHbxhSVEeGGzu7fmW9pXw" name="administrationUnitCode" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2GHbxxSVEeGGzu7fmW9pXw">
        <body>The physical form of the product as presented to the&#xD;
patient. For example: tablet, capsule, liquid or&#xD;
ointment</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHbyBSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHbyRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GnKwBSVEeGGzu7fmW9pXw" name="consumable" visibility="private" type="_2T9DQBSVEeGGzu7fmW9pXw" aggregation="composite" association="_2Gnx0BSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GnKwRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GnKwhSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2G10QBSVEeGGzu7fmW9pXw" name="performer" association="_2G10QxSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_HP8qoEcaEd6besF9iFIJkQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_JnvyMBUREeG6PvUxSTZnaw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_JnvyMRUREeG6PvUxSTZnaw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2G8h8hSVEeGGzu7fmW9pXw" name="instructions" association="_2HCokBSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="consol-other.uml#_2G8h9RSVEeGGzu7fmW9pXw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2G8h8xSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2G8h9BSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHb2BSVEeGGzu7fmW9pXw" name="medicationSupplyOrder" type="_2HIvMBSVEeGGzu7fmW9pXw" association="_2GjgYxSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHb2RSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHb2hSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GHb2xSVEeGGzu7fmW9pXw" name="reactionObservation" association="_2GjgZRSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="consol-allergies.uml#_2E_aIRSVEeGGzu7fmW9pXw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2GHb3BSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2GHb3RSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_7USBsBUSEeG6PvUxSTZnaw" name="indication" association="_7USBshUSEeG6PvUxSTZnaw">
      <type xmi:type="uml:Class" href="consol-other.uml#_sHrUoBUSEeG6PvUxSTZnaw"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_7USBsRUSEeG6PvUxSTZnaw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_H7DfgBUUEeG6PvUxSTZnaw" name="medicationDispense" type="_DpoGkBUUEeG6PvUxSTZnaw" association="_H7DfghUUEeG6PvUxSTZnaw">
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_H7DfgRUUEeG6PvUxSTZnaw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_tZP_UBUUEeG6PvUxSTZnaw" name="precondition" type="_chEhQBUUEeG6PvUxSTZnaw" association="_tZZwUBUUEeG6PvUxSTZnaw">
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_tZP_URUUEeG6PvUxSTZnaw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_U6R5kBUVEeG6PvUxSTZnaw" name="drugVehicle" type="_VBXq8BUTEeG6PvUxSTZnaw" association="_U6R5khUVEeG6PvUxSTZnaw">
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_U6R5kRUVEeG6PvUxSTZnaw"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="_2Gnx0BSVEeGGzu7fmW9pXw" memberEnd="_2GnKwBSVEeGGzu7fmW9pXw _2Gnx0RSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2Gnx0RSVEeGGzu7fmW9pXw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_2Gnx0BSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2G10QxSVEeGGzu7fmW9pXw" memberEnd="_2G10QBSVEeGGzu7fmW9pXw _2G10RBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2G10RBSVEeGGzu7fmW9pXw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_2G10QxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2HCokBSVEeGGzu7fmW9pXw" memberEnd="_2G8h8hSVEeGGzu7fmW9pXw _2HCokRSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2HCokRSVEeGGzu7fmW9pXw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_2HCokBSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2GjgYxSVEeGGzu7fmW9pXw" memberEnd="_2GHb2BSVEeGGzu7fmW9pXw _2GjgZBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2GjgZBSVEeGGzu7fmW9pXw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_2GjgYxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2GjgZRSVEeGGzu7fmW9pXw" memberEnd="_2GHb2xSVEeGGzu7fmW9pXw _2GjgZhSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2GjgZhSVEeGGzu7fmW9pXw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_2GjgZRSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_7USBshUSEeG6PvUxSTZnaw" memberEnd="_7USBsBUSEeG6PvUxSTZnaw _7USBsxUSEeG6PvUxSTZnaw">
    <ownedEnd xmi:id="_7USBsxUSEeG6PvUxSTZnaw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_7USBshUSEeG6PvUxSTZnaw"/>
  </uml:Association>
  <uml:Association xmi:id="_H7DfghUUEeG6PvUxSTZnaw" memberEnd="_H7DfgBUUEeG6PvUxSTZnaw _H7DfgxUUEeG6PvUxSTZnaw">
    <ownedEnd xmi:id="_H7DfgxUUEeG6PvUxSTZnaw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_H7DfghUUEeG6PvUxSTZnaw"/>
  </uml:Association>
  <uml:Association xmi:id="_tZZwUBUUEeG6PvUxSTZnaw" memberEnd="_tZP_UBUUEeG6PvUxSTZnaw _tZZwURUUEeG6PvUxSTZnaw">
    <ownedEnd xmi:id="_tZZwURUUEeG6PvUxSTZnaw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_tZZwUBUUEeG6PvUxSTZnaw"/>
  </uml:Association>
  <uml:Association xmi:id="_U6R5khUVEeG6PvUxSTZnaw" memberEnd="_U6R5kBUVEeG6PvUxSTZnaw _U6R5kxUVEeG6PvUxSTZnaw">
    <ownedEnd xmi:id="_U6R5kxUVEeG6PvUxSTZnaw" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_U6R5khUVEeG6PvUxSTZnaw"/>
  </uml:Association>
  <CDA:CDATemplate xmi:id="_-vKWgBnbEeGs5a462vYX5Q" base_Class="_2GHbgBSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.22.4.16"/>
  <CDA:ConstraintValidation xmi:id="_2HqToRSVEeGGzu7fmW9pXw" base_Constraint="_2HpskRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-305</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HqTpBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HqTohSVEeGGzu7fmW9pXw">
    <ruleId>CONF-311</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Hq6shSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2Hq6sBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-314</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HrhwhSVEeGGzu7fmW9pXw" base_Constraint="_2HrhwBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-315</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HsI0xSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2HsI0BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-327</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Hsv4xSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2Hsv4BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-328</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HtW8BSVEeGGzu7fmW9pXw" base_Constraint="_2Hsv5BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-329</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HtW8xSVEeGGzu7fmW9pXw" base_Constraint="_2HtW8RSVEeGGzu7fmW9pXw">
    <ruleId>CONF-354</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HulEBSVEeGGzu7fmW9pXw" base_Constraint="_2Ht-BhSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HulFRSVEeGGzu7fmW9pXw" base_Constraint="_2HulERSVEeGGzu7fmW9pXw">
    <ruleId>6.3.4.16.22</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HvMIhSVEeGGzu7fmW9pXw" base_Constraint="_2HvMIBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HvzMxSVEeGGzu7fmW9pXw" base_Constraint="_2HvzMBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HwaQhSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HwaQBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HxBUBSVEeGGzu7fmW9pXw" base_Constraint="_2HwaQxSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HxBUxSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2HxBURSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HxoYhSVEeGGzu7fmW9pXw" base_Constraint="_2HxoYBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HyPcxSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HyPcBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2GZvYBSVEeGGzu7fmW9pXw" base_Constraint="_2GHbgRSVEeGGzu7fmW9pXw">
    <ruleId>2.2.2.8.3</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GZvYRSVEeGGzu7fmW9pXw" base_Constraint="_2GHbhBSVEeGGzu7fmW9pXw">
    <ruleId>2.2.2.8.4</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GaWcBSVEeGGzu7fmW9pXw" base_Constraint="_2GHbhxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8-CDA-3]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Ga9gBSVEeGGzu7fmW9pXw" base_Constraint="_2GHbiRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.03-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GbkkBSVEeGGzu7fmW9pXw" base_Constraint="_2GHbixSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.04-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GbkkRSVEeGGzu7fmW9pXw" base_Constraint="_2GHbjhSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.05-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GcLoBSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2GHbkRSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.08-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GcysBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2GHbkxSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.08-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GcysRSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2GHblRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.12-CDA-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GdZwBSVEeGGzu7fmW9pXw" base_Constraint="_2GHblxSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2GeA0BSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2GHbmRSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.20-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Gen4BSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2GHbnBSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.20-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Gen4RSVEeGGzu7fmW9pXw" base_Constraint="_2GHbnxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.20-CDA-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GfO8BSVEeGGzu7fmW9pXw" base_Constraint="_2GHboRSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.20-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Gf2ABSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2GHboxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.22-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GgdEBSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2GHbphSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.24-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GgdERSVEeGGzu7fmW9pXw" base_Constraint="_2GHbqRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.24-CDA-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GhEIBSVEeGGzu7fmW9pXw" base_Constraint="_2GHbqxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.24-CDA-3]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GhrMBSVEeGGzu7fmW9pXw" base_Constraint="_2GHbrRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.24-CDA-4]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GhrMRSVEeGGzu7fmW9pXw" base_Constraint="_2GHbrxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.24-CDA-5]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GiSQBSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2GHbsRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.24-CDA-6]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Gi5UBSVEeGGzu7fmW9pXw" base_Constraint="_2GHbsxSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.24-1]</ruleId>
  </CDA:ConstraintValidation>
  <Ecore:EAttribute xmi:id="_2GkugBSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2GkHcBSVEeGGzu7fmW9pXw"/>
  <Ecore:EAttribute xmi:id="_2GkughSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2GkugRSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2GkuhhSVEeGGzu7fmW9pXw" base_Property="_2GkugxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-306</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2GZIUBSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2GHb0hSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.12-CDA-1]</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2GlVlRSVEeGGzu7fmW9pXw" base_Property="_2GlVkBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-307</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2GIpoBSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2GHbthSVEeGGzu7fmW9pXw">
    <ruleId>CONF-308</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2GIpoRSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2GHbvhSVEeGGzu7fmW9pXw">
    <ruleId>CONF-309</ruleId>
    <ruleId>CONF-310</ruleId>
  </CDA:PropertyValidation>
  <CDA:ValueSetConstraint xmi:id="_2GJQsBSVEeGGzu7fmW9pXw" base_Property="_2GHbvhSVEeGGzu7fmW9pXw">
    <reference href="../consol-vocab.uml#_2H150RSVEeGGzu7fmW9pXw"/>
  </CDA:ValueSetConstraint>
  <CDA:PropertyValidation xmi:id="_2GMUABSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2GHbzhSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.09-1]</ruleId>
  </CDA:PropertyValidation>
  <CDA:ValueSetConstraint xmi:id="_2GX6MBSVEeGGzu7fmW9pXw" base_Property="_2GHbzhSVEeGGzu7fmW9pXw">
    <reference href="../consol-vocab.uml#_2H3vABSVEeGGzu7fmW9pXw"/>
  </CDA:ValueSetConstraint>
  <CDA:PropertyValidation xmi:id="_2GKe0BSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2GHbwhSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2GmjtBSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2GmjsBSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2GLs8BSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2GHbyhSVEeGGzu7fmW9pXw">
    <ruleId>CONF-312</ruleId>
  </CDA:PropertyValidation>
  <CDA:ValueSetConstraint xmi:id="_2GLF4BSVEeGGzu7fmW9pXw" base_Property="_2GHbxhSVEeGGzu7fmW9pXw" severity="INFO">
    <reference href="../consol-vocab.uml#_2H49IRSVEeGGzu7fmW9pXw"/>
    <ruleId>C154-[DE-8.11-1]</ruleId>
  </CDA:ValueSetConstraint>
  <Ecore:EReference xmi:id="_2GnKwxSVEeGGzu7fmW9pXw" xmlNamespace="##targetNamespace" base_Property="_2GnKwBSVEeGGzu7fmW9pXw"/>
  <CDA:AssociationValidation xmi:id="_CTs80BUREeG6PvUxSTZnaw" base_Association="_2Gnx0BSVEeGGzu7fmW9pXw"/>
  <CDA:AssociationValidation xmi:id="_2G10RRSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2G10QxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-313</ruleId>
  </CDA:AssociationValidation>
  <CDA:AssociationValidation xmi:id="_TiiAUBUREeG6PvUxSTZnaw" severity="INFO" base_Association="_2HCokBSVEeGGzu7fmW9pXw"/>
  <CDA:AssociationValidation xmi:id="_-qrLMBUREeG6PvUxSTZnaw" severity="INFO" base_Association="_2GjgYxSVEeGGzu7fmW9pXw"/>
  <CDA:EntryRelationship xmi:id="_ETweIBUTEeG6PvUxSTZnaw" severity="INFO" base_Association="_7USBshUSEeG6PvUxSTZnaw" typeCode="RSON"/>
  <CDA:EntryRelationship xmi:id="_SLdYUBUUEeG6PvUxSTZnaw" severity="INFO" base_Association="_H7DfghUUEeG6PvUxSTZnaw" typeCode="REFR"/>
  <CDA:AssociationValidation xmi:id="_t5u2MBUUEeG6PvUxSTZnaw" severity="INFO" base_Association="_tZZwUBUUEeG6PvUxSTZnaw"/>
  <CDA:AssociationValidation xmi:id="_ZRrXoBUVEeG6PvUxSTZnaw" severity="INFO" base_Association="_U6R5khUVEeG6PvUxSTZnaw"/>
  <uml:Class xmi:id="_2TAA8RSVEeGGzu7fmW9pXw" name="MedicationCombinationMedication">
    <ownedComment xmi:id="_2TSU7xSVEeGGzu7fmW9pXw" annotatedElement="_2TAA8RSVEeGGzu7fmW9pXw">
      <body>&lt;p>A medication activity is used to describe what is administered.&lt;/p>&#xD;
&lt;p>An indication describes the rationale for a medication activity. The indication can be an existing problem or can be a criterion that if met would warrant the activity. Criteria are typically associated with PRN (from the Latin &quot;pro re nata&quot;, meaning &quot;as needed&quot;) medications (e.g. &quot;give Medication X as needed for nausea&quot;).&lt;/p>&#xD;
&lt;p>A reaction represents an adverse event due to an administered substance. Significant reactions are to be listed in the Alerts section. Reactions in the Medications section can be used to track reactions associated with individual substance administrations or to track routine follow up to an administration (e.g. &quot;no adverse reaction 30 minutes post administration&quot;).&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_2TSU8BSVEeGGzu7fmW9pXw" annotatedElement="_2TAA8RSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
This content module describes the general structure for a medication. All medication administration acts will be derived&#xD;
from this content module.&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
The &amp;lt;substanceAdministration> element may contain subordinate&#xD;
&amp;lt;substanceAdministration> elements in a related component entry to deal with special cases (see&#xD;
the section below on Special Cases). These cases include split, tapered, or conditional dosing, or&#xD;
combination medications. The use of subordinate &amp;lt;substanceAdministration> elements to deal with these cases is optional. The comment field should always be used in these cases to provide&#xD;
the same information as free text in the top level &amp;lt;substanceAdministration> element.&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_2TSU8RSVEeGGzu7fmW9pXw" annotatedElement="_2TAA8RSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
This template identifier is used to identify medication administration events that require special&#xD;
processing to handle combination medications. The parent template is&#xD;
1.3.6.1.4.1.19376.1.5.3.1.4.7. A combination medication is made up of two or more other&#xD;
medications. These may be prepackaged, such as Percocet, which is a combination of&#xD;
Acetaminophen and oxycodone in predefined ratios, or prepared by a pharmacist, such as a GI&#xD;
cocktail.&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
In the case of the prepackaged combination, it is sufficient to supply the name of the&#xD;
combination drug product, and its strength designation in a single &amp;lt;substanceAdministation>&#xD;
entry. The dosing information should then be recorded as simply a count of administration units.&#xD;
In the latter case of a prepared mixture, the description of the mixture should be provided as the&#xD;
product name (e.g., &quot;GI Cocktail&quot;) , in the &amp;lt;substanceAdministration> entry. That entry may, but&#xD;
is not required, to have subordinate &amp;lt;substanceAdministration> entries included beneath it to record the components of the mixture.&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedRule xmi:id="_2TMORRSVEeGGzu7fmW9pXw" name="moodCode">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMORhSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.moodCode=vocab::x_DocumentSubstanceMood::EVN or self.moodCode=vocab::x_DocumentSubstanceMood::INT </body>
        <body>Value for moodCode is &quot;EVN&quot; or &quot;INT&quot; 2.16.840.1.113883.5.1001 ActMood STATIC</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOSBSVEeGGzu7fmW9pXw" name="hasDoseQuantityOrRateQuantity">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOSRSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>not self.doseQuantity.oclIsUndefined() or not self.rateQuantity.oclIsUndefined()</body>
        <body>Contains exactly one doseQuantity or rateQuantity.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOSxSVEeGGzu7fmW9pXw" name="hasConsents">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOTBSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.getClinicalDocument().authorization->size() > 0 and self.getClinicalDocument().authorization.consent->size() > 0</body>
        <body>Has one or more associated consents, represented in the CCD Header as ClinicalDocument / authorization / consent.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOThSVEeGGzu7fmW9pXw" name="informationSource">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOTxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more sources of information.</body>
        <body>not self.informant->isEmpty() &#xD;&#xA;or not self.getSection().informant->isEmpty()&#xD;&#xA;or not self.getClinicalDocument().informant->isEmpty()&#xD;&#xA;or self.reference->exists(ref : cda::Reference | ref.typeCode = vocab::x_ActRelationshipExternalReference::XCRPT)&#xD;&#xA;or (self.entryRelationship->exists(rel : cda::EntryRelationship | &#xD;&#xA;   rel.typeCode = vocab::x_ActRelationshipEntryRelationship::REFR&#xD;&#xA;   and rel.observation.code.code = '48766-0'))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOURSVEeGGzu7fmW9pXw" name="hasPreconditionCriterion">
      <ownedComment xmi:id="_2TMOUhSVEeGGzu7fmW9pXw">
        <body>Indicates that the medication is administered only when the associated (coded or free text) criteria are met.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOUxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more precondition / Criterion, to indicate that the medication is administered only when the associated (coded or free text) criteria are met.</body>
        <body>self.precondition->exists(precondition : cda::Precondition | not precondition.criterion.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOVRSVEeGGzu7fmW9pXw" name="hasReason">
      <ownedComment xmi:id="_2TMOVhSVEeGGzu7fmW9pXw">
        <body>The target of the relationship represents the indication for the activity.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOVxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more entryRelationship, where the value for @typeCode is &quot;RSON&quot; &quot;Has reason&quot; 2.16.840.1.113883.5.1002 ActRelationshipType STATIC.</body>
        <body>self.entryRelationship->exists(entryRel : cda::EntryRelationship | entryRel.typeCode = vocab::x_ActRelationshipEntryRelationship::RSON)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOWRSVEeGGzu7fmW9pXw" name="hasReasonProblem">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOWhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>entryRelationship / @typeCode=&quot;RSON&quot; in a medication activity has a target of problem act (templateId 2.16.840.1.113883.10.20.1.27), problem observation (templateId 2.16.840.1.113883.10.20.1.28), or some other clinical statement.</body>
        <body>self.getEntryRelationshipTargets(vocab::x_ActRelationshipEntryRelationship::RSON, cda::ClinicalStatement)->forAll(target : &#xD;&#xD;&#xA;cda::ClinicalStatement | not target.oclIsUndefined() and &#xD;&#xA;  (target.oclIsKindOf(consol::ProblemConcernAct) or target.oclIsKindOf(consol::ProblemObservation)))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOXBSVEeGGzu7fmW9pXw" name="hasProduct">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOXRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains exactly one consumable, the target of which is a Product template.</body>
        <body>self.consumable.manufacturedProduct.oclIsKindOf(consol::Product)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOXxSVEeGGzu7fmW9pXw" name="hasDosing">
      <ownedComment xmi:id="_2TMOYBSVEeGGzu7fmW9pXw">
        <body>There are a variety of special cases for dosing that need to be accounted for. &#xD;
Most of these special cases involve changing the dosage or frequency over time, or based on&#xD;
some measurement. When the dosage changes, then additional entries are required for each differing dosage.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOYRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one dosing template to identify this entry as a particular type of medication event. Possible dosing templates: 1.3.6.1.4.1.19376.1.5.3.1.4.7.1 Normal Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.8, Tapered Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.9 Split Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.10 Conditional Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.11 Combination Dosing.</body>
        <body>self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.7.1') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.8') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.9') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.10') xor self.templateId->exists(id : datatypes::II | id.root =  '1.3.6.1.4.1.19376.1.5.3.1.4.11')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOYhSVEeGGzu7fmW9pXw" name="DosingRelationship">
      <ownedComment xmi:id="_2TMOYxSVEeGGzu7fmW9pXw">
        <body>n the first three cases, the subordinate components shall specify only the changed &amp;lt;frequency>&#xD;
and/or &amp;lt;doseAmount> elements. For conditional dosing, each subordinate component shall have&#xD;
a &amp;lt;precondition> element that specifies the &amp;lt;observation> that must be obtained before&#xD;
administration of the dose. The value of the &amp;lt;sequenceNumber> shall be an ordinal number,&#xD;
starting at 1 for the first component, and increasing by 1 for each subsequent component.&#xD;
Components shall be sent in &amp;lt;sequenceNumber> order.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOZBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>contains one or more related components (&lt;entryRelationship typeCode='COMP'>, either to handle split, tapered or conditional dosing, or to support combination medications.</body>
        <body>self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.8') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.9') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.10') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.11') implies self.entryRelationship->exists(er | er.typeCode=vocab::x_ActRelationshipEntryRelationship::COMP)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TMOZRSVEeGGzu7fmW9pXw" name="hasDescriptionNoMedNotKnown">
      <ownedComment xmi:id="_2TMOZhSVEeGGzu7fmW9pXw">
        <body>&lt;p>&#xD;
182904002 &quot;Drug Treatment Unknown&quot; (To indicate lack of knowledge about drug therapy)&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
182849000 &quot;No Drug Therapy Prescribed&quot; (To indicate the absense of any prescribed medications)&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
408350003 &quot;Patient Not On Self-Medications&quot; (To indicate no treatment)&#xD;
&lt;/p></body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TMOZxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Values from SNOMED CT shall be used in the &lt;code> element to record that a patient is either not on medications, or that medications are not known.</body>
        <body>true</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU0RSVEeGGzu7fmW9pXw" name="ReasonClassMood">
      <ownedComment xmi:id="_2TSU0hSVEeGGzu7fmW9pXw">
        <body>self.internalReference->exists(ir : consol::InternalReference | ar.classCode &amp;lt;> 'ACT' or ar.moodCode &amp;lt;> 'EVN')</body>
      </ownedComment>
      <ownedComment xmi:id="_2TSU0xSVEeGGzu7fmW9pXw">
        <body>OCL Issue - What is the internalReference relationship?  unable to get OCL to reference</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU1BSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The act/@classCode='ACT' and act/@moodCode='EVN' when recording reason for medication in InternalReference Template.</body>
        <body>true</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU1hSVEeGGzu7fmW9pXw" name="hasProductEntry">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU1xSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;consumable> element shall be present, and shall contain a Product Entry template</body>
        <body>self.consumable.manufacturedProduct.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.7.2')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU2RSVEeGGzu7fmW9pXw" name="hasIntructionsInversion">
      <ownedComment xmi:id="_2TSU2hSVEeGGzu7fmW9pXw">
        <body>OCL Issue - What is the patientInstructions relationship?  unable to get OCL to reference</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU2xSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The entryRelationship/@inversionInd attribute is 'true' for Patient Medical Instructions relationship</body>
        <body>self.entryRelationship->forAll( er : cda::EntryRelationship | (not er.act.oclIsKindOf(consol::PatientMedicalInstructions)) or ( er.inversionInd = true and er.act.oclIsKindOf(consol::PatientMedicalInstructions))  )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU3RSVEeGGzu7fmW9pXw" name="ProductStrength">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU3hSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The name and strength of the medication is recorded in consumable/manufacturedProduct/manufacturedMaterial/code/originalText</body>
        <body>not self.consumable.manufacturedProduct.manufacturedMaterial.code.oclIsUndefined() implies not self.consumable.manufacturedProduct.manufacturedMaterial.code.originalText.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU4BSVEeGGzu7fmW9pXw" name="ProductName">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU4RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Name of the substance or product is recorded in consumable/manufacturedProduct/manufacturedMaterial/name</body>
        <body>not self.consumable.manufacturedProduct.manufacturedMaterial.name.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU4xSVEeGGzu7fmW9pXw" name="PreconditionReference">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU5BSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>the preconditions for use of the medication are recorded in the&#xD;&#xA;&lt;precondition> element. element. The value attribute of the &lt;reference> element is a URL that points to&#xD;&#xA;the CDA narrative describing those preconditions.</body>
        <body>not self.precondition.criterion.text->exists (t | t.reference.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU5hSVEeGGzu7fmW9pXw" name="hasSupplyEntryInversion">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU5xSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The entryRelationship/@inversionInd attribute is 'false' for Supply Entry relationship</body>
        <body>not self.entryRelationship->exists(er : cda::EntryRelationship | (not er.supply->isEmpty()) and er.inversionInd&lt;>false )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU6RSVEeGGzu7fmW9pXw" name="hasFillNumber">
      <ownedComment xmi:id="_2TSU6hSVEeGGzu7fmW9pXw">
        <body>The prescription activity may have a &amp;lt;sequenceNumber> element to indicate the fill number. A&#xD;
value of 1, 2 or N indicates that it is the first, second, or Nth fill respectively of a specific&#xD;
prescription.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU6xSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>entryRelationship/sequenceNumber element should be present when the embedded 'supply' element has a&#xD;&#xA;moodCode attribute of EVN.</body>
        <body>not self.entryRelationship->exists(er| (not er.supply->isEmpty()) and er.sequenceNumber.value.oclIsUndefined() )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2TSU7RSVEeGGzu7fmW9pXw" name="CombinationMedicationSubstanceAdministration">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2TSU7hSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Subordinate &lt;substanceAdminstration> entries are included to record the components of the prepared mixture. If medication is a prepackaged mixture, a single &lt;substanceAdministration> entry is sufficient.</body>
        <body>not self.entryRelationship.substanceAdministration->isEmpty()</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2TSU8hSVEeGGzu7fmW9pXw" general="_2GHbgBSVEeGGzu7fmW9pXw"/>
    <ownedAttribute xmi:id="_2TAA9RSVEeGGzu7fmW9pXw" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2TAA9hSVEeGGzu7fmW9pXw" name="SBADM">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdc0DcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TAA-BSVEeGGzu7fmW9pXw" name="moodCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zOpxEDcEd6xYZuu1VKCVw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TAA-hSVEeGGzu7fmW9pXw" name="id" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_culQ8DxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TAA-xSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TAA_BSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TAA_hSVEeGGzu7fmW9pXw" name="code" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2TAA_xSVEeGGzu7fmW9pXw">
        <body>The &amp;lt;code> element is used to supply a code that describes the &amp;lt;substanceAdminstration> act,&#xD;
not the medication being administered or prescribed. This may be a procedure code, such as&#xD;
those found in CPT-4 (and often used for billing), or may describe the method of medication&#xD;
administration, such as by intravenous injection. The type of medication is coded in the&#xD;
consumable, do not supply the code for the medication in this element. This element is optional.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TABABSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TABARSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TABAxSVEeGGzu7fmW9pXw" name="statusCode" visibility="private" isReadOnly="true">
      <ownedComment xmi:id="_2TABBBSVEeGGzu7fmW9pXw">
        <body>The status of all 'substanceAdministration' elements must be &quot;completed&quot;. The act has either&#xD;
occurred, or the request or order has been placed.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TABBRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TABBhSVEeGGzu7fmW9pXw" value="1"/>
      <defaultValue xmi:type="uml:LiteralString" xmi:id="_2TABBxSVEeGGzu7fmW9pXw" value="completed"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TABCRSVEeGGzu7fmW9pXw" name="effectiveTime" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_kSZ5QD5_Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TABChSVEeGGzu7fmW9pXw" value="2"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TABCxSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TABDRSVEeGGzu7fmW9pXw" name="routeCode" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TABDhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TABDxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHkBSVEeGGzu7fmW9pXw" name="approachSiteCode" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2TGHkRSVEeGGzu7fmW9pXw">
        <body>The site where the medication is administered, usually used with IV or topical drugs. The &amp;lt;approachSiteCode> element describes the site of medication administrion. It may be coded&#xD;
to a controlled vocabulary that lists such sites (e.g., SNOMED-CT). In CDA documents, this&#xD;
4805 element contains a URI in the value attribute of the &amp;lt;reference> that points to the text in the&#xD;
narrative identifying the site. In a message, the &amp;lt;originalText> element shall contain the text&#xD;
identifying the site.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHkhSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHkxSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHlRSVEeGGzu7fmW9pXw" name="doseQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2TGHlhSVEeGGzu7fmW9pXw">
        <body>The amount of the medication given. This should be in some known and measurable unit, such as grams, milligrams, et cetera. It may be measured in 'administration' units (such as tablets or each), for medications where the strength is relevant. In this case, only the unit count is specified , no units are specified. It may be a range.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_1VHHUErrEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHlxSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHmBSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHmhSVEeGGzu7fmW9pXw" name="rateQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2TGHmxSVEeGGzu7fmW9pXw">
        <body>The rate is a measurement of how fast the dose is given to the patient over time (e.g., .5 liter / 1 hr), and is often used with IV drugs.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_1VHHUErrEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHnBSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHnRSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHnxSVEeGGzu7fmW9pXw" name="maxDoseQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2TGHoBSVEeGGzu7fmW9pXw">
        <body>represents a maximum dose limit</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_IZ0HUErsEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHoRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHohSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHpBSVEeGGzu7fmW9pXw" name="consumable" visibility="private" aggregation="composite" association="_2TGHqBSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_gRI5MEcEEd6besF9iFIJkQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHpRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHphSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHqhSVEeGGzu7fmW9pXw" name="medicationSeriesNumberObservation" visibility="private" type="_2Gnx1RSVEeGGzu7fmW9pXw" association="_2TGHrRSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHqxSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHrBSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHsBSVEeGGzu7fmW9pXw" name="medicationStatusObservation" visibility="private" type="_2GtRYxSVEeGGzu7fmW9pXw" association="_2TGHsxSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHsRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHshSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHthSVEeGGzu7fmW9pXw" name="performer" association="_2TGHuRSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_HP8qoEcaEd6besF9iFIJkQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHtxSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHuBSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TGHvBSVEeGGzu7fmW9pXw" name="reactionObservation" association="_2TGHvxSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="consol-allergies.uml#_2E_aIRSVEeGGzu7fmW9pXw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TGHvRSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TGHvhSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TMOMBSVEeGGzu7fmW9pXw" name="productInstance" type="_2G2bUxSVEeGGzu7fmW9pXw" association="_2TMOMxSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TMOMRSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TMOMhSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TMONhSVEeGGzu7fmW9pXw" name="internalReference" association="_2TMOORSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="consol-other.uml#_2G5eoxSVEeGGzu7fmW9pXw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TMONxSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TMOOBSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TMOOxSVEeGGzu7fmW9pXw" name="patientMedicalInstructions" association="_2TMOPhSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="consol-other.uml#_2G8h9RSVEeGGzu7fmW9pXw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TMOPBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TMOPRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2TMOQBSVEeGGzu7fmW9pXw" name="supplyEntry" type="_2HIvMBSVEeGGzu7fmW9pXw" association="_2TMOQxSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2TMOQRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2TMOQhSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="_2TGHqBSVEeGGzu7fmW9pXw" memberEnd="_2TGHpBSVEeGGzu7fmW9pXw _2TGHqRSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TGHqRSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TGHqBSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2TGHrRSVEeGGzu7fmW9pXw" memberEnd="_2TGHqhSVEeGGzu7fmW9pXw _2TGHrhSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TGHrhSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TGHrRSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2TGHsxSVEeGGzu7fmW9pXw" memberEnd="_2TGHsBSVEeGGzu7fmW9pXw _2TGHtBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TGHtBSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TGHsxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2TGHuRSVEeGGzu7fmW9pXw" memberEnd="_2TGHthSVEeGGzu7fmW9pXw _2TGHuhSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TGHuhSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TGHuRSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2TGHvxSVEeGGzu7fmW9pXw" memberEnd="_2TGHvBSVEeGGzu7fmW9pXw _2TGHwBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TGHwBSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TGHvxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2TMOMxSVEeGGzu7fmW9pXw" memberEnd="_2TMOMBSVEeGGzu7fmW9pXw _2TMONBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TMONBSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TMOMxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2TMOORSVEeGGzu7fmW9pXw" memberEnd="_2TMONhSVEeGGzu7fmW9pXw _2TMOOhSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TMOOhSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TMOORSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2TMOPhSVEeGGzu7fmW9pXw" memberEnd="_2TMOOxSVEeGGzu7fmW9pXw _2TMOPxSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TMOPxSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TMOPhSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2TMOQxSVEeGGzu7fmW9pXw" memberEnd="_2TMOQBSVEeGGzu7fmW9pXw _2TMORBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2TMORBSVEeGGzu7fmW9pXw" type="_2TAA8RSVEeGGzu7fmW9pXw" association="_2TMOQxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <CDA:ConstraintValidation xmi:id="_2TMORxSVEeGGzu7fmW9pXw" base_Constraint="_2TMORRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-305</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TMOShSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2TMOSBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-311</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TMOTRSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2TMOSxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-314</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TMOUBSVEeGGzu7fmW9pXw" base_Constraint="_2TMOThSVEeGGzu7fmW9pXw">
    <ruleId>CONF-315</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TMOVBSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2TMOURSVEeGGzu7fmW9pXw">
    <ruleId>CONF-327</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TMOWBSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2TMOVRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-328</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TMOWxSVEeGGzu7fmW9pXw" base_Constraint="_2TMOWRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-329</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TMOXhSVEeGGzu7fmW9pXw" base_Constraint="_2TMOXBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-354</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TSU0BSVEeGGzu7fmW9pXw" base_Constraint="_2TMOZRSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2TSU1RSVEeGGzu7fmW9pXw" base_Constraint="_2TSU0RSVEeGGzu7fmW9pXw">
    <ruleId>6.3.4.16.22</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2TSU2BSVEeGGzu7fmW9pXw" base_Constraint="_2TSU1hSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2TSU3BSVEeGGzu7fmW9pXw" base_Constraint="_2TSU2RSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2TSU3xSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2TSU3RSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2TSU4hSVEeGGzu7fmW9pXw" base_Constraint="_2TSU4BSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2TSU5RSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2TSU4xSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2TSU6BSVEeGGzu7fmW9pXw" base_Constraint="_2TSU5hSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2TSU7BSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2TSU6RSVEeGGzu7fmW9pXw"/>
  <Ecore:EAttribute xmi:id="_2TAA9xSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2TAA9RSVEeGGzu7fmW9pXw"/>
  <Ecore:EAttribute xmi:id="_2TAA-RSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2TAA-BSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2TAA_RSVEeGGzu7fmW9pXw" base_Property="_2TAA-hSVEeGGzu7fmW9pXw">
    <ruleId>CONF-306</ruleId>
  </CDA:PropertyValidation>
  <CDA:CodeSystemConstraint xmi:id="_2TABAhSVEeGGzu7fmW9pXw" base_Property="_2TAA_hSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_ya6aMCWsEd-iTYfpNb4PkQ"/>
  </CDA:CodeSystemConstraint>
  <CDA:PropertyValidation xmi:id="_2TABCBSVEeGGzu7fmW9pXw" base_Property="_2TABAxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-307</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2TABDBSVEeGGzu7fmW9pXw" base_Property="_2TABCRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-308</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2TABEBSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2TABDRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-309</ruleId>
    <ruleId>CONF-310</ruleId>
  </CDA:PropertyValidation>
  <CDA:CodeSystemConstraint xmi:id="_2TABERSVEeGGzu7fmW9pXw" identifier="2.16.840.1.113883.5.112" name="HL7 RouteOfAdministration" binding="Dynamic" base_Property="_2TABDRSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2TGHlBSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2TGHkBSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2TGHmRSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2TGHlRSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2TGHnhSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2TGHmhSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2TGHoxSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2TGHnxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-312</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EReference xmi:id="_2TGHpxSVEeGGzu7fmW9pXw" xmlNamespace="##targetNamespace" base_Property="_2TGHpBSVEeGGzu7fmW9pXw"/>
  <CDA:EntryRelationship xmi:id="_2TGHrxSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2TGHrRSVEeGGzu7fmW9pXw" typeCode="SUBJ">
    <ruleId>CONF-338</ruleId>
    <ruleId>CONF-339</ruleId>
  </CDA:EntryRelationship>
  <CDA:AssociationValidation xmi:id="_2TGHtRSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2TGHsxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-350</ruleId>
  </CDA:AssociationValidation>
  <CDA:AssociationValidation xmi:id="_2TGHuxSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2TGHuRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-313</ruleId>
  </CDA:AssociationValidation>
  <CDA:EntryRelationship xmi:id="_2TGHwRSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2TGHvxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-348</ruleId>
    <ruleId>CONF-349</ruleId>
  </CDA:EntryRelationship>
  <CDA:AssociationValidation xmi:id="_2TMONRSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2TMOMxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-368</ruleId>
  </CDA:AssociationValidation>
  <uml:Class xmi:id="_2SnmfRSVEeGGzu7fmW9pXw" name="MedicationConditionalDose">
    <ownedComment xmi:id="_2S56fRSVEeGGzu7fmW9pXw" annotatedElement="_2SnmfRSVEeGGzu7fmW9pXw">
      <body>&lt;p>A medication activity is used to describe what is administered.&lt;/p>&#xD;
&lt;p>An indication describes the rationale for a medication activity. The indication can be an existing problem or can be a criterion that if met would warrant the activity. Criteria are typically associated with PRN (from the Latin &quot;pro re nata&quot;, meaning &quot;as needed&quot;) medications (e.g. &quot;give Medication X as needed for nausea&quot;).&lt;/p>&#xD;
&lt;p>A reaction represents an adverse event due to an administered substance. Significant reactions are to be listed in the Alerts section. Reactions in the Medications section can be used to track reactions associated with individual substance administrations or to track routine follow up to an administration (e.g. &quot;no adverse reaction 30 minutes post administration&quot;).&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_2S56fhSVEeGGzu7fmW9pXw" annotatedElement="_2SnmfRSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
This content module describes the general structure for a medication. All medication administration acts will be derived&#xD;
from this content module.&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
The &amp;lt;substanceAdministration> element may contain subordinate&#xD;
&amp;lt;substanceAdministration> elements in a related component entry to deal with special cases (see&#xD;
the section below on Special Cases). These cases include split, tapered, or conditional dosing, or&#xD;
combination medications. The use of subordinate &amp;lt;substanceAdministration> elements to deal with these cases is optional. The comment field should always be used in these cases to provide&#xD;
the same information as free text in the top level &amp;lt;substanceAdministration> element.&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_2S56fxSVEeGGzu7fmW9pXw" annotatedElement="_2SnmfRSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
This template identifier is used to identify medication administration events that require special&#xD;
processing to handle conditional dosing. The parent template is 1.3.6.1.4.1.19376.1.5.3.1.4.7. A&#xD;
conditional dose is often used when the dose amount differs based on some measurement (e.g.,&#xD;
an insulin sliding scale dose based on blood sugar level).&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedRule xmi:id="_2SzzzhSVEeGGzu7fmW9pXw" name="moodCode">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2SzzzxSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.moodCode=vocab::x_DocumentSubstanceMood::EVN or self.moodCode=vocab::x_DocumentSubstanceMood::INT </body>
        <body>Value for moodCode is &quot;EVN&quot; or &quot;INT&quot; 2.16.840.1.113883.5.1001 ActMood STATIC</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Szz0RSVEeGGzu7fmW9pXw" name="hasDoseQuantityOrRateQuantity">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Szz0hSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>not self.doseQuantity.oclIsUndefined() or not self.rateQuantity.oclIsUndefined()</body>
        <body>Contains exactly one doseQuantity or rateQuantity.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Szz1BSVEeGGzu7fmW9pXw" name="hasConsents">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Szz1RSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.getClinicalDocument().authorization->size() > 0 and self.getClinicalDocument().authorization.consent->size() > 0</body>
        <body>Has one or more associated consents, represented in the CCD Header as ClinicalDocument / authorization / consent.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Szz1xSVEeGGzu7fmW9pXw" name="informationSource">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Szz2BSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more sources of information.</body>
        <body>not self.informant->isEmpty() &#xD;&#xA;or not self.getSection().informant->isEmpty()&#xD;&#xA;or not self.getClinicalDocument().informant->isEmpty()&#xD;&#xA;or self.reference->exists(ref : cda::Reference | ref.typeCode = vocab::x_ActRelationshipExternalReference::XCRPT)&#xD;&#xA;or (self.entryRelationship->exists(rel : cda::EntryRelationship | &#xD;&#xA;   rel.typeCode = vocab::x_ActRelationshipEntryRelationship::REFR&#xD;&#xA;   and rel.observation.code.code = '48766-0'))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Szz2hSVEeGGzu7fmW9pXw" name="hasPreconditionCriterion">
      <ownedComment xmi:id="_2Szz2xSVEeGGzu7fmW9pXw">
        <body>Indicates that the medication is administered only when the associated (coded or free text) criteria are met.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Szz3BSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more precondition / Criterion, to indicate that the medication is administered only when the associated (coded or free text) criteria are met.</body>
        <body>self.precondition->exists(precondition : cda::Precondition | not precondition.criterion.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Szz3hSVEeGGzu7fmW9pXw" name="hasReason">
      <ownedComment xmi:id="_2Szz3xSVEeGGzu7fmW9pXw">
        <body>The target of the relationship represents the indication for the activity.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Szz4BSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more entryRelationship, where the value for @typeCode is &quot;RSON&quot; &quot;Has reason&quot; 2.16.840.1.113883.5.1002 ActRelationshipType STATIC.</body>
        <body>self.entryRelationship->exists(entryRel : cda::EntryRelationship | entryRel.typeCode = vocab::x_ActRelationshipEntryRelationship::RSON)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Szz4hSVEeGGzu7fmW9pXw" name="hasReasonProblem">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Szz4xSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>entryRelationship / @typeCode=&quot;RSON&quot; in a medication activity has a target of problem act (templateId 2.16.840.1.113883.10.20.1.27), problem observation (templateId 2.16.840.1.113883.10.20.1.28), or some other clinical statement.</body>
        <body>self.getEntryRelationshipTargets(vocab::x_ActRelationshipEntryRelationship::RSON, cda::ClinicalStatement)->forAll(target : &#xD;&#xD;&#xA;cda::ClinicalStatement | not target.oclIsUndefined() and &#xD;&#xA;  (target.oclIsKindOf(consol::ProblemConcernAct) or target.oclIsKindOf(consol::ProblemObservation)))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56URSVEeGGzu7fmW9pXw" name="hasProduct">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56UhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains exactly one consumable, the target of which is a Product template.</body>
        <body>self.consumable.manufacturedProduct.oclIsKindOf(consol::Product)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56VBSVEeGGzu7fmW9pXw" name="hasDosing">
      <ownedComment xmi:id="_2S56VRSVEeGGzu7fmW9pXw">
        <body>There are a variety of special cases for dosing that need to be accounted for. &#xD;
Most of these special cases involve changing the dosage or frequency over time, or based on&#xD;
some measurement. When the dosage changes, then additional entries are required for each differing dosage.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56VhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one dosing template to identify this entry as a particular type of medication event. Possible dosing templates: 1.3.6.1.4.1.19376.1.5.3.1.4.7.1 Normal Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.8, Tapered Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.9 Split Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.10 Conditional Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.11 Combination Dosing.</body>
        <body>self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.7.1') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.8') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.9') xor self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.10') xor self.templateId->exists(id : datatypes::II | id.root =  '1.3.6.1.4.1.19376.1.5.3.1.4.11')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56VxSVEeGGzu7fmW9pXw" name="DosingRelationship">
      <ownedComment xmi:id="_2S56WBSVEeGGzu7fmW9pXw">
        <body>n the first three cases, the subordinate components shall specify only the changed &amp;lt;frequency>&#xD;
and/or &amp;lt;doseAmount> elements. For conditional dosing, each subordinate component shall have&#xD;
a &amp;lt;precondition> element that specifies the &amp;lt;observation> that must be obtained before&#xD;
administration of the dose. The value of the &amp;lt;sequenceNumber> shall be an ordinal number,&#xD;
starting at 1 for the first component, and increasing by 1 for each subsequent component.&#xD;
Components shall be sent in &amp;lt;sequenceNumber> order.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56WRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>contains one or more related components (&lt;entryRelationship typeCode='COMP'>, either to handle split, tapered or conditional dosing, or to support combination medications.</body>
        <body>self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.8') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.9') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.10') xor &#xA;self.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.11') implies self.entryRelationship->exists(er | er.typeCode=vocab::x_ActRelationshipEntryRelationship::COMP)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56WhSVEeGGzu7fmW9pXw" name="hasDescriptionNoMedNotKnown">
      <ownedComment xmi:id="_2S56WxSVEeGGzu7fmW9pXw">
        <body>&lt;p>&#xD;
182904002 &quot;Drug Treatment Unknown&quot; (To indicate lack of knowledge about drug therapy)&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
182849000 &quot;No Drug Therapy Prescribed&quot; (To indicate the absense of any prescribed medications)&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
408350003 &quot;Patient Not On Self-Medications&quot; (To indicate no treatment)&#xD;
&lt;/p></body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56XBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Values from SNOMED CT shall be used in the &lt;code> element to record that a patient is either not on medications, or that medications are not known.</body>
        <body>true</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56XhSVEeGGzu7fmW9pXw" name="ReasonClassMood">
      <ownedComment xmi:id="_2S56XxSVEeGGzu7fmW9pXw">
        <body>self.internalReference->exists(ir : consol::InternalReference | ar.classCode &amp;lt;> 'ACT' or ar.moodCode &amp;lt;> 'EVN')</body>
      </ownedComment>
      <ownedComment xmi:id="_2S56YBSVEeGGzu7fmW9pXw">
        <body>OCL Issue - What is the internalReference relationship?  unable to get OCL to reference</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56YRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The act/@classCode='ACT' and act/@moodCode='EVN' when recording reason for medication in InternalReference Template.</body>
        <body>true</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56YxSVEeGGzu7fmW9pXw" name="hasProductEntry">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56ZBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;consumable> element shall be present, and shall contain a Product Entry template</body>
        <body>self.consumable.manufacturedProduct.templateId->exists(id : datatypes::II | id.root = '1.3.6.1.4.1.19376.1.5.3.1.4.7.2')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56ZhSVEeGGzu7fmW9pXw" name="hasIntructionsInversion">
      <ownedComment xmi:id="_2S56ZxSVEeGGzu7fmW9pXw">
        <body>OCL Issue - What is the patientInstructions relationship?  unable to get OCL to reference</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56aBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The entryRelationship/@inversionInd attribute is 'true' for Patient Medical Instructions relationship</body>
        <body>self.entryRelationship->forAll( er : cda::EntryRelationship | (not er.act.oclIsKindOf(consol::PatientMedicalInstructions)) or ( er.inversionInd = true and er.act.oclIsKindOf(consol::PatientMedicalInstructions))  )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56ahSVEeGGzu7fmW9pXw" name="ProductStrength">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56axSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The name and strength of the medication is recorded in consumable/manufacturedProduct/manufacturedMaterial/code/originalText</body>
        <body>not self.consumable.manufacturedProduct.manufacturedMaterial.code.oclIsUndefined() implies not self.consumable.manufacturedProduct.manufacturedMaterial.code.originalText.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56bRSVEeGGzu7fmW9pXw" name="ProductName">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56bhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Name of the substance or product is recorded in consumable/manufacturedProduct/manufacturedMaterial/name</body>
        <body>not self.consumable.manufacturedProduct.manufacturedMaterial.name.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56cBSVEeGGzu7fmW9pXw" name="PreconditionReference">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56cRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>the preconditions for use of the medication are recorded in the&#xD;&#xA;&lt;precondition> element. element. The value attribute of the &lt;reference> element is a URL that points to&#xD;&#xA;the CDA narrative describing those preconditions.</body>
        <body>not self.precondition.criterion.text->exists (t | t.reference.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56cxSVEeGGzu7fmW9pXw" name="hasSupplyEntryInversion">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56dBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The entryRelationship/@inversionInd attribute is 'false' for Supply Entry relationship</body>
        <body>not self.entryRelationship->exists(er : cda::EntryRelationship | (not er.supply->isEmpty()) and er.inversionInd&lt;>false )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56dhSVEeGGzu7fmW9pXw" name="hasFillNumber">
      <ownedComment xmi:id="_2S56dxSVEeGGzu7fmW9pXw">
        <body>The prescription activity may have a &amp;lt;sequenceNumber> element to indicate the fill number. A&#xD;
value of 1, 2 or N indicates that it is the first, second, or Nth fill respectively of a specific&#xD;
prescription.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56eBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>entryRelationship/sequenceNumber element should be present when the embedded 'supply' element has a&#xD;&#xA;moodCode attribute of EVN.</body>
        <body>not self.entryRelationship->exists(er| (not er.supply->isEmpty()) and er.sequenceNumber.value.oclIsUndefined() )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2S56ehSVEeGGzu7fmW9pXw" name="ConditionalDosingSubstanceAdministration">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2S56exSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>A subordinate 'substanceAdministration' entry is required for each different dose, and the condition should be&#xD;&#xA;recorded</body>
        <body>not self.entryRelationship.substanceAdministration->isEmpty()</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2S56gBSVEeGGzu7fmW9pXw" general="_2GHbgBSVEeGGzu7fmW9pXw"/>
    <ownedAttribute xmi:id="_2SnmgRSVEeGGzu7fmW9pXw" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2SnmghSVEeGGzu7fmW9pXw" name="SBADM">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdc0DcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SnmhBSVEeGGzu7fmW9pXw" name="moodCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zOpxEDcEd6xYZuu1VKCVw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SnmhhSVEeGGzu7fmW9pXw" name="id" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_culQ8DxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SnmhxSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SnmiBSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SnmihSVEeGGzu7fmW9pXw" name="code" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2SnmixSVEeGGzu7fmW9pXw">
        <body>The &amp;lt;code> element is used to supply a code that describes the &amp;lt;substanceAdminstration> act,&#xD;
not the medication being administered or prescribed. This may be a procedure code, such as&#xD;
those found in CPT-4 (and often used for billing), or may describe the method of medication&#xD;
administration, such as by intravenous injection. The type of medication is coded in the&#xD;
consumable, do not supply the code for the medication in this element. This element is optional.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SnmjBSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SnmjRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SnmjxSVEeGGzu7fmW9pXw" name="statusCode" visibility="private" isReadOnly="true">
      <ownedComment xmi:id="_2SnmkBSVEeGGzu7fmW9pXw">
        <body>The status of all 'substanceAdministration' elements must be &quot;completed&quot;. The act has either&#xD;
occurred, or the request or order has been placed.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SnmkRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SnmkhSVEeGGzu7fmW9pXw" value="1"/>
      <defaultValue xmi:type="uml:LiteralString" xmi:id="_2SnmkxSVEeGGzu7fmW9pXw" value="completed"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SnmlRSVEeGGzu7fmW9pXw" name="effectiveTime" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_kSZ5QD5_Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SnmlhSVEeGGzu7fmW9pXw" value="2"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SnmlxSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SnmmRSVEeGGzu7fmW9pXw" name="routeCode" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SnmmhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SnmmxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SttERSVEeGGzu7fmW9pXw" name="approachSiteCode" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2SttEhSVEeGGzu7fmW9pXw">
        <body>The site where the medication is administered, usually used with IV or topical drugs. The &amp;lt;approachSiteCode> element describes the site of medication administrion. It may be coded&#xD;
to a controlled vocabulary that lists such sites (e.g., SNOMED-CT). In CDA documents, this&#xD;
4805 element contains a URI in the value attribute of the &amp;lt;reference> that points to the text in the&#xD;
narrative identifying the site. In a message, the &amp;lt;originalText> element shall contain the text&#xD;
identifying the site.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SttExSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SttFBSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SttFhSVEeGGzu7fmW9pXw" name="doseQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2SttFxSVEeGGzu7fmW9pXw">
        <body>The amount of the medication given. This should be in some known and measurable unit, such as grams, milligrams, et cetera. It may be measured in 'administration' units (such as tablets or each), for medications where the strength is relevant. In this case, only the unit count is specified , no units are specified. It may be a range.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_1VHHUErrEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SttGBSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SttGRSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SttGxSVEeGGzu7fmW9pXw" name="rateQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2SttHBSVEeGGzu7fmW9pXw">
        <body>The rate is a measurement of how fast the dose is given to the patient over time (e.g., .5 liter / 1 hr), and is often used with IV drugs.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_1VHHUErrEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SttHRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SttHhSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SttIBSVEeGGzu7fmW9pXw" name="maxDoseQuantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2SttIRSVEeGGzu7fmW9pXw">
        <body>represents a maximum dose limit</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_IZ0HUErsEd6FXKclYGEDCw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SttIhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SttIxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SttJRSVEeGGzu7fmW9pXw" name="consumable" visibility="private" aggregation="composite" association="_2SttKRSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_gRI5MEcEEd6besF9iFIJkQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SttJhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SttJxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SttKxSVEeGGzu7fmW9pXw" name="medicationSeriesNumberObservation" visibility="private" type="_2Gnx1RSVEeGGzu7fmW9pXw" association="_2SttLhSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SttLBSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SttLRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SttMRSVEeGGzu7fmW9pXw" name="medicationStatusObservation" visibility="private" type="_2GtRYxSVEeGGzu7fmW9pXw" association="_2SttNBSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SttMhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SttMxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SttNxSVEeGGzu7fmW9pXw" name="performer" association="_2SzzsBSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_HP8qoEcaEd6besF9iFIJkQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SttOBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SttORSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SzzsxSVEeGGzu7fmW9pXw" name="reactionObservation" association="_2SzzthSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="consol-allergies.uml#_2E_aIRSVEeGGzu7fmW9pXw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SzztBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SzztRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SzzuRSVEeGGzu7fmW9pXw" name="productInstance" type="_2G2bUxSVEeGGzu7fmW9pXw" association="_2SzzvBSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SzzuhSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SzzuxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SzzvxSVEeGGzu7fmW9pXw" name="internalReference" association="_2SzzwhSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="consol-other.uml#_2G5eoxSVEeGGzu7fmW9pXw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SzzwBSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SzzwRSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SzzxBSVEeGGzu7fmW9pXw" name="patientMedicalInstructions" association="_2SzzxxSVEeGGzu7fmW9pXw">
      <type xmi:type="uml:Class" href="consol-other.uml#_2G8h9RSVEeGGzu7fmW9pXw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SzzxRSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SzzxhSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2SzzyRSVEeGGzu7fmW9pXw" name="supplyEntry" type="_2HIvMBSVEeGGzu7fmW9pXw" association="_2SzzzBSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2SzzyhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2SzzyxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="_2SttKRSVEeGGzu7fmW9pXw" memberEnd="_2SttJRSVEeGGzu7fmW9pXw _2SttKhSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SttKhSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SttKRSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2SttLhSVEeGGzu7fmW9pXw" memberEnd="_2SttKxSVEeGGzu7fmW9pXw _2SttLxSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SttLxSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SttLhSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2SttNBSVEeGGzu7fmW9pXw" memberEnd="_2SttMRSVEeGGzu7fmW9pXw _2SttNRSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SttNRSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SttNBSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2SzzsBSVEeGGzu7fmW9pXw" memberEnd="_2SttNxSVEeGGzu7fmW9pXw _2SzzsRSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SzzsRSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SzzsBSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2SzzthSVEeGGzu7fmW9pXw" memberEnd="_2SzzsxSVEeGGzu7fmW9pXw _2SzztxSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SzztxSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SzzthSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2SzzvBSVEeGGzu7fmW9pXw" memberEnd="_2SzzuRSVEeGGzu7fmW9pXw _2SzzvRSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SzzvRSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SzzvBSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2SzzwhSVEeGGzu7fmW9pXw" memberEnd="_2SzzvxSVEeGGzu7fmW9pXw _2SzzwxSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SzzwxSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SzzwhSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2SzzxxSVEeGGzu7fmW9pXw" memberEnd="_2SzzxBSVEeGGzu7fmW9pXw _2SzzyBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SzzyBSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SzzxxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <uml:Association xmi:id="_2SzzzBSVEeGGzu7fmW9pXw" memberEnd="_2SzzyRSVEeGGzu7fmW9pXw _2SzzzRSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2SzzzRSVEeGGzu7fmW9pXw" type="_2SnmfRSVEeGGzu7fmW9pXw" association="_2SzzzBSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <CDA:ConstraintValidation xmi:id="_2Szz0BSVEeGGzu7fmW9pXw" base_Constraint="_2SzzzhSVEeGGzu7fmW9pXw">
    <ruleId>CONF-305</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Szz0xSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2Szz0RSVEeGGzu7fmW9pXw">
    <ruleId>CONF-311</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Szz1hSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2Szz1BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-314</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Szz2RSVEeGGzu7fmW9pXw" base_Constraint="_2Szz1xSVEeGGzu7fmW9pXw">
    <ruleId>CONF-315</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Szz3RSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2Szz2hSVEeGGzu7fmW9pXw">
    <ruleId>CONF-327</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Szz4RSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2Szz3hSVEeGGzu7fmW9pXw">
    <ruleId>CONF-328</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2S56UBSVEeGGzu7fmW9pXw" base_Constraint="_2Szz4hSVEeGGzu7fmW9pXw">
    <ruleId>CONF-329</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2S56UxSVEeGGzu7fmW9pXw" base_Constraint="_2S56URSVEeGGzu7fmW9pXw">
    <ruleId>CONF-354</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2S56XRSVEeGGzu7fmW9pXw" base_Constraint="_2S56WhSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2S56YhSVEeGGzu7fmW9pXw" base_Constraint="_2S56XhSVEeGGzu7fmW9pXw">
    <ruleId>6.3.4.16.22</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2S56ZRSVEeGGzu7fmW9pXw" base_Constraint="_2S56YxSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2S56aRSVEeGGzu7fmW9pXw" base_Constraint="_2S56ZhSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2S56bBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2S56ahSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2S56bxSVEeGGzu7fmW9pXw" base_Constraint="_2S56bRSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2S56chSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2S56cBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2S56dRSVEeGGzu7fmW9pXw" base_Constraint="_2S56cxSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2S56eRSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2S56dhSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2S56fBSVEeGGzu7fmW9pXw" base_Constraint="_2S56ehSVEeGGzu7fmW9pXw"/>
  <Ecore:EAttribute xmi:id="_2SnmgxSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2SnmgRSVEeGGzu7fmW9pXw"/>
  <Ecore:EAttribute xmi:id="_2SnmhRSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2SnmhBSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2SnmiRSVEeGGzu7fmW9pXw" base_Property="_2SnmhhSVEeGGzu7fmW9pXw">
    <ruleId>CONF-306</ruleId>
  </CDA:PropertyValidation>
  <CDA:CodeSystemConstraint xmi:id="_2SnmjhSVEeGGzu7fmW9pXw" base_Property="_2SnmihSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_ya6aMCWsEd-iTYfpNb4PkQ"/>
  </CDA:CodeSystemConstraint>
  <CDA:PropertyValidation xmi:id="_2SnmlBSVEeGGzu7fmW9pXw" base_Property="_2SnmjxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-307</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2SnmmBSVEeGGzu7fmW9pXw" base_Property="_2SnmlRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-308</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2SnmnBSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2SnmmRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-309</ruleId>
    <ruleId>CONF-310</ruleId>
  </CDA:PropertyValidation>
  <CDA:CodeSystemConstraint xmi:id="_2SttEBSVEeGGzu7fmW9pXw" identifier="2.16.840.1.113883.5.112" name="HL7 RouteOfAdministration" binding="Dynamic" base_Property="_2SnmmRSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2SttFRSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2SttERSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2SttGhSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2SttFhSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2SttHxSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2SttGxSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2SttJBSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2SttIBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-312</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EReference xmi:id="_2SttKBSVEeGGzu7fmW9pXw" xmlNamespace="##targetNamespace" base_Property="_2SttJRSVEeGGzu7fmW9pXw"/>
  <CDA:EntryRelationship xmi:id="_2SttMBSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2SttLhSVEeGGzu7fmW9pXw" typeCode="SUBJ">
    <ruleId>CONF-338</ruleId>
    <ruleId>CONF-339</ruleId>
  </CDA:EntryRelationship>
  <CDA:AssociationValidation xmi:id="_2SttNhSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2SttNBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-350</ruleId>
  </CDA:AssociationValidation>
  <CDA:AssociationValidation xmi:id="_2SzzshSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2SzzsBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-313</ruleId>
  </CDA:AssociationValidation>
  <CDA:EntryRelationship xmi:id="_2SzzuBSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2SzzthSVEeGGzu7fmW9pXw">
    <ruleId>CONF-348</ruleId>
    <ruleId>CONF-349</ruleId>
  </CDA:EntryRelationship>
  <CDA:AssociationValidation xmi:id="_2SzzvhSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2SzzvBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-368</ruleId>
  </CDA:AssociationValidation>
  <uml:Class xmi:id="_DpoGkBUUEeG6PvUxSTZnaw" name="MedicationDispense">
    <ownedRule xmi:id="_-TejcB7mEeGEaLkc3UAsAg" name="containMedicationOrImmunization" constrainedElement="_DpoGkBUUEeG6PvUxSTZnaw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="__llEgB7mEeGEaLkc3UAsAg">
        <language>Analysis</language>
        <body>A supply act SHALL contain one product/Medication Information or one product/Immunization Medication Information template</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_DpoGkRUUEeG6PvUxSTZnaw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_3gL0sEbuEd6besF9iFIJkQ"/>
    </generalization>
    <ownedAttribute xmi:id="_EYtaIBUUEeG6PvUxSTZnaw" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVfcUDcEd6xYZuu1VKCVw"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_p_5-MEb8Ed6besF9iFIJkQ"/>
      <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_EYtaIRUUEeG6PvUxSTZnaw">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVfcUDcEd6xYZuu1VKCVw"/>
        <body>SPLY</body>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_ThGZ4BrYEeGo461UQq-B1g" name="effectiveTime" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_kSZ5QD5_Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ThGZ4RrYEeGo461UQq-B1g" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_ThGZ4hrYEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_8voGMErtEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_ThHA8BrYEeGo461UQq-B1g" name="id" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_culQ8DxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ThHA8RrYEeGo461UQq-B1g" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_ThHA8hrYEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_x1NnEErtEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_ThHoABrYEeGo461UQq-B1g" name="moodCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zOpxEDcEd6xYZuu1VKCVw"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_U-F1UEruEd6FXKclYGEDCw"/>
      <defaultValue xmi:type="uml:LiteralString" xmi:id="_wH3KcBuSEeGnMahsPjlwOw" value="EVN"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_ThIPEBrYEeGo461UQq-B1g" name="repeatNumber" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_wDsPEEo9Ed6c3qsAxlFHaQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ThIPERrYEeGo461UQq-B1g" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_ThIPEhrYEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_D-T6cEruEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_ThIPFBrYEeGo461UQq-B1g" name="statusCode" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ThIPFRrYEeGo461UQq-B1g" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_ThIPFhrYEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_42xlUErtEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_YCaB4BrYEeGo461UQq-B1g" name="medicationInformation" type="_2T9DQBSVEeGGzu7fmW9pXw">
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_YCaB4RrYEeGo461UQq-B1g"/>
      <association href="consol-immunizations.uml#_YCao8BrYEeGo461UQq-B1g"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_cBftoBrYEeGo461UQq-B1g" name="immunizationMedicationInformation">
      <type xmi:type="uml:Class" href="consol-immunizations.uml#_daTqABVOEeGbmN_W114JUw"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_cBgUsBrYEeGo461UQq-B1g"/>
      <association href="consol-immunizations.uml#_cBgUsRrYEeGo461UQq-B1g"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_eqd7ABrYEeGo461UQq-B1g" name="performer2" association="_eqeiEBrYEeGo461UQq-B1g">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_HP8qoEcaEd6besF9iFIJkQ"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_eqd7ARrYEeGo461UQq-B1g"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_j8mjABrYEeGo461UQq-B1g" name="assignedEntity" association="_j8nKEBrYEeGo461UQq-B1g">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_6qmVsEcDEd6besF9iFIJkQ"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_j8mjARrYEeGo461UQq-B1g"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_3-zGABrYEeGo461UQq-B1g" name="medicationSupplyOrder" type="_j3aTQBrTEeGo461UQq-B1g" association="_3-ztEBrYEeGo461UQq-B1g">
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_3-zGARrYEeGo461UQq-B1g"/>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_HlZ-cBncEeGs5a462vYX5Q" base_Class="_DpoGkBUUEeG6PvUxSTZnaw" templateId="2.16.840.1.113883.10.20.22.4.18">
    <ruleId>CONF:7454</ruleId>
  </CDA:CDATemplate>
  <Ecore:EAttribute xmi:id="_EYtaIhUUEeG6PvUxSTZnaw" isUnsettable="true" base_Property="_EYtaIBUUEeG6PvUxSTZnaw"/>
  <uml:Class xmi:id="_2HWKkBSVEeGGzu7fmW9pXw" name="MedicationFullfillmentInstructions">
    <ownedComment xmi:id="_2HbDEBSVEeGGzu7fmW9pXw" annotatedElement="_2HWKkBSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    Fulfillment instructions are additional information provided to the dispensing party (e.g. &quot;label in&#xD;
    spanish&quot;).&#xD;
&lt;/p></body>
    </ownedComment>
    <generalization xmi:id="_2HbDERSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_YiANsDxYEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_2HZ08RSVEeGGzu7fmW9pXw" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zOntkDcEd6xYZuu1VKCVw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HacABSVEeGGzu7fmW9pXw" name="moodCode" visibility="private" isReadOnly="true">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW3UDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2HacARSVEeGGzu7fmW9pXw" name="INT">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW3UDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW4EDcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HWKkhSVEeGGzu7fmW9pXw" name="code" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2HWKkxSVEeGGzu7fmW9pXw">
        <body>The &amp;lt;code> element indicates that this is a medication fulfillment instruction.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HWKmBSVEeGGzu7fmW9pXw" name="text" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2HWKmRSVEeGGzu7fmW9pXw">
        <body>The &amp;lt;text> element contains a free text representation of the instruction. For CDA this SHALL&#xD;
contain a provides a &amp;lt;reference>element to thelink text of the comment in the narrative portion&#xD;
of the document. The comment itself is not the act being coded, so it appears in the &amp;lt;text> of the&#xD;
&amp;lt;observation>, not as part of the &amp;lt;code>.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_CowXkDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2HWKmhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2HWKmxSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HWKlBSVEeGGzu7fmW9pXw" name="statusCode" visibility="private" isReadOnly="true" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2HWKlRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2HWKlhSVEeGGzu7fmW9pXw"/>
      <defaultValue xmi:type="uml:LiteralString" xmi:id="_2HWKlxSVEeGGzu7fmW9pXw" value="completed"/>
    </ownedAttribute>
  </uml:Class>
  <Ecore:EAttribute xmi:id="_2HZ08hSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2HZ08RSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2HacAhSVEeGGzu7fmW9pXw" base_Property="_2HacABSVEeGGzu7fmW9pXw">
    <ruleId>CONF-336</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2HWxoBSVEeGGzu7fmW9pXw" base_Property="_2HWKkhSVEeGGzu7fmW9pXw"/>
  <CDA:CodeSystemConstraint xmi:id="_2HXYsBSVEeGGzu7fmW9pXw" identifier="1.3.6.1.4.1.19376.1.5.3.2" name="IHEActCode" code="FINSTRUCT" base_Property="_2HWKkhSVEeGGzu7fmW9pXw"/>
  <CDA:TextValue xmi:id="_2HZN4BSVEeGGzu7fmW9pXw" base_Property="_2HWKmBSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2HYm0BSVEeGGzu7fmW9pXw" base_Property="_2HWKlBSVEeGGzu7fmW9pXw"/>
  <uml:Class xmi:id="_2T9DQBSVEeGGzu7fmW9pXw" name="MedicationInformation">
    <ownedComment xmi:id="_2UJQdhSVEeGGzu7fmW9pXw" annotatedElement="_2T9DQBSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
The product entry describes a medication or immunization used in a 'substanceAdministration'&#xD;
or 'supply' act&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
In a CDA document, the name and strength of the medication are specified in the elements under&#xD;
the 'manufacturedMaterial' element.&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
The 'code' element of the 'manufacturedMaterial' describes the medication. This may be&#xD;
coded using a controlled vocabulary, such as RxNorm, First Databank, or other vocabulary&#xD;
system for medications, and should be the code that represents the generic medication name and&#xD;
strength (e.g., acetaminophen and oxycodone -5/325), or just the generic medication name alone&#xD;
if strength is not relevant (Acetaminophen).&#xD;
In a CDA document, the &amp;lt;originalText> shall contain a 'reference' whose URI value points to&#xD;
the generic name and strength of the medication, or just the generic name alone if strength is not&#xD;
relevant.&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_2T9DQRSVEeGGzu7fmW9pXw" annotatedElement="_2T9DQBSVEeGGzu7fmW9pXw">
      <body>The product concentration is determined from the coded product or brand name using knowledge base information in the vocabularies specified for these fields, and therefore this information is not explicitly included.</body>
    </ownedComment>
    <ownedRule xmi:id="_2UDJ2hSVEeGGzu7fmW9pXw" name="hasMaterial">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UDJ2xSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contain exactly one manufacturedMaterial.</body>
        <body>not self.manufacturedMaterial.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UDJ3RSVEeGGzu7fmW9pXw" name="hasMaterialCode">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UDJ3hSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contain exactly one manufacturedMaterial / code.</body>
        <body>not self.manufacturedMaterial.code.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UDJ4BSVEeGGzu7fmW9pXw" name="hasMaterialCodeVocab">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UDJ4RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The value for &quot;manufacturedMaterial / code&quot; in a product template SHOULD be selected from the RxNorm (2.16.840.1.113883.6.88) code system for medications, and from the CDC Vaccine Code (2.16.840.1.113883.6.59) code system for immunizations10, or MAY be selected from ValueSet 2.16.840.1.113883.1.11.20.8 MedicationTypeCode STATIC 20061017.</body>
        <body>self.manufacturedMaterial.code.codeSystem = '2.16.840.1.113883.6.88' or self.manufacturedMaterial.code.codeSystem='2.16.840.1.113883.6.59' or self.manufacturedMaterial.code.codeSystem='2.16.840.1.113883.6.96'</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UDJ4xSVEeGGzu7fmW9pXw" name="mayHavePrecoordinatedCode">
      <ownedComment xmi:id="_2UDJ5BSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UDJ5RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>The value for &quot;manufacturedMaterial / code&quot; in a product template MAY contain a precoordinated product strength, product form, or product concentration (e.g. &quot;metoprolol 25mg tablet”, “amoxicillin 400mg/5mL suspension&quot;).</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UDJ5xSVEeGGzu7fmW9pXw" name="hasPrecoordinatedUnitDose">
      <ownedComment xmi:id="_2UDJ6BSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UDJ6RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>If manufacturedMaterial / code contains a precoordinated unit dose (e.g. “metoprolol 25mg tablet”), then SubstanceAdministration / doseQuantity SHALL be a unitless number that indicates the number of products given per administration.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UDJ6xSVEeGGzu7fmW9pXw" name="doesNotHavePrecoordinatedUnitDose">
      <ownedComment xmi:id="_2UDJ7BSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UDJ7RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>If manufacturedMaterial / code does not contain a precoordinated unit dose (e.g. “metoprolol product”), then SubstanceAdministration / doseQuantity SHALL be a physical quantity that indicates the amount of product given per administration.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UDJ7xSVEeGGzu7fmW9pXw" name="hasMaterialCodeOriginalText">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UDJ8BSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>A manufacturedMaterial in a product template contains exactly one code / originalText, which represents the generic name of the product.</body>
        <body>not self.manufacturedMaterial.code.originalText.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UDJ8hSVEeGGzu7fmW9pXw" name="hasMaterialName">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UDJ8xSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>A manufacturedMaterial in a product template contains exactly one name, which represents the brand name of the product.</body>
        <body>not self.manufacturedMaterial.name.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UJQcBSVEeGGzu7fmW9pXw" name="mayHaveMaterialManufacturer">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UJQcRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>contains exactly one manufacturedProduct / manufacturerOrganization, which represents the manufacturer of the Material.</body>
        <body>self.manufacturerOrganization->size() = 1</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2UJQcxSVEeGGzu7fmW9pXw" name="shouldHaveMaterialManufacturer">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2UJQdBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>If ManufacturedProduct in a product template contains manufacturedProduct / id, then ManufacturedProduct SHOULD also contain manufacturedProduct / manufacturerOrganization.</body>
        <body>self.id->size() > 0 implies self.manufacturerOrganization->size() > 0</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DQhSVEeGGzu7fmW9pXw" name="codedProductName" constrainedElement="_2T9DQBSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2T9DQxSVEeGGzu7fmW9pXw">
        <body>A code describing the product from a controlled&#xD;
vocabulary</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DRBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The coded product name SHALL appear in the @code attribute of the manufacturedMaterial/code element.</body>
        <body>not self.manufacturedMaterial.code.code.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DRRSVEeGGzu7fmW9pXw" name="genericProductCodeUnknown" constrainedElement="_2T9DQhSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DRhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>If the code for the generic product is unknown, the code and codeSystem attributes MAY be omitted</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DRxSVEeGGzu7fmW9pXw" name="codedProductVocab" constrainedElement="_2T9DRRSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DSBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The coded product name SHALL be coded as 2.16.840.1.113883.3.88.12.80.17, Medication Clinical Drug Name Value Set, version: 20081218, Dynamic</body>
        <body>self.manufacturedMaterial.code.codeSystem = '2.16.840.1.113883.6.88'</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DSRSVEeGGzu7fmW9pXw" name="codedDrugClassVocab" constrainedElement="_2T9DRxSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DShSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>When only the class of the drug is known (e.g., Beta Blocker or Sulfa Drug), it SHALL be coded as 2.16.840.1.113883.3.88.12.80.17, Medication Drug Class Value Set, version: 20081218, Dynamic</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DSxSVEeGGzu7fmW9pXw" name="codedIngredientVocab" constrainedElement="_2T9DSRSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DTBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>When only the medication ingredient name is know, the coded product name MAY be coded as 2.16.840.1.113883.3.88.12.80.20, Ingredient Name Value Set, Dynamic</body>
        <body>self.manufacturedMaterial.code.codeSystem = '2.16.840.1.113883.4.9'</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DTRSVEeGGzu7fmW9pXw" name="codedBrandName" constrainedElement="_2T9DSxSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2T9DThSVEeGGzu7fmW9pXw">
        <body>A code describing the product as a branded or&#xD;
trademarked entity from a controlled vocabulary</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DTxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The code for the specific brand of product SHALL appear in a manufacturedMaterial/translation element</body>
        <body>self.manufacturedMaterial.code.translation->size() > 0</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DUBSVEeGGzu7fmW9pXw" name="codedBrandNameVocab" constrainedElement="_2T9DTRSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DURSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The brand name SHALL be coded as 2.16.840.1.113883.3.88.12.80.16, Medication Brand Name Value Set, version: 20081218, Dynamic, OR SHALL be coded as  2.16.840.1.113883.3.88.12.80.19, Medication Packaged Product Value Set, Dynamic</body>
        <body>self.manufacturedMaterial.code.codeSystem = '2.16.840.1.113883.6.88' or self.manufacturedMaterial.code.codeSystem = '2.16.840.1.113883.6.69'</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DUhSVEeGGzu7fmW9pXw" name="freeTextProductName" constrainedElement="_2T9DUBSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2T9DUxSVEeGGzu7fmW9pXw">
        <body>The name of the substance or product without&#xD;
reference to a specific vendor (e.g., generic or other&#xD;
non-proprietary name). If a Coded Product Name is&#xD;
present, this is the text associated with the coded&#xD;
concept</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DVBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The product (generic) name SHALL appear in the originalText element beneath the manufacturedMaterial/code element</body>
        <body>not self.manufacturedMaterial.code.originalText.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2T9DVRSVEeGGzu7fmW9pXw" name="freeTextBrandName" constrainedElement="_2T9DUhSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2T9DVhSVEeGGzu7fmW9pXw">
        <body>The branded or trademarked name of the substance&#xD;
or product. If a Coded Brand Name is present, this is&#xD;
the text associated with the coded concept</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2T9DVxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The brand name SHALL appear in the &lt;name> element of the &lt;manufacturedMaterial> element</body>
        <body>not self.manufacturedMaterial.name.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2UJQdxSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_p6Zs8EcZEd6besF9iFIJkQ"/>
    </generalization>
    <ownedAttribute xmi:id="_2UDJ1RSVEeGGzu7fmW9pXw" name="id" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2UDJ1hSVEeGGzu7fmW9pXw">
        <body>uniquely represents a particular kind of product</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_culQ8DxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2UDJ1xSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2UDJ2BSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_LKvGYBncEeGs5a462vYX5Q" base_Class="_2T9DQBSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.22.4.23"/>
  <CDA:ConstraintValidation xmi:id="_2UDJ3BSVEeGGzu7fmW9pXw" base_Constraint="_2UDJ2hSVEeGGzu7fmW9pXw">
    <ruleId>CONF-357</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ3xSVEeGGzu7fmW9pXw" base_Constraint="_2UDJ3RSVEeGGzu7fmW9pXw">
    <ruleId>CONF-358</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ4hSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2UDJ4BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-359</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ5hSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2UDJ4xSVEeGGzu7fmW9pXw">
    <ruleId>CONF-360</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ6hSVEeGGzu7fmW9pXw" base_Constraint="_2UDJ5xSVEeGGzu7fmW9pXw">
    <ruleId>CONF-361</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ7hSVEeGGzu7fmW9pXw" base_Constraint="_2UDJ6xSVEeGGzu7fmW9pXw">
    <ruleId>CONF-362</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ8RSVEeGGzu7fmW9pXw" base_Constraint="_2UDJ7xSVEeGGzu7fmW9pXw">
    <ruleId>CONF-363</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ9BSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2UDJ8hSVEeGGzu7fmW9pXw">
    <ruleId>CONF-364</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UJQchSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2UJQcBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-365</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UJQdRSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2UJQcxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-367</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2T9DWhSVEeGGzu7fmW9pXw" base_Constraint="_2T9DQhSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.13-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2T9DWxSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2T9DRRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.13-CDA-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2T9DXBSVEeGGzu7fmW9pXw" base_Constraint="_2T9DRxSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.13-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2T9DXRSVEeGGzu7fmW9pXw" base_Constraint="_2T9DSRSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.13-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2T9DXhSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2T9DSxSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.13-3]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ0BSVEeGGzu7fmW9pXw" base_Constraint="_2T9DTRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.14-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ0RSVEeGGzu7fmW9pXw" base_Constraint="_2T9DUBSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.14-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ0hSVEeGGzu7fmW9pXw" base_Constraint="_2T9DUhSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.15-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2UDJ0xSVEeGGzu7fmW9pXw" base_Constraint="_2T9DVRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.14-CDA-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:PropertyValidation xmi:id="_2UDJ2RSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2UDJ1RSVEeGGzu7fmW9pXw">
    <ruleId>CONF-366</ruleId>
  </CDA:PropertyValidation>
  <uml:Class xmi:id="_2Shf4BSVEeGGzu7fmW9pXw" name="MedicationNormalDose">
    <ownedComment xmi:id="_2Shf5xSVEeGGzu7fmW9pXw" annotatedElement="_2Shf4BSVEeGGzu7fmW9pXw">
      <body>This template identifier is used to identify medication administration events that do not require&#xD;
any special processing.</body>
    </ownedComment>
    <ownedRule xmi:id="_2Shf5BSVEeGGzu7fmW9pXw" name="NoSubordinateSubstanceAdministration">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Shf5RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Medications that use this template identifier shall not use subordinate 'substanceAdministation' acts.</body>
        <body>self.entryRelationship.substanceAdministration->isEmpty()</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2Shf6BSVEeGGzu7fmW9pXw" general="_2GHbgBSVEeGGzu7fmW9pXw"/>
  </uml:Class>
  <CDA:ConstraintValidation xmi:id="_2Shf5hSVEeGGzu7fmW9pXw" base_Constraint="_2Shf5BSVEeGGzu7fmW9pXw"/>
  <uml:Class xmi:id="_2Poj_BSVEeGGzu7fmW9pXw" name="MedicationsAdministeredSection">
    <ownedComment xmi:id="_2Pxt0BSVEeGGzu7fmW9pXw" annotatedElement="_2Poj_BSVEeGGzu7fmW9pXw">
      <body>The medications administered section shall contain a narrative description of the relevant medications administered to a&#xD;
patient during the course of an encounter. It shall include entries for medication administration as described in the Entry&#xD;
Content Module.</body>
    </ownedComment>
    <ownedComment xmi:id="_2Poj_RSVEeGGzu7fmW9pXw" annotatedElement="_2Poj_BSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    The Medications Administered Section contains information about the relevant medications administered to&#xD;
    a patient during the course of an encounter. &#xD;
&lt;/p></body>
    </ownedComment>
    <generalization xmi:id="_2Pxt0RSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_qIf_wDxXEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_2PokARSVEeGGzu7fmW9pXw" name="code" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_2Poj_xSVEeGGzu7fmW9pXw" base_Class="_2Poj_BSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.3.88.11.83.115" assigningAuthorityName="HITSP C83"/>
  <CDA:CodeSystemConstraint xmi:id="_2PokAhSVEeGGzu7fmW9pXw" code="18610-6" displayName="MEDICATION ADMINISTERED" base_Property="_2PokARSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_3-cwsCWrEd-iTYfpNb4PkQ"/>
  </CDA:CodeSystemConstraint>
  <uml:Class xmi:id="_2Gnx1RSVEeGGzu7fmW9pXw" name="MedicationSeriesNumberObservation">
    <ownedComment xmi:id="_2Gnx1hSVEeGGzu7fmW9pXw" annotatedElement="_2Gnx1RSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    The medication series number observation can be used to indicate which in a series of administrations a&#xD;
    particular administration represents (e.g. &quot;hepatitis B vaccine number 2 was administered on Feb 07, 2004).&#xD;
&lt;/p></body>
    </ownedComment>
    <generalization xmi:id="_2GsDQBSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_bJyIQDxYEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_2Gnx2BSVEeGGzu7fmW9pXw" name="classCode" visibility="private" isReadOnly="true">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2Gnx2RSVEeGGzu7fmW9pXw" name="OBS">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdkkDcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2Gnx2hSVEeGGzu7fmW9pXw" name="moodCode" visibility="private" isReadOnly="true">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW3UDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2Gnx2xSVEeGGzu7fmW9pXw" name="EVN">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW3UDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW30DcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2Gnx3RSVEeGGzu7fmW9pXw" name="code" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2Gnx3BSVEeGGzu7fmW9pXw" name="statusCode" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2Gnx3hSVEeGGzu7fmW9pXw" name="value" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_co8uMD53Ed6cla2oXsPtlA"/>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_2Gnx3xSVEeGGzu7fmW9pXw" base_Class="_2Gnx1RSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.1.46" assigningAuthorityName="CCD"/>
  <CDA:PropertyValidation xmi:id="_2Go_8BSVEeGGzu7fmW9pXw" base_Property="_2Gnx2BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-341</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2Go_8RSVEeGGzu7fmW9pXw" base_Property="_2Gnx2hSVEeGGzu7fmW9pXw">
    <ruleId>CONF-342</ruleId>
  </CDA:PropertyValidation>
  <CDA:CodeSystemConstraint xmi:id="_2GpnARSVEeGGzu7fmW9pXw" code="30973-2" displayName="Dose number" base_Property="_2Gnx3RSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_3-cwsCWrEd-iTYfpNb4PkQ"/>
    <ruleId>CONF-344</ruleId>
    <ruleId>CONF-345</ruleId>
  </CDA:CodeSystemConstraint>
  <CDA:PropertyValidation xmi:id="_2GpnABSVEeGGzu7fmW9pXw" base_Property="_2Gnx3BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-343</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2Gq1IBSVEeGGzu7fmW9pXw" base_Property="_2Gnx3hSVEeGGzu7fmW9pXw">
    <ruleId>CONF-346</ruleId>
    <ruleId>CONF-347</ruleId>
  </CDA:PropertyValidation>
  <uml:Class xmi:id="_2Shf6hSVEeGGzu7fmW9pXw" name="MedicationSplitDose">
    <ownedComment xmi:id="_2SnmcBSVEeGGzu7fmW9pXw" annotatedElement="_2Shf6hSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
This template identifier is used to identify medication administration events that require special&#xD;
processing to handle split dosing. The parent template is 1.3.6.1.4.1.19376.1.5.3.1.4.7. A split&#xD;
dose is often used when different dosages are given at different times (e.g., at different times of day, or on different days). This may be to account for different metabolism rates at different&#xD;
times of day, or to simply address drug packaging deficiencies (e.g., and order for Coumadin&#xD;
2mg on even days, 2.5mg on odd days is used because Coumadin does not come in a 2.25mg&#xD;
dose form).&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedRule xmi:id="_2Shf7hSVEeGGzu7fmW9pXw" name="SplitDosingSubstanceAdministration">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Shf7xSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>A subordinate &lt;substanceAdministration> entry is required for each separate dosage.</body>
        <body>not self.entryRelationship.substanceAdministration->isEmpty()</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2SnmcRSVEeGGzu7fmW9pXw" general="_2GHbgBSVEeGGzu7fmW9pXw"/>
  </uml:Class>
  <CDA:ConstraintValidation xmi:id="_2Shf8BSVEeGGzu7fmW9pXw" base_Constraint="_2Shf7hSVEeGGzu7fmW9pXw"/>
  <uml:Class xmi:id="_iAoXEBVdEeGQCvUGzi1kDQ" name="MedicationsSectionEntriesOptional">
    <ownedComment xmi:id="_iAoXERVdEeGQCvUGzi1kDQ" annotatedElement="_iAoXEBVdEeGQCvUGzi1kDQ">
      <body>&lt;p>&#xD;
    The Medications section defines a patient's current medications and pertinent medication&#xD;
    history. At a minimum, the currently active medications should be listed, with an entire medication history as an&#xD;
    option, particularly when the summary document is used for comprehensive data export. The section may also include a&#xD;
    patient's prescription history, and enables the determination of the source of a medication list (e.g. from a pharmacy&#xD;
    system vs. from the patient).&#xD;
&lt;/p>&#xD;
&lt;p>Reconciliation of conflicting medication information from various sources is enabled both by indicating the source of information and by indicating whether the source is reporting intended or actual medication use. For instance, a physician may intend for a patient to be on a particular dose, but the patient may actually be taking a different dose; a pharmacy may fill a prescription for a particular dose only to then have the patient's physician lower the dose without notifying the pharmacy. Therefore, medication and supply activities can be expressed in CCD in either the &quot;EVN&quot; (event) mood or the &quot;INT&quot; (intent) mood. Medication activities in &quot;INT&quot; mood are not orders (which are represented in the Plan of Care section), but rather are reflections of what a clinician intends a patient to be taking. Medication activities in &quot;EVN&quot; mood reflect actual use. A pharmacy system will typically report what was actually filled (supply event), along with intended use (substance administration intent). A physician will often report intended use (substance administration and supply intent). A patient or family member will typically report actual use (substance administration event).&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_iAoXEhVdEeGQCvUGzi1kDQ" annotatedElement="_iAoXEBVdEeGQCvUGzi1kDQ">
      <body>The medications section shall contain a description of the relevant medications for the patient, e.g. an ambulatory&#xD;
prescription list. It shall include entries for medications as described in the Entry Content Module.</body>
    </ownedComment>
    <ownedComment xmi:id="_iAoXExVdEeGQCvUGzi1kDQ" annotatedElement="_iAoXEBVdEeGQCvUGzi1kDQ">
      <body>The Medications Section contains information about the relevant medications for the patient. At a minimum, the currently active medications should be listed.</body>
    </ownedComment>
    <ownedRule xmi:id="_iAoXFBVdEeGQCvUGzi1kDQ" name="hasMedicationOrSupplyActivity">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_iAoXFRVdEeGQCvUGzi1kDQ">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.getSubstanceAdministrations()->exists(activity : cda::SubstanceAdministration | activity.oclIsKindOf(consol::MedicationActivity))&#xD;&#xA;   or self.getSupplies()->exists(activity : cda::Supply | activity.oclIsKindOf(consol::SupplyActivity))</body>
        <body>Clinical statements include one or more Medication Activity and/or one or more Supply Activity.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_iAoXFhVdEeGQCvUGzi1kDQ" name="absenceOfMedications">
      <ownedComment xmi:id="_iAoXFxVdEeGQCvUGzi1kDQ">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_iAoXGBVdEeGQCvUGzi1kDQ">
        <language>Analysis</language>
        <body>The absence of known medications is explicitly asserted.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_iAoXGRVdEeGQCvUGzi1kDQ" name="titleValue">
      <ownedComment xmi:id="_iAoXGhVdEeGQCvUGzi1kDQ">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_iAoXGxVdEeGQCvUGzi1kDQ">
        <language>Analysis</language>
        <body>Valued with a case-insensitive language-insensitive string containing 'medication'.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_iAoXHBVdEeGQCvUGzi1kDQ" name="hasDosing">
      <ownedComment xmi:id="_iAoXHRVdEeGQCvUGzi1kDQ">
        <body>There are a variety of special cases for dosing that need to be accounted for. &#xD;
Most of these special cases involve changing the dosage or frequency over time, or based on&#xD;
some measurement. When the dosage changes, then additional entries are required for each differing dosage.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_iAoXHhVdEeGQCvUGzi1kDQ">
        <language>Analysis</language>
        <body>Contains one dosing template to identify this as a particular type of medication event. Possible dosing templates: 1.3.6.1.4.1.19376.1.5.3.1.4.7.1 Normal Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.8, Tapered Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.9 Split Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.10 Conditional Dosing, 1.3.6.1.4.1.19376.1.5.3.1.4.11 Combination Dosing.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_iAoXHxVdEeGQCvUGzi1kDQ" name="DosingRelationship">
      <ownedComment xmi:id="_iAoXIBVdEeGQCvUGzi1kDQ">
        <body>n the first three cases, the subordinate components shall specify only the changed &amp;lt;frequency>&#xD;
and/or &amp;lt;doseAmount> elements. For conditional dosing, each subordinate component shall have&#xD;
a &amp;lt;precondition> element that specifies the &amp;lt;observation> that must be obtained before&#xD;
administration of the dose. The value of the &amp;lt;sequenceNumber> shall be an ordinal number,&#xD;
starting at 1 for the first component, and increasing by 1 for each subsequent component.&#xD;
Components shall be sent in &amp;lt;sequenceNumber> order.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_iAoXIRVdEeGQCvUGzi1kDQ">
        <language>Analysis</language>
        <body>contains one or more related components (&lt;entryRelationship typeCode='COMP'>, either to handle split, tapered or conditional dosing, or to support combination medications.</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_iAoXIhVdEeGQCvUGzi1kDQ">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_qIf_wDxXEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_iAoXIxVdEeGQCvUGzi1kDQ" name="code" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_iAoXJBVdEeGQCvUGzi1kDQ" name="title" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_EaTNsDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_iAoXJRVdEeGQCvUGzi1kDQ" name="text" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_0jvq8E8AEd6ohP_YEXs4Wg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_iAoXJhVdEeGQCvUGzi1kDQ" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_iAoXJxVdEeGQCvUGzi1kDQ"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_iAoXKBVdEeGQCvUGzi1kDQ" name="medication" type="_2GHbgBSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_iAoXKRVdEeGQCvUGzi1kDQ" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_iAoXKhVdEeGQCvUGzi1kDQ" value="1"/>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_nvOcIBVeEeGQCvUGzi1kDQ" base_Class="_iAoXEBVdEeGQCvUGzi1kDQ" templateId="2.16.840.1.113883.10.20.22.2.1"/>
  <uml:Class xmi:id="_2GtRYxSVEeGGzu7fmW9pXw" name="MedicationStatusObservation">
    <ownedRule xmi:id="_2Gyw8BSVEeGGzu7fmW9pXw" name="targetOfEntryRelationship">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Gyw8RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Target of an entryRelationship whose value for &quot;entryRelationship / @typeCode&quot; SHALL be &quot;REFR&quot; 2.16.840.1.113883.5.1002 ActRelationshipType STATIC.</body>
        <body>self.entryRelationship->select(er : cda::EntryRelationship | er.observation.oclIsKindOf(consol::StatusObservation))->exists(er1 : cda::EntryRelationship | er1.typeCode = vocab::x_ActRelationshipEntryRelationship::REFR)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Gyw8xSVEeGGzu7fmW9pXw" name="noAdditionalAttributes">
      <ownedComment xmi:id="_2Gyw9BSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Gyw9RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>SHALL NOT contain any additional Observation attributes.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2GzYARSVEeGGzu7fmW9pXw" name="noAdditionalParticipants">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2GzYAhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>SHALL NOT contain any Observation participants.</body>
        <body>self.participant->isEmpty()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Gz_EBSVEeGGzu7fmW9pXw" name="noAdditionalRelationships">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Gz_ERSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>SHALL NOT be the source of any Observation relationships.</body>
        <body>self.entryRelationship->select(er|not er.observation.oclIsUndefined())->isEmpty()</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2G0mIBSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_bJyIQDxYEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_2GvGkRSVEeGGzu7fmW9pXw" name="classCode" visibility="private" isReadOnly="true">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2GvGkhSVEeGGzu7fmW9pXw" name="OBS">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdYEDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVdkkDcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GvtoBSVEeGGzu7fmW9pXw" name="moodCode" visibility="private" isReadOnly="true">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW3UDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2GvtoRSVEeGGzu7fmW9pXw" name="EVN">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW3UDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yeW30DcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GvtoxSVEeGGzu7fmW9pXw" name="code" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2Gw7wBSVEeGGzu7fmW9pXw" name="statusCode" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2GtRZRSVEeGGzu7fmW9pXw" name="value" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_2GtRZhSVEeGGzu7fmW9pXw" base_Class="_2GtRYxSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.1.47" assigningAuthorityName="CCD"/>
  <CDA:ConstraintValidation xmi:id="_2Gyw8hSVEeGGzu7fmW9pXw" base_Constraint="_2Gyw8BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-509</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GzYABSVEeGGzu7fmW9pXw" base_Constraint="_2Gyw8xSVEeGGzu7fmW9pXw">
    <ruleId>CONF-517</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2GzYAxSVEeGGzu7fmW9pXw" base_Constraint="_2GzYARSVEeGGzu7fmW9pXw">
    <ruleId>CONF-518</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Gz_EhSVEeGGzu7fmW9pXw" base_Constraint="_2Gz_EBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-519</ruleId>
  </CDA:ConstraintValidation>
  <CDA:PropertyValidation xmi:id="_2GvGkxSVEeGGzu7fmW9pXw" base_Property="_2GvGkRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-510</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2GvtohSVEeGGzu7fmW9pXw" base_Property="_2GvtoBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-511</ruleId>
  </CDA:PropertyValidation>
  <CDA:CodeSystemConstraint xmi:id="_2GwUsBSVEeGGzu7fmW9pXw" code="33999-4" displayName="Status" base_Property="_2GvtoxSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_3-cwsCWrEd-iTYfpNb4PkQ"/>
    <ruleId>CONF-512</ruleId>
    <ruleId>CONF-513</ruleId>
  </CDA:CodeSystemConstraint>
  <CDA:CodeSystemConstraint xmi:id="_2Gxi0BSVEeGGzu7fmW9pXw" code="completed" base_Property="_2Gw7wBSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_e8ZEoCWvEd-iTYfpNb4PkQ"/>
    <ruleId>CONF-514</ruleId>
    <ruleId>CONF-515</ruleId>
  </CDA:CodeSystemConstraint>
  <CDA:ValueSetConstraint xmi:id="_2Gt4cBSVEeGGzu7fmW9pXw" identifier="2.16.840.1.113883.1.11.20.7" name="MedicationStatusCode" version="20061017" base_Property="_2GtRZRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-353</ruleId>
  </CDA:ValueSetConstraint>
  <uml:Class xmi:id="_2SnmcxSVEeGGzu7fmW9pXw" name="MedicationTaperedDose">
    <ownedComment xmi:id="_2SnmexSVEeGGzu7fmW9pXw" annotatedElement="_2SnmcxSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    This template identifier is used to identify medication administration events that require special processing to handle&#xD;
    tapered dosing. The parent template is 1.3.6.1.4.1.19376.1.5.3.1.4.7. A tapered dose is often used for certain&#xD;
    medications where abrupt termination of the medication can have negative consequences. Tapered dosages may be done by&#xD;
    adjusting the dose frequency, the dose amount, or both.&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
    When merely the dose frequency is adjusted, (e.g., Prednisone 5mg b.i.d. for three days, then 5mg. daily for three&#xD;
    days, and then 5mg every other day), then only one medication entry is needed, multiple frequency specifications&#xD;
    recorded in &amp;lt;effectiveTime&amp;gt; elements. When the dose varies (eg. Prednisone 15mg daily for three days, then 10 mg&#xD;
    daily for three days, the 5 mg daily for three days), subordinate medication entries should be created for each&#xD;
    distinct dosage.&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedRule xmi:id="_2SnmeBSVEeGGzu7fmW9pXw" name="TaperedDosingSubstanceAdministration">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2SnmeRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Subordinate Medication entries should be created for each distinct dosage.</body>
        <body>self.entryRelationship.substanceAdministration->exists( substanceAdministration  | substanceAdministration.oclIsKindOf( consol::Medication) )</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2SnmfBSVEeGGzu7fmW9pXw" general="_2GHbgBSVEeGGzu7fmW9pXw"/>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_2SnmdhSVEeGGzu7fmW9pXw" base_Class="_2SnmcxSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2SnmehSVEeGGzu7fmW9pXw" base_Constraint="_2SnmeBSVEeGGzu7fmW9pXw"/>
  <uml:Class xmi:id="_2HCokhSVEeGGzu7fmW9pXw" name="MedicationType">
    <ownedComment xmi:id="_2HCokxSVEeGGzu7fmW9pXw" annotatedElement="_2HCokhSVEeGGzu7fmW9pXw">
      <body>A classification based on how the medication is&#xD;
marketed (e.g., prescription, over the counter drug)</body>
    </ownedComment>
    <generalization xmi:id="_2HFr4BSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_bJyIQDxYEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_2HEdwRSVEeGGzu7fmW9pXw" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVecEDcEd6xYZuu1VKCVw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HFE0RSVEeGGzu7fmW9pXw" name="moodCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zOoCEDcEd6xYZuu1VKCVw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HColRSVEeGGzu7fmW9pXw" name="code" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_VKl7EDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
  </uml:Class>
  <Ecore:EAttribute xmi:id="_2HFE0BSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2HEdwRSVEeGGzu7fmW9pXw"/>
  <Ecore:EAttribute xmi:id="_2HFE0hSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2HFE0RSVEeGGzu7fmW9pXw"/>
  <CDA:ValueSetConstraint xmi:id="_2HD2sBSVEeGGzu7fmW9pXw" base_Property="_2HColRSVEeGGzu7fmW9pXw">
    <reference href="../consol-vocab.uml#_2HFr5BSVEeGGzu7fmW9pXw"/>
    <ruleId>C83-[DE-8.19-CDA-5]</ruleId>
    <ruleId>C154-[DE-8.19-1]</ruleId>
  </CDA:ValueSetConstraint>
  <uml:Class xmi:id="_2KEucBSVEeGGzu7fmW9pXw" name="MedicalEquipmentSection">
    <ownedComment xmi:id="_2KJm8BSVEeGGzu7fmW9pXw" annotatedElement="_2KEucBSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    The Medical Equipment section defines a patient's implanted and external medical devices and equipment&#xD;
    that their health status depends on, as well as any pertinent equipment or device history. This section is also used to&#xD;
    itemize any pertinent current or historical durable medical equipment (DME) used to help maintain the patient's health&#xD;
    status. All pertinent equipment relevant to the diagnosis, care, and treatment of a patient should be included.&#xD;
&lt;/p></body>
    </ownedComment>
    <ownedComment xmi:id="_2KJm8RSVEeGGzu7fmW9pXw" annotatedElement="_2KEucBSVEeGGzu7fmW9pXw">
      <body>The medical devices section contains narrative text describing the patient history of medical device use.</body>
    </ownedComment>
    <ownedComment xmi:id="_2KEucRSVEeGGzu7fmW9pXw" annotatedElement="_2KEucBSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    The Medical Equipment section contains information describing a patient's implanted and external medical&#xD;
    devices and equipment that their health status depends on, as well as any pertinent equipment or device history. &#xD;
&lt;/p></body>
    </ownedComment>
    <ownedRule xmi:id="_2KI_4BSVEeGGzu7fmW9pXw" name="titleValue">
      <ownedComment xmi:id="_2KI_4RSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2KI_4hSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>Contains a a case-insensitive language-insensitive text string containing 'equipment'</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2KJm8hSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_qIf_wDxXEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_2KF8kBSVEeGGzu7fmW9pXw" name="code" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2KHKsBSVEeGGzu7fmW9pXw" name="title" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_EaTNsDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2KHKshSVEeGGzu7fmW9pXw" name="text" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_0jvq8E8AEd6ohP_YEXs4Wg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2KHKsxSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2KHKtBSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2KHxwBSVEeGGzu7fmW9pXw" name="nonMedicinalSupplyActivity" type="_2HIvMBSVEeGGzu7fmW9pXw" association="_2KHxwxSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2KHxwRSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2KHxwhSVEeGGzu7fmW9pXw"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="_2KHxwxSVEeGGzu7fmW9pXw" memberEnd="_2KHxwBSVEeGGzu7fmW9pXw _2KHxxBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2KHxxBSVEeGGzu7fmW9pXw" type="_2KEucBSVEeGGzu7fmW9pXw" association="_2KHxwxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <CDA:CDATemplate xmi:id="_2KEucxSVEeGGzu7fmW9pXw" base_Class="_2KEucBSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.22.2.23"/>
  <CDA:ConstraintValidation xmi:id="_2KI_4xSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2KI_4BSVEeGGzu7fmW9pXw">
    <ruleId>CONF-375</ruleId>
  </CDA:ConstraintValidation>
  <CDA:CodeSystemConstraint xmi:id="_2KF8kRSVEeGGzu7fmW9pXw" code="46264-8" displayName="History of medical device use" base_Property="_2KF8kBSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_3-cwsCWrEd-iTYfpNb4PkQ"/>
    <ruleId>CONF-372</ruleId>
    <ruleId>CONF-373</ruleId>
  </CDA:CodeSystemConstraint>
  <CDA:PropertyValidation xmi:id="_2KHKsRSVEeGGzu7fmW9pXw" base_Property="_2KHKsBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-374</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2KHKtRSVEeGGzu7fmW9pXw" base_Property="_2KHKshSVEeGGzu7fmW9pXw"/>
  <CDA:AssociationValidation xmi:id="_2KHxxRSVEeGGzu7fmW9pXw" severity="WARNING" base_Association="_2KHxwxSVEeGGzu7fmW9pXw"/>
  <uml:Class xmi:id="_2HIvMBSVEeGGzu7fmW9pXw" name="NonMedicinalSupplyActivity">
    <ownedComment xmi:id="_2HnQUBSVEeGGzu7fmW9pXw" annotatedElement="_2HIvMBSVEeGGzu7fmW9pXw">
      <body>a supply activity is used to describe what has been dispensed.</body>
    </ownedComment>
    <ownedComment xmi:id="_2HnQURSVEeGGzu7fmW9pXw" annotatedElement="_2HIvMBSVEeGGzu7fmW9pXw">
      <body>The supply entry describes a prescription activity. The moodCode attribute shall be INT to reflect that a&#xD;
medication has been prescribed, or EVN to indicate that the prescription has been filled.</body>
    </ownedComment>
    <ownedComment xmi:id="_2HIvMRSVEeGGzu7fmW9pXw" annotatedElement="_2HIvMBSVEeGGzu7fmW9pXw">
      <body>Order information may be recorded as part of the fulfillment history (moodcode = EVN) or as part of the administration information (moodcode = INT)</body>
    </ownedComment>
    <ownedRule xmi:id="_2HcRMBSVEeGGzu7fmW9pXw" name="moodCode">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HcRMRSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>self.moodCode=vocab::x_DocumentSubstanceMood::EVN or self.moodCode=vocab::x_DocumentSubstanceMood::INT </body>
        <body>Value for moodCode is 'EVN' or 'INT' 2.16.840.1.113883.5.1001 ActMood STATIC</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hc4QBSVEeGGzu7fmW9pXw" name="hasAuthor">
      <ownedComment xmi:id="_2Hc4QRSVEeGGzu7fmW9pXw">
        <body>Indicates the prescriber.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hc4QhSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>not self.author->isEmpty()</body>
        <body>Contains one or more author.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HdfUBSVEeGGzu7fmW9pXw" name="hasPerformer">
      <ownedComment xmi:id="_2HdfURSVEeGGzu7fmW9pXw">
        <body>Indicates the person dispensing the product.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HdfUhSVEeGGzu7fmW9pXw">
        <language>OCL</language>
        <language>Analysis</language>
        <body>not self.performer->isEmpty()</body>
        <body>Contains one or more performer.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HdfVBSVEeGGzu7fmW9pXw" name="hasParticipantLocation">
      <ownedComment xmi:id="_2HdfVRSVEeGGzu7fmW9pXw">
        <body>Iindicates the supply location.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HdfVhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains exactly one participant / @typeCode = &quot;LOC&quot;.</body>
        <body>self.participant->one(part : cda::Participant2 | part.typeCode = vocab::ParticipationType::LOC)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HeGYRSVEeGGzu7fmW9pXw" name="informationSource">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HeGYhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains one or more sources of information.</body>
        <body>not self.informant->isEmpty() &#xD;&#xA;or not self.getSection().informant->isEmpty()&#xD;&#xA;or not self.getClinicalDocument().informant->isEmpty()&#xD;&#xA;or self.reference->exists(ref : cda::Reference | ref.typeCode = vocab::x_ActRelationshipExternalReference::XCRPT)&#xD;&#xA;or (self.entryRelationship->exists(rel : cda::EntryRelationship | &#xD;&#xA;   rel.typeCode = vocab::x_ActRelationshipEntryRelationship::REFR&#xD;&#xA;   and rel.observation.code.code = '48766-0'))</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HetcBSVEeGGzu7fmW9pXw" name="hasProduct">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HetcRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>Contains exactly one product, the target of which is a Product template.</body>
        <body>not self.product.oclIsUndefined() and self.product.oclIsKindOf(cda::Product)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HfUgBSVEeGGzu7fmW9pXw" name="hasSameProductInstance">
      <ownedComment xmi:id="_2HfUgRSVEeGGzu7fmW9pXw">
        <body>UNIMPLEMENTABLE</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HfUghSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>Supply / participant / participantRole / id SHOULD be set to equal a [Act | Observation | Procedure] / participant / participantRole / id  to indicate that the Supply and the Procedure are referring to the same product instance.</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hf7kBSVEeGGzu7fmW9pXw" name="HasIntentAuthor">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hf7kRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>A supply entry that describes an intent (&lt;supply classCode='SPLY' moodCode='INT'>) may include an &lt;author> element to identify the prescribing provider.</body>
        <body>(self.classCode=vocab::ActClassSupply::SPLY and self.moodCode=vocab::x_DocumentSubstanceMood::INT) implies self.author->size() > 0</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HgioBSVEeGGzu7fmW9pXw" name="HasAuthorTime">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HgioRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;time> element must be present to indicate when the author created the prescription. If this information is unknown, it shall be recorded by setting the nullFlavor attribute to UNK.</body>
        <body>not self.author->isEmpty() implies self.author->forAll(author| author.time->size() = 1)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HgioxSVEeGGzu7fmW9pXw" name="HasAssignedAuthor">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HgipBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;assignedAuthor> element shall be present in author, and identifies the author.</body>
        <body>not self.author->isEmpty() implies  self.author->forAll(author| author.assignedAuthor->size() = 1)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HhJsRSVEeGGzu7fmW9pXw" name="HasAssignedAuthorID">
      <ownedComment xmi:id="_2HhJshSVEeGGzu7fmW9pXw">
        <body>These identifiers identify the author of the act.&#xD;
When the author is the prescribing physician they may include local identifiers or regional&#xD;
identifiers necessary for prescribing.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HhJsxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>One or more &lt;id> elements should be present in assignedAuthor</body>
        <body>not self.author.assignedAuthor->isEmpty() implies self.author.assignedAuthor->forAll ( assignedAuthor | assignedAuthor.id->size() > 0)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HhwwBSVEeGGzu7fmW9pXw" name="HasAssignedAuthorPersonOrOrg">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HhwwRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>An &lt;assignedPerson> and/or &lt;representedOriganization> element shall be present in assignedAuthor. This element&#xD;&#xA;shall contain a &lt;name> element to identify the prescriber or their organization.</body>
        <body>not self.author.assignedAuthor->isEmpty() implies    (self.author.assignedAuthor.assignedPerson->size() > 0 and self.author.assignedAuthor.assignedPerson.name->size() > 0) or (self.author.assignedAuthor.representedOrganization->size() > 0 and self.author.assignedAuthor.representedOrganization.name->size() > 0)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HiX0BSVEeGGzu7fmW9pXw" name="HasPerformerTimeEvent">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HiX0RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;time> element shall be present in performer to indicate when the prescription was filled&#xD;&#xA;(moodCode='EVN'). If this information is unknown, it shall be recorded by setting the nullFlavor attribute to UNK.</body>
        <body>(not self.performer->isEmpty()) and self.moodCode = vocab::x_DocumentSubstanceMood::EVN implies self.performer->forAll(time->size() = 1)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hi-4BSVEeGGzu7fmW9pXw" name="HasPerformerTimeIntent">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hi-4RSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The &lt;time> element should be present to indicate when the prescription is intended to be filled&#xD;&#xA;(moodCode='INT').</body>
        <body>(not self.performer->isEmpty()) and self.moodCode = vocab::x_DocumentSubstanceMood::INT implies self.performer->forAll(time->size() = 1)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hi-4xSVEeGGzu7fmW9pXw" name="HasPerformerAssignedEntity">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hi-5BSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The performer/assignedEntity element shall be present, and identifies the filler of the prescription.</body>
        <body>(not self.performer->isEmpty()) implies self.performer->forAll(performer| not performer.assignedEntity.oclIsUndefined())</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hjl8RSVEeGGzu7fmW9pXw" name="HasPerformerAssignedEntityID">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hjl8hSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>One or more &lt;id> elements should be present. These identify the performer.</body>
        <body>(not self.performer.assignedEntity->isEmpty())  implies self.performer.assignedEntity->forAll(id->size() > 0)</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HkNABSVEeGGzu7fmW9pXw" name="HasPerformerEntityPersonOrOrg">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HkNARSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>An &lt;assignedPerson> and/or &lt;representedOriganization> element shall be present. This element shall contain a &lt;name> element to identify the filler or their organization.</body>
        <body>(not self.performer.assignedEntity->isEmpty()) implies self.performer.assignedEntity->forAll(assignedEntity | (not assignedEntity.assignedPerson->isEmpty() and assignedEntity.assignedPerson->forAll( assignedPerson | not assignedPerson.name->isEmpty() ) ) or (not assignedEntity.representedOrganization->isEmpty() and  assignedEntity.representedOrganization->forAll(representedOrganization | not representedOrganization.name->isEmpty() ) )  )</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2Hk0EBSVEeGGzu7fmW9pXw" name="quantityHasValue">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2Hk0ERSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The supply entry should indicate the quantity supplied. The value attribute shall be present and indicates the quantity of medication supplied. If the medication is supplied in dosing units (tablets or capsules), then the unit attribute need not be present (and should be set to 1 if present). Otherwise, the unit element shall be present to indicate the quantity (e.g., volume or mass) of medication supplied.</body>
        <body>not self.quantity->isEmpty() implies self.quantity.isDefined('value')</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvMhSVEeGGzu7fmW9pXw" name="orderNumber" constrainedElement="_2HIvOxSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2HIvMxSVEeGGzu7fmW9pXw">
        <body>The order identifier from the perspective of the&#xD;
ordering clinician. Also known as the 'placer number'&#xD;
versus the pharmacies prescription number (or 'filler&#xD;
number')</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvNBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The order number, i.e., the identifier from the perspective of the ordering provider, SHOULD be recorded in the id element within the supply element with moodcode = 'INT'</body>
        <body>self.moodCode = vocab::x_DocumentSubstanceMood::INT implies self.id->size() > 0</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvNRSVEeGGzu7fmW9pXw" name="orderExpiration" constrainedElement="_2HIvMhSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2HIvNhSVEeGGzu7fmW9pXw">
        <body>The date, including time if applicable, when the order&#xD;
is no longer valid. Dispenses and administrations are&#xD;
not continued past this date for an order instance</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvNxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The effectiveTime/high element is present to record the order expiration date and time when supply/@moodcode = INT</body>
        <body>self.moodCode =  vocab::x_DocumentSubstanceMood::INT implies not self.effectiveTime->select(et | et.value.oclIsUndefined())->isEmpty()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvOBSVEeGGzu7fmW9pXw" name="quantityOrdered" constrainedElement="_2HIvOxSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2HIvORSVEeGGzu7fmW9pXw">
        <body>The amount of product indicated by the ordering&#xD;
provider to be dispensed. For example, number of&#xD;
dosage units or volume of a liquid substance. Note:&#xD;
this is comprised of both a numeric value and a unit of&#xD;
measure</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvOhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The quantity ordered SHALL be recorded in the value attribute of quantity element inside a supply element used to record order information</body>
        <body>not self.quantity.value.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvOxSVEeGGzu7fmW9pXw" name="quantityUnit">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvPBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>the @unit attribute of quantity element is present</body>
        <body>not self.quantity.unit.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvPRSVEeGGzu7fmW9pXw" name="quantityNotAdminUnits" constrainedElement="_2HIvOxSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvPhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>When the quantity ordered or dispensed is in other than administration units (e.g., when the quantity ordered is a volume of liquid or mass of substance) units SHALL be coded as 2.16.840.1.113883.3.88.12.80.29, Unit of Measure, Dynamic</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvPxSVEeGGzu7fmW9pXw" name="quantityAdminUnits" constrainedElement="_2HIvPRSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvQBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>When the quantity ordered or dispensed is in administration units, the unit attribute SHOULD contain the preferred name of the presentation units within braces { } using the units of presentation as 2.16.840.1.113883.3.88.12.3221.8.11, Medication Product Form Value Set, Dynamic</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvQRSVEeGGzu7fmW9pXw" name="prescriptionNumber">
      <ownedComment xmi:id="_2HIvQhSVEeGGzu7fmW9pXw">
        <body>The prescription&#xD;
identifier assigned by the pharmacy</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvQxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The prescription number SHALL be recorded in the extension attribute of the &lt;id> element within a supply element having a moodCode attribute of EVN</body>
        <body>self.moodCode = vocab::x_DocumentSubstanceMood::EVN implies not self.id->isEmpty()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvRBSVEeGGzu7fmW9pXw" name="assigningAuthority" constrainedElement="_2HIvQRSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2HIvRRSVEeGGzu7fmW9pXw">
        <body>determining the assigning authority is not feasible in all settings.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvRhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The root attribute of the id element SHOULD be the OID of the assigning authority for the identifier.</body>
        <body>self.id.root->size() > 0</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvRxSVEeGGzu7fmW9pXw" name="assigningAuthorityGUID" constrainedElement="_2HIvRBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvSBSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>A GUID MAY be used in place of the OID of the assigning authority</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvSRSVEeGGzu7fmW9pXw" name="dispenseDate" constrainedElement="_2HIvVBSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2HIvShSVEeGGzu7fmW9pXw">
        <body>The date of this&#xD;
dispense</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvSxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The dispense date is recorded in effectiveTime element within a supply element with a moodCode attribute set to EVN</body>
        <body>self.moodCode = vocab::x_DocumentSubstanceMood::EVN implies self.effectiveTime->size() > 0</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvTBSVEeGGzu7fmW9pXw" name="dispensingPharmacyLocation" constrainedElement="_2HIvThSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvTRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The dispensing pharmacy's location is present in the addr element in performer/assignEntity element inside a supply element with a moodCode attribute set to EVN</body>
        <body>self.moodCode =  vocab::x_DocumentSubstanceMood::EVN  implies self.performer->select(p | p.assignedEntity.addr->isEmpty())->isEmpty()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvThSVEeGGzu7fmW9pXw" name="dispensingPharmacyLocationState" constrainedElement="_2HIvVBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvTxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>The state element of the performer/assignedEntity/addr element in the United States SHALL be recorded using 2.16.840.1.113883.3.88.12.80.1, State Value Set, version: 20081218, Dynamic</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvUBSVEeGGzu7fmW9pXw" name="dispensingPharmacyLocationPostal" constrainedElement="_2HIvVBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvURSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>The postalCode element of the performer/assignedEntity/addr element in the United States SHALL be recorded using 2.16.840.1.113883.3.88.12.80.2, Postal Code Value Set, version: 20081218, Dynamic</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvUhSVEeGGzu7fmW9pXw" name="dispensingPharmacyLocationCountry" constrainedElement="_2HIvVBSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvUxSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <body>The country element of the performer/assignedEntity/addr element in the United States SHALL be recorded using 2.16.840.1.113883.3.88.12.80.3, Country Value Set, version: 20081218, Dynamic</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvVBSVEeGGzu7fmW9pXw" name="quantityDispensed" constrainedElement="_2HIvRxSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2HIvVRSVEeGGzu7fmW9pXw">
        <body>The actual quantity of&#xD;
product supplied in this dispense. Note: This is&#xD;
comprised of both a numeric value and a unit of&#xD;
measure</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvVhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The quantity dispensed SHALL be recorded in the value attribute of quantity element inside a supply element with a moodCode attribute set to EVN</body>
        <body>self.moodCode = vocab::x_DocumentSubstanceMood::EVN implies not self.quantity.value.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_2HIvVxSVEeGGzu7fmW9pXw" name="hasFillNumber" constrainedElement="_2HIvVBSVEeGGzu7fmW9pXw">
      <ownedComment xmi:id="_2HIvWBSVEeGGzu7fmW9pXw">
        <body>The fill number for the&#xD;
history entry. The fill number identifies the supply (dispense) event as a distinct activities against the prescription.</body>
      </ownedComment>
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2HIvWRSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>The fill number SHOULD be recorded in the sequenceNumber attribute of a entryRelationship element with a typeCode attribute set to COMP</body>
        <body>self.entryRelationship->select(er | er.typeCode = vocab::x_ActRelationshipEntryRelationship::COMP and er.sequenceNumber.oclIsUndefined())->isEmpty()</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2HnQUhSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_3gL0sEbuEd6besF9iFIJkQ"/>
    </generalization>
    <ownedAttribute xmi:id="_2HSgMRSVEeGGzu7fmW9pXw" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVfcUDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_2HSgMhSVEeGGzu7fmW9pXw">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVfcUDcEd6xYZuu1VKCVw"/>
        <body>SPLY</body>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HTHQBSVEeGGzu7fmW9pXw" name="moodCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zOpxEDcEd6xYZuu1VKCVw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HTHQhSVEeGGzu7fmW9pXw" name="id" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_culQ8DxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2HTHQxSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2HTHRBSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HIvXxSVEeGGzu7fmW9pXw" name="statusCode" visibility="private">
      <ownedComment xmi:id="_2HIvYBSVEeGGzu7fmW9pXw">
        <body>When supply element has a moodCode attribute set to EVN</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HTuUBSVEeGGzu7fmW9pXw" name="effectiveTime" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2HTuURSVEeGGzu7fmW9pXw">
        <body>Indicates the actual or intended time of dispensing.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_kSZ5QD5_Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2HTuUhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2HTuUxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HIvWxSVEeGGzu7fmW9pXw" name="repeatNumber" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2HIvXBSVEeGGzu7fmW9pXw">
        <body>&lt;p>&#xD;
The number of times that the ordering provider has&#xD;
authorized the pharmacy to dispense this medication&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
Please note that the number of fills requested is what is recorded in the document, not the number of refills. The number of refills is simply one less than the number of fills.&#xD;
&lt;/p></body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_wDsPEEo9Ed6c3qsAxlFHaQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2HIvXRSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2HIvXhSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HUVYBSVEeGGzu7fmW9pXw" name="quantity" visibility="private" aggregation="composite">
      <ownedComment xmi:id="_2HUVYRSVEeGGzu7fmW9pXw">
        <body>The supply entry should indicate the quantity supplied. The value attribute shall be present and&#xD;
indicates the quantity of medication supplied. If the medication is supplied in dosing units&#xD;
(tablets or capsules), then the unit attribute need not be present (and should be set to 1 if present).&#xD;
Otherwise, the unit element shall be present to indicate the quantity (e.g., volume or mass) of&#xD;
medication supplied.</body>
      </ownedComment>
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_3mPzYD59Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2HUVYhSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2HUVYxSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2HVjgBSVEeGGzu7fmW9pXw" name="productInstance" type="_2G2bUxSVEeGGzu7fmW9pXw" association="_2HVjgxSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2HVjgRSVEeGGzu7fmW9pXw" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2HVjghSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="_2HVjgxSVEeGGzu7fmW9pXw" memberEnd="_2HVjgBSVEeGGzu7fmW9pXw _2HVjhBSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2HVjhBSVEeGGzu7fmW9pXw" type="_2HIvMBSVEeGGzu7fmW9pXw" association="_2HVjgxSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <CDA:CDATemplate xmi:id="_2HIvYRSVEeGGzu7fmW9pXw" base_Class="_2HIvMBSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.3.88.11.83.8.3">
    <ruleId>C83-[DE-8-CDA-6]</ruleId>
  </CDA:CDATemplate>
  <CDA:ConstraintValidation xmi:id="_2HcRMhSVEeGGzu7fmW9pXw" base_Constraint="_2HcRMBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-317</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Hc4QxSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2Hc4QBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-323</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HdfUxSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2HdfUBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-324</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HeGYBSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2HdfVBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-325</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HeGYxSVEeGGzu7fmW9pXw" base_Constraint="_2HeGYRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-326</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HetchSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2HetcBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-355</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HfUgxSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HfUgBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-370</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2Hf7khSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2Hf7kBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HgiohSVEeGGzu7fmW9pXw" base_Constraint="_2HgioBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HhJsBSVEeGGzu7fmW9pXw" base_Constraint="_2HgioxSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HhJtBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HhJsRSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HhwwhSVEeGGzu7fmW9pXw" base_Constraint="_2HhwwBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HiX0hSVEeGGzu7fmW9pXw" base_Constraint="_2HiX0BSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2Hi-4hSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2Hi-4BSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2Hjl8BSVEeGGzu7fmW9pXw" base_Constraint="_2Hi-4xSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2Hjl8xSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2Hjl8RSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HkNAhSVEeGGzu7fmW9pXw" base_Constraint="_2HkNABSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2Hk0EhSVEeGGzu7fmW9pXw" base_Constraint="_2Hk0EBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HLLcBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HIvMhSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.26-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HLygBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HIvNRSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HMZkBSVEeGGzu7fmW9pXw" base_Constraint="_2HIvOBSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.26-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HMZkRSVEeGGzu7fmW9pXw" base_Constraint="_2HIvOxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.26-CDA-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HNAoBSVEeGGzu7fmW9pXw" base_Constraint="_2HIvPRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.26-CDA-3]</ruleId>
    <ruleId>C83-[DE-8.38-CDA-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HNnsBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HIvPxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.26-CDA-4]</ruleId>
    <ruleId>C83-[DE-8.38-CDA-3]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HOOwBSVEeGGzu7fmW9pXw" base_Constraint="_2HIvQRSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.34-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HOOwRSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HIvRBSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.34-CDA-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HO10BSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2HIvRxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.34-CDA-3]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HPc4BSVEeGGzu7fmW9pXw" base_Constraint="_2HIvSRSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HPc4RSVEeGGzu7fmW9pXw" severity="INFO" base_Constraint="_2HIvTBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HQD8BSVEeGGzu7fmW9pXw" base_Constraint="_2HIvThSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.36-1]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HQrABSVEeGGzu7fmW9pXw" base_Constraint="_2HIvUBSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.36-2]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HRSEBSVEeGGzu7fmW9pXw" base_Constraint="_2HIvUhSVEeGGzu7fmW9pXw">
    <ruleId>C154-[DE-8.36-3]</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_2HRSERSVEeGGzu7fmW9pXw" base_Constraint="_2HIvVBSVEeGGzu7fmW9pXw"/>
  <CDA:ConstraintValidation xmi:id="_2HR5IBSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2HIvVxSVEeGGzu7fmW9pXw">
    <ruleId>C83-[DE-8.39-CDA-1]</ruleId>
  </CDA:ConstraintValidation>
  <Ecore:EAttribute xmi:id="_2HSgMxSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2HSgMRSVEeGGzu7fmW9pXw"/>
  <Ecore:EAttribute xmi:id="_2HTHQRSVEeGGzu7fmW9pXw" isUnsettable="true" base_Property="_2HTHQBSVEeGGzu7fmW9pXw"/>
  <CDA:PropertyValidation xmi:id="_2HTHRRSVEeGGzu7fmW9pXw" base_Property="_2HTHQhSVEeGGzu7fmW9pXw">
    <ruleId>CONF-318</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2HJ9UBSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2HIvXxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-319</ruleId>
  </CDA:PropertyValidation>
  <CDA:ValueSetConstraint xmi:id="_2HJ9URSVEeGGzu7fmW9pXw" base_Property="_2HIvXxSVEeGGzu7fmW9pXw">
    <reference href="../consol-vocab.uml#_2Hn3YBSVEeGGzu7fmW9pXw"/>
  </CDA:ValueSetConstraint>
  <CDA:PropertyValidation xmi:id="_2HTuVBSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2HTuUBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-320</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2HJWQBSVEeGGzu7fmW9pXw" severity="INFO" base_Property="_2HIvWxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-321</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_2HUVZBSVEeGGzu7fmW9pXw" severity="WARNING" base_Property="_2HUVYBSVEeGGzu7fmW9pXw">
    <ruleId>CONF-322</ruleId>
  </CDA:PropertyValidation>
  <CDA:AssociationValidation xmi:id="_2HVjhRSVEeGGzu7fmW9pXw" severity="INFO" base_Association="_2HVjgxSVEeGGzu7fmW9pXw">
    <ruleId>CONF-369</ruleId>
  </CDA:AssociationValidation>
  <uml:Class xmi:id="_2G2bUxSVEeGGzu7fmW9pXw" name="ProductInstance">
    <ownedComment xmi:id="_2G2bVBSVEeGGzu7fmW9pXw" annotatedElement="_2G2bUxSVEeGGzu7fmW9pXw">
      <body>identifes a particular product instance</body>
    </ownedComment>
    <ownedRule xmi:id="_2G2bVRSVEeGGzu7fmW9pXw" name="hasScopingEntity" constrainedElement="_2G2bUxSVEeGGzu7fmW9pXw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2G2bVhSVEeGGzu7fmW9pXw">
        <language>Analysis</language>
        <language>OCL</language>
        <body>If participantRole in a product instance contains participantRole / id, then participantRole SHOULD also contain participantRole / scopingEntity.</body>
        <body>self.id->size() > 0 implies self.scopingEntity->size() > 0</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_2G43kBSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#__QZaIEcZEd6besF9iFIJkQ"/>
    </generalization>
    <ownedAttribute xmi:id="_2G2bWBSVEeGGzu7fmW9pXw" name="classCode" visibility="private" isReadOnly="true">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zE2iEDcEd6xYZuu1VKCVw"/>
      <defaultValue xmi:type="uml:InstanceValue" xmi:id="_2G2bWRSVEeGGzu7fmW9pXw" name="MANU">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zE2iEDcEd6xYZuu1VKCVw"/>
        <instance xmi:type="uml:EnumerationLiteral" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zE2v0DcEd6xYZuu1VKCVw"/>
      </defaultValue>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_2G3CYBSVEeGGzu7fmW9pXw" base_Class="_2G2bUxSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.1.52" assigningAuthorityName="CCD"/>
  <CDA:ConstraintValidation xmi:id="_2G3pcRSVEeGGzu7fmW9pXw" severity="WARNING" base_Constraint="_2G2bVRSVEeGGzu7fmW9pXw">
    <ruleId>CONF-451</ruleId>
  </CDA:ConstraintValidation>
  <CDA:PropertyValidation xmi:id="_2G3pcBSVEeGGzu7fmW9pXw" base_Property="_2G2bWBSVEeGGzu7fmW9pXw"/>
  <uml:Class xmi:id="_chEhQBUUEeG6PvUxSTZnaw" name="PreconditionForSubstanceAdministration">
    <ownedRule xmi:id="_pHR7UBrcEeGo461UQq-B1g" name="criterionCode" constrainedElement="_chEhQBUUEeG6PvUxSTZnaw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_rVPAoBrcEeGo461UQq-B1g">
        <language>Analysis</language>
        <language>OCL</language>
        <body>This criterion SHOULD contain zero or one [0..1] code (CONF:7367)</body>
        <body>not self.criterion.oclIsUndefined() implies not self.criterion.code.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_tZn6QBrcEeGo461UQq-B1g" name="criterionText" constrainedElement="_chEhQBUUEeG6PvUxSTZnaw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_08wUgBrcEeGo461UQq-B1g">
        <language>Analysis</language>
        <language>OCL</language>
        <body>This criterion MAY contain zero or one [0..1] text (CONF:7373).</body>
        <body>not self.criterion.oclIsUndefined() implies not self.criterion.text.oclIsUndefined()</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_vY4cQBrcEeGo461UQq-B1g" name="criterionValue" constrainedElement="_chEhQBUUEeG6PvUxSTZnaw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_2wfjABrcEeGo461UQq-B1g">
        <language>Analysis</language>
        <language>OCL</language>
        <body>This criterion SHOULD contain zero or one [0..1] value with @xsi:type=&quot;CD&quot; (CONF:7369).</body>
        <body>(self.criterion.value.oclIsUndefined() or self.criterion.value.isNullFlavorUndefined()) implies (self.criterion.value.oclIsTypeOf(datatypes::CD))</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_chEhQRUUEeG6PvUxSTZnaw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_OJn4MEcaEd6besF9iFIJkQ"/>
    </generalization>
    <ownedAttribute xmi:id="_lie3YBUUEeG6PvUxSTZnaw" name="criterion" association="_lie3YhUUEeG6PvUxSTZnaw">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_hKgxMEcEEd6besF9iFIJkQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_mh0NcBUUEeG6PvUxSTZnaw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_mh0NcRUUEeG6PvUxSTZnaw" value="1"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="_lie3YhUUEeG6PvUxSTZnaw" memberEnd="_lie3YBUUEeG6PvUxSTZnaw _lie3YxUUEeG6PvUxSTZnaw">
    <ownedEnd xmi:id="_lie3YxUUEeG6PvUxSTZnaw" type="_chEhQBUUEeG6PvUxSTZnaw" association="_lie3YhUUEeG6PvUxSTZnaw"/>
  </uml:Association>
  <CDA:CDATemplate xmi:id="_gOTA8BUUEeG6PvUxSTZnaw" base_Class="_chEhQBUUEeG6PvUxSTZnaw" templateId="2.16.840.1.113883.10.20.22.4.25">
    <ruleId>CONF:7372</ruleId>
  </CDA:CDATemplate>
  <CDA:AssociationValidation xmi:id="_nE_L8BUUEeG6PvUxSTZnaw" base_Association="_lie3YhUUEeG6PvUxSTZnaw">
    <ruleId>CONF:7366</ruleId>
  </CDA:AssociationValidation>
  <uml:Class xmi:id="_VBXq8BUTEeG6PvUxSTZnaw" name="DrugVehicle">
    <ownedRule xmi:id="_G1AaMBq2EeGo461UQq-B1g" name="playingEntityCode" constrainedElement="_VBXq8BUTEeG6PvUxSTZnaw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_IGiTgBq2EeGo461UQq-B1g">
        <language>Analysis</language>
        <language>OCL</language>
        <body>This playingEntity SHALL contain exactly one [1..1] code (CONF:7493). &#xA;&#x9;This playingEntity/code is used to supply a coded term for the drug  vehicle (CONF:10086)</body>
        <body>not self.playingEntity.oclIsUndefined() implies self.playingEntity</body>
      </specification>
    </ownedRule>
    <ownedRule xmi:id="_WgMgsBq2EeGo461UQq-B1g" name="playingEntityName" constrainedElement="_VBXq8BUTEeG6PvUxSTZnaw">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_Y9oMcBq2EeGo461UQq-B1g">
        <language>Analysis</language>
        <body>This playingEntity MAY contain zero or one [0..1] name (CONF:7494). &#xA;&#x9;This playingEntity/name MAY be used for the vehicle name in text, such as Normal Saline (CONF:10087)</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_VBXq8RUTEeG6PvUxSTZnaw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#__QZaIEcZEd6besF9iFIJkQ"/>
    </generalization>
    <ownedAttribute xmi:id="_ZXk2MBUTEeG6PvUxSTZnaw" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zE4tEDcEd6xYZuu1VKCVw"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_zsi7kBq1EeGo461UQq-B1g" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_zsi7kRq1EeGo461UQq-B1g" value="1"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_Z6ZKgEreEd6FXKclYGEDCw"/>
      <defaultValue xmi:type="uml:LiteralString" xmi:id="_kzEpIBUTEeG6PvUxSTZnaw" value="MANU"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_ZXk2NRUTEeG6PvUxSTZnaw" name="code" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ZXk2NhUTEeG6PvUxSTZnaw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_ZXk2NxUTEeG6PvUxSTZnaw"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_MtfrYEreEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_A3sHMBq2EeGo461UQq-B1g" name="playingEntity">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_Lr9i8EcaEd6besF9iFIJkQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_CSa_0Bq2EeGo461UQq-B1g" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_CSa_0Rq2EeGo461UQq-B1g" value="1"/>
      <association href="consol-immunizations.uml#_A3suQRq2EeGo461UQq-B1g"/>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_a3-5ABUTEeG6PvUxSTZnaw" base_Class="_VBXq8BUTEeG6PvUxSTZnaw" templateId="2.16.840.1.113883.10.20.22.4.24">
    <ruleId>CONF:7495</ruleId>
  </CDA:CDATemplate>
  <Ecore:EAttribute xmi:id="_ZXk2NBUTEeG6PvUxSTZnaw" isUnsettable="true" base_Property="_ZXk2MBUTEeG6PvUxSTZnaw"/>
  <CDA:PropertyValidation xmi:id="_cMxhsBUTEeG6PvUxSTZnaw" base_Property="_ZXk2MBUTEeG6PvUxSTZnaw">
    <ruleId>CONF:7490</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EReference xmi:id="_ZXk2OBUTEeG6PvUxSTZnaw" xmlNamespace="##targetNamespace" base_Property="_ZXk2NRUTEeG6PvUxSTZnaw"/>
  <CDA:PropertyValidation xmi:id="_d2t7ABUTEeG6PvUxSTZnaw" base_Property="_ZXk2NRUTEeG6PvUxSTZnaw">
    <ruleId>CONF:7491</ruleId>
  </CDA:PropertyValidation>
  <uml:Class xmi:id="_2Poj5BSVEeGGzu7fmW9pXw" name="Hospital AdmissionMedicationsSectionEntriesOptional">
    <ownedComment xmi:id="_2Poj6xSVEeGGzu7fmW9pXw" annotatedElement="_2Poj5BSVEeGGzu7fmW9pXw">
      <body>The admission medication history section shall contain a narrative description of the relevant medications administered to&#xD;
a patient prior to admission to a facility. It shall include entries for medication administration as described in the&#xD;
Entry Content Module.</body>
    </ownedComment>
    <ownedComment xmi:id="_2Poj5RSVEeGGzu7fmW9pXw" annotatedElement="_2Poj5BSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    The Admission Medication Section contains information about the relevant medications of a patient prior&#xD;
    to admission to a facility. &#xD;
&lt;/p></body>
    </ownedComment>
    <generalization xmi:id="_2Poj7BSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_qIf_wDxXEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_2Poj6RSVEeGGzu7fmW9pXw" name="code" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
  </uml:Class>
  <CDA:CDATemplate xmi:id="_IYW3oBnXEeGs5a462vYX5Q" base_Class="_2Poj5BSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.22.2.44"/>
  <CDA:CodeSystemConstraint xmi:id="_2Poj6hSVEeGGzu7fmW9pXw" code="42346-7" displayName="MEDICATIONS ON ADMISSION" base_Property="_2Poj6RSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_3-cwsCWrEd-iTYfpNb4PkQ"/>
  </CDA:CodeSystemConstraint>
  <uml:Class xmi:id="_2Poj7RSVEeGGzu7fmW9pXw" name="HospitalDischargeMedicationsSection">
    <ownedComment xmi:id="_2Poj-hSVEeGGzu7fmW9pXw" annotatedElement="_2Poj7RSVEeGGzu7fmW9pXw">
      <body>The hospital discharge medications section shall contain a narrative description of the medications requested&#xD;
            (ordered) to be administered to the patient after discharge from the hospital. It shall include entries for&#xD;
            medication requests as described in the Entry Content Module.</body>
    </ownedComment>
    <ownedComment xmi:id="_2Poj7hSVEeGGzu7fmW9pXw" annotatedElement="_2Poj7RSVEeGGzu7fmW9pXw">
      <body>&lt;p>&#xD;
    The Hospital Discharge Medications Section contains information about the relevant medications of the&#xD;
    medications ordered for the patient for use after discharge from the hospital. &#xD;
&lt;/p></body>
    </ownedComment>
    <generalization xmi:id="_2Poj-xSVEeGGzu7fmW9pXw">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_qIf_wDxXEd6JwqSGecoePg"/>
    </generalization>
    <ownedAttribute xmi:id="_2Poj-BSVEeGGzu7fmW9pXw" name="code" visibility="private">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_Z1EGIDxaEd6JwqSGecoePg"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_2Poj8BSVEeGGzu7fmW9pXw" name="medication" type="_2GHbgBSVEeGGzu7fmW9pXw" association="_2Poj9RSVEeGGzu7fmW9pXw">
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_2Poj8RSVEeGGzu7fmW9pXw" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_2Poj8hSVEeGGzu7fmW9pXw" value="1"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="_2Poj9RSVEeGGzu7fmW9pXw" memberEnd="_2Poj8BSVEeGGzu7fmW9pXw _2Poj9hSVEeGGzu7fmW9pXw">
    <ownedEnd xmi:id="_2Poj9hSVEeGGzu7fmW9pXw" type="_2Poj7RSVEeGGzu7fmW9pXw" association="_2Poj9RSVEeGGzu7fmW9pXw"/>
  </uml:Association>
  <CDA:CDATemplate xmi:id="__7eHsBnSEeGs5a462vYX5Q" base_Class="_2Poj7RSVEeGGzu7fmW9pXw" templateId="2.16.840.1.113883.10.20.22.2.11"/>
  <CDA:CodeSystemConstraint xmi:id="_2Poj-RSVEeGGzu7fmW9pXw" code="10183-2" displayName="HOSPITAL DISCHARGE MEDICATIONS" base_Property="_2Poj-BSVEeGGzu7fmW9pXw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_3-cwsCWrEd-iTYfpNb4PkQ"/>
  </CDA:CodeSystemConstraint>
  <CDA:AssociationValidation xmi:id="_2Poj9xSVEeGGzu7fmW9pXw" base_Association="_2Poj9RSVEeGGzu7fmW9pXw"/>
  <CDA:CodeSystemConstraint xmi:id="_3jQucBq1EeGo461UQq-B1g" code="412307009" base_Property="_ZXk2NRUTEeG6PvUxSTZnaw">
    <reference href="../../../org.openhealthtools.mdht.uml.term.models/model/CodeSystems.uml#_ya6aMCWsEd-iTYfpNb4PkQ"/>
  </CDA:CodeSystemConstraint>
  <CDA:ConstraintValidation xmi:id="_HhcpcBq2EeGo461UQq-B1g" base_Constraint="_G1AaMBq2EeGo461UQq-B1g">
    <ruleId>CONF:7493</ruleId>
    <ruleId>CONF:10086</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_Sw0r8Bq2EeGo461UQq-B1g"/>
  <CDA:ConstraintValidation xmi:id="_W3bU8Bq2EeGo461UQq-B1g" base_Constraint="_WgMgsBq2EeGo461UQq-B1g">
    <ruleId>CONF:7494</ruleId>
    <ruleId>CONF:10087</ruleId>
  </CDA:ConstraintValidation>
  <CDA:PropertyValidation xmi:id="_7nNMkBrXEeGo461UQq-B1g" base_Property="_EYtaIBUUEeG6PvUxSTZnaw">
    <ruleId>CONF:7451</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EReference xmi:id="_ThGZ4xrYEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_ThGZ4BrYEeGo461UQq-B1g"/>
  <Ecore:EReference xmi:id="_ThHA8xrYEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_ThHA8BrYEeGo461UQq-B1g"/>
  <Ecore:EAttribute xmi:id="_ThHoARrYEeGo461UQq-B1g" isUnsettable="true" base_Property="_ThHoABrYEeGo461UQq-B1g"/>
  <Ecore:EReference xmi:id="_ThIPExrYEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_ThIPEBrYEeGo461UQq-B1g"/>
  <Ecore:EReference xmi:id="_ThI2IBrYEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_ThIPFBrYEeGo461UQq-B1g"/>
  <CDA:ValueSetConstraint xmi:id="_JbIaABrZEeGo461UQq-B1g" base_Property="_ThIPFBrYEeGo461UQq-B1g">
    <reference href="../consol-vocab.uml#_2Hn3YBSVEeGGzu7fmW9pXw"/>
    <ruleId>CONF:7455</ruleId>
  </CDA:ValueSetConstraint>
  <CDA:ConstraintValidation xmi:id="_xlA8oBrcEeGo461UQq-B1g" severity="WARNING" base_Constraint="_pHR7UBrcEeGo461UQq-B1g">
    <ruleId>CONF:7367</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_zB2uEBrcEeGo461UQq-B1g" severity="INFO" base_Constraint="_tZn6QBrcEeGo461UQq-B1g">
    <ruleId>CONF:7373</ruleId>
  </CDA:ConstraintValidation>
  <uml:Class xmi:id="_j3aTQBrTEeGo461UQq-B1g" name="MedicationSupplyOrder">
    <ownedRule xmi:id="_iZPioB7lEeGEaLkc3UAsAg" name="instructionInversionInd" constrainedElement="_j3aTQBrTEeGo461UQq-B1g">
      <specification xmi:type="uml:OpaqueExpression" xmi:id="_l6ZVMB7lEeGEaLkc3UAsAg">
        <language>Analysis</language>
        <body>This entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd=&quot;true&quot; True</body>
      </specification>
    </ownedRule>
    <generalization xmi:id="_j3aTQRrTEeGo461UQq-B1g">
      <general xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_3gL0sEbuEd6besF9iFIJkQ"/>
    </generalization>
    <ownedAttribute xmi:id="_p1olMBrTEeGo461UQq-B1g" name="classCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVfcUDcEd6xYZuu1VKCVw"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_p_5-MEb8Ed6besF9iFIJkQ"/>
      <defaultValue xmi:type="uml:OpaqueExpression" xmi:id="_p1olMRrTEeGo461UQq-B1g">
        <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__yVfcUDcEd6xYZuu1VKCVw"/>
        <body>SPLY</body>
      </defaultValue>
    </ownedAttribute>
    <ownedAttribute xmi:id="_p1pzUBrTEeGo461UQq-B1g" name="effectiveTime" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_kSZ5QD5_Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_p1pzURrTEeGo461UQq-B1g" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_p1pzUhrTEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_8voGMErtEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_p1qaYBrTEeGo461UQq-B1g" name="moodCode" visibility="private">
      <type xmi:type="uml:Enumeration" href="../../../org.openhealthtools.mdht.uml.hl7.vocab/model/vocab.uml#__zOpxEDcEd6xYZuu1VKCVw"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_U-F1UEruEd6FXKclYGEDCw"/>
      <defaultValue xmi:type="uml:LiteralString" xmi:id="_mW4CcBubEeGnMahsPjlwOw" value="INT"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_p1qaYhrTEeGo461UQq-B1g" name="quantity" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_3mPzYD59Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_p1qaYxrTEeGo461UQq-B1g" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_p1qaZBrTEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_KwFJMEruEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_p1rBcRrTEeGo461UQq-B1g" name="repeatNumber" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_wDsPEEo9Ed6c3qsAxlFHaQ"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_p1rBchrTEeGo461UQq-B1g" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_p1rBcxrTEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_D-T6cEruEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_p1rogRrTEeGo461UQq-B1g" name="statusCode" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_iYn74D55Ed6cla2oXsPtlA"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_p1roghrTEeGo461UQq-B1g" value="1"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_p1rogxrTEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_42xlUErtEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_z3ymoBrTEeGo461UQq-B1g" name="id" visibility="private" aggregation="composite">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.hl7.datatypes/model/datatypes.uml#_culQ8DxaEd6JwqSGecoePg"/>
      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_z3zNsBrTEeGo461UQq-B1g" value="*"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_z3zNsRrTEeGo461UQq-B1g"/>
      <redefinedProperty href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_x1NnEErtEd6FXKclYGEDCw"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="__4pJYBrTEeGo461UQq-B1g" name="medicationInformation" type="_2T9DQBSVEeGGzu7fmW9pXw" association="__4pwcRrTEeGo461UQq-B1g">
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="__4pwcBrTEeGo461UQq-B1g"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_EbRnEBrUEeGo461UQq-B1g" name="immunizationMedicationInformation" association="_EbSOIBrUEeGo461UQq-B1g">
      <type xmi:type="uml:Class" href="consol-immunizations.uml#_daTqABVOEeGbmN_W114JUw"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_EbRnERrUEeGo461UQq-B1g"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_IxCtcBrUEeGo461UQq-B1g" name="author" association="_IxDUgBrUEeGo461UQq-B1g">
      <type xmi:type="uml:Class" href="../../../org.openhealthtools.mdht.uml.cda/model/cda.uml#_ChEisEcEEd6besF9iFIJkQ"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_IxCtcRrUEeGo461UQq-B1g"/>
    </ownedAttribute>
    <ownedAttribute xmi:id="_PrKm8BrUEeGo461UQq-B1g" name="instructions" association="_PrLOARrUEeGo461UQq-B1g">
      <type xmi:type="uml:Class" href="consol-other.uml#_2G8h9RSVEeGGzu7fmW9pXw"/>
      <lowerValue xmi:type="uml:LiteralInteger" xmi:id="_PrLOABrUEeGo461UQq-B1g"/>
    </ownedAttribute>
  </uml:Class>
  <uml:Association xmi:id="__4pwcRrTEeGo461UQq-B1g" memberEnd="__4pJYBrTEeGo461UQq-B1g __4pwchrTEeGo461UQq-B1g">
    <ownedEnd xmi:id="__4pwchrTEeGo461UQq-B1g" type="_j3aTQBrTEeGo461UQq-B1g" association="__4pwcRrTEeGo461UQq-B1g"/>
  </uml:Association>
  <uml:Association xmi:id="_EbSOIBrUEeGo461UQq-B1g" memberEnd="_EbRnEBrUEeGo461UQq-B1g _EbSOIRrUEeGo461UQq-B1g">
    <ownedEnd xmi:id="_EbSOIRrUEeGo461UQq-B1g" type="_j3aTQBrTEeGo461UQq-B1g" association="_EbSOIBrUEeGo461UQq-B1g"/>
  </uml:Association>
  <uml:Association xmi:id="_IxDUgBrUEeGo461UQq-B1g" memberEnd="_IxCtcBrUEeGo461UQq-B1g _IxDUgRrUEeGo461UQq-B1g">
    <ownedEnd xmi:id="_IxDUgRrUEeGo461UQq-B1g" type="_j3aTQBrTEeGo461UQq-B1g" association="_IxDUgBrUEeGo461UQq-B1g"/>
  </uml:Association>
  <uml:Association xmi:id="_PrLOARrUEeGo461UQq-B1g" memberEnd="_PrKm8BrUEeGo461UQq-B1g _PrLOAhrUEeGo461UQq-B1g">
    <ownedEnd xmi:id="_PrLOAhrUEeGo461UQq-B1g" type="_j3aTQBrTEeGo461UQq-B1g" association="_PrLOARrUEeGo461UQq-B1g"/>
  </uml:Association>
  <CDA:CDATemplate xmi:id="_uFl-gBrTEeGo461UQq-B1g" base_Class="_j3aTQBrTEeGo461UQq-B1g" templateId="2.16.840.1.113883.10.20.22.4.17">
    <ruleId>CONF:7429</ruleId>
  </CDA:CDATemplate>
  <Ecore:EAttribute xmi:id="_p1pMQBrTEeGo461UQq-B1g" isUnsettable="true" base_Property="_p1olMBrTEeGo461UQq-B1g"/>
  <CDA:PropertyValidation xmi:id="_v_02kBrTEeGo461UQq-B1g" base_Property="_p1olMBrTEeGo461UQq-B1g">
    <ruleId>CONF:7427</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EReference xmi:id="_p1pzUxrTEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_p1pzUBrTEeGo461UQq-B1g"/>
  <CDA:PropertyValidation xmi:id="_5Dz_kBrTEeGo461UQq-B1g" severity="WARNING" base_Property="_p1pzUBrTEeGo461UQq-B1g">
    <ruleId>CONF:7433</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EAttribute xmi:id="_p1qaYRrTEeGo461UQq-B1g" isUnsettable="true" base_Property="_p1qaYBrTEeGo461UQq-B1g"/>
  <CDA:PropertyValidation xmi:id="_2R5RkBrTEeGo461UQq-B1g" base_Property="_p1qaYBrTEeGo461UQq-B1g">
    <ruleId>CONF:7428</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EReference xmi:id="_p1rBcBrTEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_p1qaYhrTEeGo461UQq-B1g"/>
  <CDA:PropertyValidation xmi:id="_13RLEBrTEeGo461UQq-B1g" severity="WARNING" base_Property="_p1qaYhrTEeGo461UQq-B1g">
    <ruleId>CONF:7436</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EReference xmi:id="_p1rogBrTEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_p1rBcRrTEeGo461UQq-B1g"/>
  <CDA:PropertyValidation xmi:id="_1NE-kBrTEeGo461UQq-B1g" severity="WARNING" base_Property="_p1rBcRrTEeGo461UQq-B1g">
    <ruleId>CONF:7434</ruleId>
  </CDA:PropertyValidation>
  <Ecore:EReference xmi:id="_p1rohBrTEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_p1rogRrTEeGo461UQq-B1g"/>
  <Ecore:EReference xmi:id="_z3zNshrTEeGo461UQq-B1g" xmlNamespace="##targetNamespace" base_Property="_z3ymoBrTEeGo461UQq-B1g"/>
  <CDA:PropertyValidation xmi:id="_0eFKkBrTEeGo461UQq-B1g" base_Property="_z3ymoBrTEeGo461UQq-B1g">
    <ruleId>CONF:7430</ruleId>
  </CDA:PropertyValidation>
  <CDA:AssociationValidation xmi:id="_BEWukBrUEeGo461UQq-B1g" severity="INFO" base_Association="__4pwcRrTEeGo461UQq-B1g">
    <ruleId>CONF:7439</ruleId>
  </CDA:AssociationValidation>
  <CDA:AssociationValidation xmi:id="_GPjBEBrUEeGo461UQq-B1g" severity="INFO" base_Association="_EbSOIBrUEeGo461UQq-B1g">
    <ruleId>CONF:9334</ruleId>
  </CDA:AssociationValidation>
  <CDA:AssociationValidation xmi:id="_MwV0kBrUEeGo461UQq-B1g" severity="INFO" base_Association="_IxDUgBrUEeGo461UQq-B1g">
    <ruleId>CONF:7438</ruleId>
  </CDA:AssociationValidation>
  <uml:Association xmi:id="_eqeiEBrYEeGo461UQq-B1g" memberEnd="_eqd7ABrYEeGo461UQq-B1g _eqeiERrYEeGo461UQq-B1g">
    <ownedEnd xmi:id="_eqeiERrYEeGo461UQq-B1g" type="_DpoGkBUUEeG6PvUxSTZnaw" association="_eqeiEBrYEeGo461UQq-B1g"/>
  </uml:Association>
  <uml:Association xmi:id="_j8nKEBrYEeGo461UQq-B1g" memberEnd="_j8mjABrYEeGo461UQq-B1g _j8nKERrYEeGo461UQq-B1g">
    <ownedEnd xmi:id="_j8nKERrYEeGo461UQq-B1g" type="_DpoGkBUUEeG6PvUxSTZnaw" association="_j8nKEBrYEeGo461UQq-B1g"/>
  </uml:Association>
  <uml:Association xmi:id="_3-ztEBrYEeGo461UQq-B1g" memberEnd="_3-zGABrYEeGo461UQq-B1g _3-ztERrYEeGo461UQq-B1g">
    <ownedEnd xmi:id="_3-ztERrYEeGo461UQq-B1g" type="_DpoGkBUUEeG6PvUxSTZnaw" association="_3-ztEBrYEeGo461UQq-B1g"/>
  </uml:Association>
  <CDA:PropertyValidation xmi:id="_mPn6ABuSEeGnMahsPjlwOw" severity="WARNING" base_Property="_ThGZ4BrYEeGo461UQq-B1g">
    <ruleId>CONF:7456</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_owX_gBuSEeGnMahsPjlwOw" base_Property="_ThHA8BrYEeGo461UQq-B1g">
    <ruleId>CONF:7454</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_qH4lABuSEeGnMahsPjlwOw" base_Property="_ThHoABrYEeGo461UQq-B1g">
    <ruleId>CONF:7452</ruleId>
  </CDA:PropertyValidation>
  <CDA:PropertyValidation xmi:id="_rHNUABuSEeGnMahsPjlwOw" severity="WARNING" base_Property="_ThIPEBrYEeGo461UQq-B1g">
    <ruleId>CONF:7457</ruleId>
  </CDA:PropertyValidation>
  <CDA:EntryRelationship xmi:id="_L1MeEBucEeGnMahsPjlwOw" severity="INFO" base_Association="_PrLOARrUEeGo461UQq-B1g" typeCode="SUBJ">
    <ruleId>CONF:7442</ruleId>
    <ruleId>CONF:7444</ruleId>
  </CDA:EntryRelationship>
  <CDA:PropertyValidation xmi:id="_HfkKcB7lEeGEaLkc3UAsAg" base_Property="_p1rogRrTEeGo461UQq-B1g">
    <ruleId>CONF:7432</ruleId>
  </CDA:PropertyValidation>
  <CDA:ConstraintValidation xmi:id="_reiTMB7lEeGEaLkc3UAsAg" base_Constraint="_iZPioB7lEeGEaLkc3UAsAg">
    <ruleId>CONF:7445</ruleId>
  </CDA:ConstraintValidation>
  <CDA:EntryRelationship xmi:id="_yvMA4B7mEeGEaLkc3UAsAg" severity="INFO" base_Association="_3-ztEBrYEeGo461UQq-B1g" typeCode="REFR">
    <ruleId>CONF:7473</ruleId>
    <ruleId>CONF:7474</ruleId>
  </CDA:EntryRelationship>
  <CDA:ConstraintValidation xmi:id="_I-_q8B7nEeGEaLkc3UAsAg" base_Constraint="_-TejcB7mEeGEaLkc3UAsAg">
    <ruleId>CONF:9333</ruleId>
  </CDA:ConstraintValidation>
  <CDA:ConstraintValidation xmi:id="_CGugsB7pEeGEaLkc3UAsAg" severity="WARNING" base_Constraint="_vY4cQBrcEeGo461UQq-B1g">
    <ruleId>CONF:7369</ruleId>
  </CDA:ConstraintValidation>
</xmi:XMI>
