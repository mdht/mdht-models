<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="topic"/>
<meta name="DC.Title" content="History And Physical"/>
<meta name="abstract" content="[ClinicalDocument: templateId 2.16.840.1.113883.10.20.2]"/>
<meta name="description" content="[ClinicalDocument: templateId 2.16.840.1.113883.10.20.2]"/>
<meta name="DC.Coverage" content="ClinicalDocument"/>
<meta name="DC.Relation" scheme="URI" content="../content/DocumentTemplates.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="classId"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../css/commonltr.css"/>
<title>History And Physical</title>
</head>
<body id="classId"><a name="classId"><!-- --></a>
<div>
	<p><b>Development Only.</b> The Normative content for these specifications
	may be found on the HL7, IHE, and HITSP web sites.</p>
</div>

<h1 class="title topictitle1">History And Physical</h1>



<div class="body"><p class="shortdesc">[ClinicalDocument: templateId <tt class="ph tt">2.16.840.1.113883.10.20.2</tt>]</p>


<div class="section">
</div>


<ol class="ol">
<li class="li"><strong class="ph b">SHALL</strong> conform to <a class="xref" href="GeneralHeaderConstraints.html" title="[ClinicalDocument: templateId 2.16.840.1.113883.10.20.3]">General Header Constraints</a> template (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.3</tt>)</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">code</strong></tt>, which <strong class="ph b">SHALL</strong> be selected from ValueSet<tt class="ph tt"> 2.16.840.1.113883.1.11.20.22 <a class="xref" href="../terminology/HPDocumentType.html">HPDocumentType</a></tt><strong class="ph b"> DYNAMIC</strong> (CONF-HP-54)
<ol class="ol" type="a">
<li class="li">Implementations <strong class="ph b">MAY</strong> use local codes in translation elements to specify a local code that is equivalent to the document type. (CONF-HP-55)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-76), such that
<ul class="ul"><li class="li">This section describes the history related to the chief complaint. It contains the
historical details leading up to and pertaining to the patient's current complaint or
reason for seeking medical care.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="HistoryOfPresentIllness.html" title="[Section: templateId 1.3.6.1.4.1.19376.1.5.3.1.3.4]">History Of Present Illness</a> (templateId: <tt class="ph tt">1.3.6.1.4.1.19376.1.5.3.1.3.4</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-77), such that
<ul class="ul"><li class="li">This section describes the past medical history for the patient. It may contain
information about past procedures or other illnesses that might have a bearing on the
patient's current illness. Since past medical history can include past surgical history
and other procedures, the Procedure History section may be included under the Past
Medical History section or it may stand alone as its own section. By the same token,
problems can be recorded in a standalone Problems section or in a nested Problems
section. Wherever used, procedures and problems should conform to the CCD template
for CDA entries cited in the Problems section.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="PastMedicalHistorySection.html" title="[Section: templateId 2.16.840.1.113883.10.20.2.9]">Past Medical History Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.2.9</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-79), such that
<ul class="ul"><li class="li">The Medications section defines a patient's current medications and pertinent
medication history. In this case, the LOINC displayName is not appropriate for the title
of this section. The title should include the word "Medications." At a minimum, the
currently active medications should be listed with an entire medication history as an
option, particularly when the document is used for comprehensive data export. The
section may also include a patient's prescription history and enable the determination
of the source of a medication list, e.g., from a pharmacy system versus from the patient.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/MedicationsSection.html">CCD Medications Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.8</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-80), such that
<ul class="ul"><li class="li">This section is used to list and describe any medication allergies, adverse reactions,
idiosyncratic reactions, anaphylaxis/anaphylactoid reactions to food items, and
metabolic variations or adverse reactions/allergies to other substances (such as latex,
iodine, tape adhesives) used to assure the safety of health care delivery. In general,
environmental allergies, even if severe, should not be included in the Alerts section
since they constitute a medical problem and should be listed in the problem list and
past medical history, even if directly related to the presenting problem.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/AlertsSection.html">CCD Alerts Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.2</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-81), such that
<ul class="ul"><li class="li">This section contains data defining the patient's occupational, personal (i.e., lifestyle),
social, and environmental history and health risk factors, as well as administrative data
such as marital status, race, ethnicity, and religious affiliation. Social history can have
a significant influence on a patient's physical, psychological, and emotional health and
wellbeing, so should be considered in the development of a complete health record.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/SocialHistorySection.html">CCD Social History Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.15</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-82), such that
<ul class="ul"><li class="li">This section contains data defining the patient's genetic relatives in terms of relevant
health-risk factors that have a potential impact on the patient's health care profile.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/FamilyHistorySection.html">CCD Family History Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.4</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-83), such that
<ul class="ul"><li class="li">The review of systems is a relevant collection of symptoms and function systematically
gathered by a clinician. It includes symptoms the patient is currently experiencing,
some of which were not elicited during the history of present illness, as well as a
potentially large number of pertinent negatives, e.g., symptoms that the patient was
specifically asked if they had experienced or were currently experiencing, but had
denied experiencing.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="ReviewOfSystemsSectionIHE.html" title="[Section: templateId 1.3.6.1.4.1.19376.1.5.3.1.3.18]">Review Of Systems Section IHE</a> (templateId: <tt class="ph tt">1.3.6.1.4.1.19376.1.5.3.1.3.18</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-84), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="PhysicalExaminationSection.html" title="[Section: templateId 2.16.840.1.113883.10.20.2.10]">Physical Examination Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.2.10</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-86), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="VitalSignsSection.html" title="[Section: templateId 2.16.840.1.113883.10.20.2.4]">Vital Signs Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.2.4</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-88), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="GeneralStatusSection.html" title="[Section: templateId 2.16.840.1.113883.10.20.2.5]">General Status Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.2.5</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-90), such that
<ul class="ul"><li class="li">This section contains the results of observations generated by laboratories, imaging
procedures, and other procedures. The scope includes hematology, chemistry, serology,
virology, toxicology, microbiology, plain x-ray, ultrasound, CT, MRI, angiography,
echocardiography, nuclear medicine, pathology, and procedure observations. The
section often includes notable results such as abnormal values or relevant trends, and
could contain all results for the period of time being documented.
In some situations, such as in the emergency department and pending surgery,
diagnostic findings are not available when a History and Physical is released. As
explained in Section 4.1 Section Descriptions above, a required section for which no
content is available must contain some indication that no content is available.
Laboratory results are typically generated by laboratories providing analytic services in
areas such as chemistry, hematology, serology, histology, cytology, anatomic pathology,
microbiology, and/or virology. These observations are based on analysis of specimens
obtained from the patient and submitted to the laboratory.
Imaging results are typically generated by a clinician reviewing the output of an imaging
procedure, such as where a cardiologist reports the left ventricular ejection fraction
based on the review of a cardiac echocardiogram.
Procedure results are typically generated by a clinician wanting to provide more
granular information about component observations made during the performance of a
procedure, such as where a gastroenterologist reports the size of a polyp observed
during a colonoscopy.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="DiagnosticFindings.html" title="[Section: templateId 2.16.840.1.113883.10.20.1.14]">Diagnostic Findings</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.14</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">MAY</strong> contain zero or one [0..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-93), such that
<ul class="ul"><li class="li">This section lists and describes all relevant clinical problems at the time the History
and Physical is generated. At a minimum, all pertinent current and historical problems
should be listed.
This section is optional because the information contained in it may also appear in the
Past Medical History section or the History of Present Illness section. When a problem
list is inserted into either of these sections, it should use the CCD template.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/ProblemSection.html">CCD Problem Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.11</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">MAY</strong> contain zero or one [0..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-94), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/ProceduresSection.html">CCD Procedures Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.12</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">MAY</strong> contain zero or one [0..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-96), such that
<ul class="ul"><li class="li">The Immunizations section provides a patient's pertinent immunization history. The
Immunizations section is optional, however it is recommended that it be present when
such information is available.</li>
</ul>
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/ImmunizationsSection.html">CCD Immunizations Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.6</tt>)</li>
</ol>
</li>

<li class="li">If pre-coordinated document type codes are used, values used in the
assignedAuthor/code and assignedAuthor/author/functionCode elements <strong class="ph b">SHALL NOT</strong>
conflict with ClinicalDocument/code. (CONF-HP-56)</li>

<li class="li">If pre-coordinated document type codes are used, values used in
encompassingEncounter/location/healthCareFacility/code <strong class="ph b">SHALL NOT</strong> conflict with
ClinicalDocument/code. (CONF-HP-57)</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: Either combined Assessment + Plan section is included, or separate Assessment section and Plan section included, but not both combined and separate sections. (CONF-HP-92)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::AssessmentAndPlanSection))
   xor (self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::AssessmentSection))
      and self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::PlanSection)))</pre>
</li>
</ul>
</li>

<li class="li">When Assessment section or Plan section is included, then both sections <strong class="ph b">SHALL</strong> be included. (CONF-HP-91)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: let assessmentExists : Boolean = self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::AssessmentSection)) in
  let planExists : Boolean = self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::PlanSection))
    in (assessmentExists or planExists) implies (assessmentExists and planExists)</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: Either combined Reason for Visit and Chief Complaint section is included, or separate Reason for Visit section and Chief Complaint section included, but not both combined and separate sections. (CONF-HP-75)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ReasonForVisitAndChiefComplaintSection))
   xor (self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ReasonForVisitSection))
      and self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ChiefComplaintSection)))</pre>
</li>
</ul>
</li>

<li class="li">When Reason for Visit section or Chief Complaint section is included, then both sections <strong class="ph b">SHALL</strong> be included. (CONF-HP-74)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: let reasonExists : Boolean = self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ReasonForVisitSection)) in
  let complaintExists : Boolean = self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ChiefComplaintSection))
    in (reasonExists or complaintExists) implies (reasonExists and complaintExists)</pre>
</li>
</ul>
</li>

</ol>

<ol class="ol">
<li class="li"><strong class="ph b">SHALL</strong> conform to <a class="xref" href="GeneralHeaderConstraints.html" title="[ClinicalDocument: templateId 2.16.840.1.113883.10.20.3]">General Header Constraints</a> template (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.3</tt>)</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">realmCode</strong></tt><tt class="ph tt"><strong class="ph b">/@code</strong>="US" </tt> (CONF-HP-15)
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">typeId</strong></tt> (CONF-HP-16)
<ul class="ul"><li class="li">The clinical document type ID identifies the constraints imposed by CDA R2 on the
content, essentially acting as a version identifier.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">id</strong></tt> (CONF-HP-17)
<ul class="ul"><li class="li">The ClinicalDocument/id element is an instance identifier data type (see HL7 Version 3
Abstract Data in Section 5 REFERENCES). The root attribute is a UUID or OID. The
root uniquely identifies the scope of the extension. The root and extension attributes
uniquely identify the document.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">code</strong></tt>, which <strong class="ph b">SHALL</strong> be selected from ValueSet<tt class="ph tt"> 2.16.840.1.113883.1.11.20.22 <a class="xref" href="../terminology/HPDocumentType.html">HPDocumentType</a></tt><strong class="ph b"> DYNAMIC</strong> (CONF-HP-54)
<ol class="ol" type="a">
<li class="li">Implementations <strong class="ph b">MAY</strong> use local codes in translation elements to specify a local code that is equivalent to the document type. (CONF-HP-55)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">title</strong></tt> (CONF-HP-22)
<ul class="ul"><li class="li">Specifies the local name used for the document.
Note that the title does not need to be the same as the display name provided with the
document type code. For example, the display name provided by LOINC® as an aid in
debugging may be "HISTORY AND PHYSICAL." The title can be localized, as appropriate.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">effectiveTime</strong></tt> (CONF-HP-23)
<ul class="ul"><li class="li">Specifies the creation time of the document. All documents
authored by direct input to a computer system should record an effectiveTime that is
precise to the second. When authored in other ways, for example, by filling out a
paper form that is then transferred into an EHR system, the precision of
effectiveTime may be less than to the second.</li>
</ul>
</li>

<li class="li">Contains exactly one [1..1] <tt class="ph tt"><strong class="ph b">confidentialityCode</strong></tt>
<ul class="ul"><li class="li">Specifies the confidentiality assigned to the document. This specification provides no further guidance beyond CDA R2
on documents with respect to the vocabulary used for confidentialityCode, nor
treatment or implementation of confidentiality.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">languageCode</strong></tt> (CONF-HP-24)
</li>

<li class="li">Contains at least one [1..*] <tt class="ph tt"><strong class="ph b">recordTarget</strong></tt>, where its type is <a class="xref" href="generated/../RecordTarget.html">Record Target</a>
</li>

<li class="li">Contains at least one [1..*] <tt class="ph tt"><strong class="ph b">author</strong></tt>, where its type is <a class="xref" href="generated/../Author.html">Author</a>
</li>

<li class="li">Contains exactly one [1..1] <tt class="ph tt"><strong class="ph b">custodian</strong></tt>, where its type is <a class="xref" href="generated/../Custodian.html">Custodian</a>
</li>

<li class="li">Contains exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt>, where its type is <a class="xref" href="generated/../Component2.html">Component2</a>
</li>

<li class="li">Contains at least one [1..*] <tt class="ph tt"><strong class="ph b">author</strong></tt>, such that
<ul class="ul"><li class="li">The author element represents the creator of the clinical document. If the role of the
actor is the entry of information from his or her own knowledge or application of skills,
that actor is the author. If one actor provides information to another actor who filters,
reasons, or algorithmically creates new information, then that second actor is also an
author, having created information from his or her own knowledge or skills. However,
that determination is independent from the determination of the first actor's
authorship.</li>
</ul>
</li>

<li class="li">Contains zero or one [0..1] <tt class="ph tt"><strong class="ph b">dataEnterer</strong></tt>, such that
<ul class="ul"><li class="li"><p class="p">The dataEnterer element represents the person who transferred the information from
other sources into the clinical document, where the other sources wrote the content of
the note. The guiding rule of thumb is that an author provides the content found
within the header or body of the document, subject to their own interpretation. The
dataEnterer adds information to the electronic system. A person can participate as
both author and dataEnterer.</p>

<p class="p">If the role of the actor is to transfer information from one source to another (e.g.,
transcription or transfer from paper form to electronic system), that actor is considered
a dataEnterer.</p>
</li>
</ul>
</li>

<li class="li">Contains exactly one [1..1] <tt class="ph tt"><strong class="ph b">custodian</strong></tt>, such that
<ul class="ul"><li class="li">Based on the CDA R2 constraints (Section 4.2.2.3 of the CDA Normative Web Edition.
See Section 5 REFERENCES), the custodian element is required and is the custodian of
the clinical document.</li>
</ul>
</li>

<li class="li">Contains zero or more [0..*] <tt class="ph tt"><strong class="ph b">informationRecipient</strong></tt>, such that
<ul class="ul"><li class="li">informationRecipient, when used in the context of a referral or request for consultation,
this records the intended recipient of the information at the time the document is
created. The intended recipient may also be the health chart of the patient, in which
case the receivedOrganization is the scoping organization of that chart.</li>
</ul>
</li>

<li class="li">Contains zero or one [0..1] <tt class="ph tt"><strong class="ph b">legalAuthenticator</strong></tt>, such that
<ul class="ul"><li class="li"><p class="p">The legalAuthenticator element identifies the legal authenticator of the document and
must be present if the document has been legally authenticated. Based on local
practice, clinical documents may be released before legal authentication. This implies
that a clinical document that does not contain this element has not been legally
authenticated.</p>

<p class="p">The act of legal authentication requires a certain privilege be granted to the legal
authenticator depending upon local policy. All clinical documents have the potential for
legal authentication, given the appropriate credentials.</p>

<p class="p">Local policies may choose to delegate the function of legal authentication to a device or
system that generates the clinical document. In these cases, the legal authenticator is
a person accepting responsibility for the document, not the generating device or system.</p>
</li>
</ul>
</li>

<li class="li">Contains zero or more [0..*] <tt class="ph tt"><strong class="ph b">authenticator</strong></tt>, such that
<ul class="ul"><li class="li"><p class="p">The authenticator identifies the participant who attested to the accuracy of the
information in the document.</p>

<p class="p">Automated systems, such as a PHR, that allow a clinical document to be generated need to give
special consideration to authentication permissions because the information contained in the
document may come from sources or contain information that the author cannot validate.</p>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-76), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="HistoryOfPresentIllness.html" title="[Section: templateId 1.3.6.1.4.1.19376.1.5.3.1.3.4]">History Of Present Illness</a> (templateId: <tt class="ph tt">1.3.6.1.4.1.19376.1.5.3.1.3.4</tt>)</li>
</ol>
<ul class="ul"><li class="li">This section describes the history related to the chief complaint. It contains the
historical details leading up to and pertaining to the patient's current complaint or
reason for seeking medical care.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-77), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="PastMedicalHistorySection.html" title="[Section: templateId 2.16.840.1.113883.10.20.2.9]">Past Medical History Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.2.9</tt>)</li>
</ol>
<ul class="ul"><li class="li">This section describes the past medical history for the patient. It may contain
information about past procedures or other illnesses that might have a bearing on the
patient's current illness. Since past medical history can include past surgical history
and other procedures, the Procedure History section may be included under the Past
Medical History section or it may stand alone as its own section. By the same token,
problems can be recorded in a standalone Problems section or in a nested Problems
section. Wherever used, procedures and problems should conform to the CCD template
for CDA entries cited in the Problems section.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-80), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/AlertsSection.html">CCD Alerts Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.2</tt>)</li>
</ol>
<ul class="ul"><li class="li">This section is used to list and describe any medication allergies, adverse reactions,
idiosyncratic reactions, anaphylaxis/anaphylactoid reactions to food items, and
metabolic variations or adverse reactions/allergies to other substances (such as latex,
iodine, tape adhesives) used to assure the safety of health care delivery. In general,
environmental allergies, even if severe, should not be included in the Alerts section
since they constitute a medical problem and should be listed in the problem list and
past medical history, even if directly related to the presenting problem.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-81), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/SocialHistorySection.html">CCD Social History Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.15</tt>)</li>
</ol>
<ul class="ul"><li class="li">This section contains data defining the patient's occupational, personal (i.e., lifestyle),
social, and environmental history and health risk factors, as well as administrative data
such as marital status, race, ethnicity, and religious affiliation. Social history can have
a significant influence on a patient's physical, psychological, and emotional health and
wellbeing, so should be considered in the development of a complete health record.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-82), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/FamilyHistorySection.html">CCD Family History Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.4</tt>)</li>
</ol>
<ul class="ul"><li class="li">This section contains data defining the patient's genetic relatives in terms of relevant
health-risk factors that have a potential impact on the patient's health care profile.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-83), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="ReviewOfSystemsSectionIHE.html" title="[Section: templateId 1.3.6.1.4.1.19376.1.5.3.1.3.18]">Review Of Systems Section IHE</a> (templateId: <tt class="ph tt">1.3.6.1.4.1.19376.1.5.3.1.3.18</tt>)</li>
</ol>
<ul class="ul"><li class="li">The review of systems is a relevant collection of symptoms and function systematically
gathered by a clinician. It includes symptoms the patient is currently experiencing,
some of which were not elicited during the history of present illness, as well as a
potentially large number of pertinent negatives, e.g., symptoms that the patient was
specifically asked if they had experienced or were currently experiencing, but had
denied experiencing.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-84), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="PhysicalExaminationSection.html" title="[Section: templateId 2.16.840.1.113883.10.20.2.10]">Physical Examination Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.2.10</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-86), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="VitalSignsSection.html" title="[Section: templateId 2.16.840.1.113883.10.20.2.4]">Vital Signs Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.2.4</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-88), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="GeneralStatusSection.html" title="[Section: templateId 2.16.840.1.113883.10.20.2.5]">General Status Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.2.5</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">SHALL</strong> contain exactly one [1..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-90), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="DiagnosticFindings.html" title="[Section: templateId 2.16.840.1.113883.10.20.1.14]">Diagnostic Findings</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.14</tt>)</li>
</ol>
<ul class="ul"><li class="li">This section contains the results of observations generated by laboratories, imaging
procedures, and other procedures. The scope includes hematology, chemistry, serology,
virology, toxicology, microbiology, plain x-ray, ultrasound, CT, MRI, angiography,
echocardiography, nuclear medicine, pathology, and procedure observations. The
section often includes notable results such as abnormal values or relevant trends, and
could contain all results for the period of time being documented.
In some situations, such as in the emergency department and pending surgery,
diagnostic findings are not available when a History and Physical is released. As
explained in Section 4.1 Section Descriptions above, a required section for which no
content is available must contain some indication that no content is available.
Laboratory results are typically generated by laboratories providing analytic services in
areas such as chemistry, hematology, serology, histology, cytology, anatomic pathology,
microbiology, and/or virology. These observations are based on analysis of specimens
obtained from the patient and submitted to the laboratory.
Imaging results are typically generated by a clinician reviewing the output of an imaging
procedure, such as where a cardiologist reports the left ventricular ejection fraction
based on the review of a cardiac echocardiogram.
Procedure results are typically generated by a clinician wanting to provide more
granular information about component observations made during the performance of a
procedure, such as where a gastroenterologist reports the size of a polyp observed
during a colonoscopy.</li>
</ul>
</li>

<li class="li"><strong class="ph b">MAY</strong> contain zero or one [0..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-93), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/ProblemSection.html">CCD Problem Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.11</tt>)</li>
</ol>
<ul class="ul"><li class="li">This section lists and describes all relevant clinical problems at the time the History
and Physical is generated. At a minimum, all pertinent current and historical problems
should be listed.
This section is optional because the information contained in it may also appear in the
Past Medical History section or the History of Present Illness section. When a problem
list is inserted into either of these sections, it should use the CCD template.</li>
</ul>
</li>

<li class="li"><strong class="ph b">MAY</strong> contain zero or one [0..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-94), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/ProceduresSection.html">CCD Procedures Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.12</tt>)</li>
</ol>
</li>

<li class="li"><strong class="ph b">MAY</strong> contain zero or one [0..1] <tt class="ph tt"><strong class="ph b">component</strong></tt> (CONF-HP-96), such that
<ol class="ol" type="a">
<li class="li">Contains exactly one [1..1] <a class="xref" href="http://www.cdatools.org/infocenter/topic/org.openhealthtools.mdht.uml.cda.ccd.doc/classes/ImmunizationsSection.html">CCD Immunizations Section</a> (templateId: <tt class="ph tt">2.16.840.1.113883.10.20.1.6</tt>)</li>
</ol>
<ul class="ul"><li class="li">The Immunizations section provides a patient's pertinent immunization history. The
Immunizations section is optional, however it is recommended that it be present when
such information is available.</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: All patient, guardianPerson, assignedPerson, maintainingPerson, relatedPerson, intendedRecipient/informationRecipient, associatedPerson, and relatedSubject/subject elements have a name. (CONF-HP-6)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: *[self::cda:patient or self::cda:guardianPerson or self::cda:assignedPerson
   or self::cda:maintainingPerson or self::cda:relatedPerson or self::cda:associatedPerson
   or self::cda:intendedRecipient/cda:informationRecipient or self::cda:relatedSubject/cda:subject]</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: All patientRole, assignedAuthor, assignedEntity[not(parent::dataEnterer)] and associatedEntity elements have an addr and telecom element. (CONF-HP-7)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: *[self::cda:patientRole or self::cda:assignedAuthor or self::cda:assignedEntity[not(parent::cda:dataEnterer)]  or self::cda:associatedEntity]</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHOULD</strong> satisfy: All guardian, dataEnterer/assignedEntity, relatedEntity, intendedRecipient, relatedSubject and participantRole elements have an addr and telecom element. (CONF-HP-8)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: *[self::cda:guardian or self::cda:assignedEntity[parent::cda:dataEnterer] or self::cda:relatedEntity or self::cda:intendedRecipient or self::cda:relatedSubject or self::cda:participantRole]</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: All guardianOrganization, providerOrganization, wholeOrganization, representedOrganization, representedCustodianOrganization, receivedOrganization, scopingOrganization and serviceProviderOrganization elements have name, addr and telecom elements. (CONF-HP-9)<ul class="ul"><li class="li">When name, address, or telecom information is unknown and where these elements are
required to be present, as with CDA conformance if the information is unknown, these
elements will be represented using an appropriate value for the nullFlavor attribute on
the element. Legal values according to this specification come from the HL7 NullFlavor
vocabulary.</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: *[self::cda:guardianOrganization or self::cda:providerOrganization or self::cda:wholeOrganization or self::cda:representedOrganization or self::cda:representedCustodianOrganization or self::cda:receivedOrganization or self::cda:scopingOrganization or self::cda:serviceProviderOrganization]</pre>
</li>
</ul>
</li>

<li class="li">Times or time intervals found in the ClinicalDocument/effectiveTime,
author/time, dataEnterer/time, legalAuthenticator/time, authenticator/time and
encompassingEncounter/effectiveTime elements <strong class="ph b">SHALL</strong> be precise to the day, <strong class="ph b">SHALL</strong>
include a time zone if more precise than to the day, and <strong class="ph b">SHOULD</strong> be precise to the
second. (CONF-HP-10)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: /cda:ClinicalDocument/cda:effectiveTime | //cda:author/cda:time | //cda:dataEnterer/cda:time | //cda:encompassingEncounter/cda:effectiveTime</pre>
</li>
</ul>
</li>

<li class="li">Times or time intervals found in the asOrganizationPartOf/effectiveTime,
asMaintainedEntity/effectiveTime, relatedEntity/effectiveTime,
serviceEvent/effectiveTime, ClinicalDocument/participant/time,
serviceEvent/performer/time and encounterParticipant/time <strong class="ph b">SHALL</strong> be precise at
least to the year, <strong class="ph b">SHOULD</strong> be precise to the day, and <strong class="ph b">MAY</strong> omit time zone. (CONF-HP-11)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: cda::OrganizationPartOf.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject)-&gt; union(  cda::MaintainedEntity.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union( cda::RelatedEntity.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union(cda::RelatedEntity.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union(cda::RelatedEntity.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union(cda::ServiceEvent.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union(cda::EncounterParticipant.allInstances()-&gt;select( time.oclIsUndefined()).oclAsType( ecore::EObject))-&gt;union(self.participant-&gt;select( time.oclIsUndefined()).oclAsType( ecore::EObject))-&gt;union(cda::OrganizationPartOf.allInstances().effectiveTime-&gt;union(cda::MaintainedEntity.allInstances().effectiveTime)-&gt;union( cda::RelatedEntity.allInstances().effectiveTime)-&gt;union(cda::RelatedEntity.allInstances().effectiveTime)-&gt;union(cda::RelatedEntity.allInstances().effectiveTime)-&gt;union(cda::ServiceEvent.allInstances().effectiveTime)-&gt;union(cda::EncounterParticipant.allInstances().time)-&gt;union(self.participant.time)-&gt;select(current : datatypes::IVL_TS  |  ((not current.low.oclIsUndefined()) and (current.low.value.oclIsUndefined() or current.low.value.size() &lt; 4)) or ((not current.center.oclIsUndefined()) and (current.center.value.oclIsUndefined() or current.center.value.size() &lt; 4)) or ((not current.high.oclIsUndefined()) and (current.high.value.oclIsUndefined() or current.high.value.size() &lt; 4)) or (current.low.oclIsUndefined() and current.center.oclIsUndefined() and current.high.oclIsUndefined()) ).oclAsType( ecore::EObject))</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: Telephone numbers match the regular expression pattern tel:\+?[-0-9().]+ (CONF-HP-12)<ul class="ul"><li class="li">The telecom element is used to provide a contact telephone number for the various
participants that require it. The value attribute ofthis elements is a URL that specifies
the telephone number, as indicated by the TEL data type.</li>
<li class="li">All telephone numbers are to be encoded using a restricted form of the tel: URL scheme. 
A telephone number used for voice calls begins with the URL scheme tel:. If the
number is a global phone number, it starts with a plus (+) sign. The remaining number
is made up of the dialing digits and an optional extension and may also contain visual
separators.</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: //*[self::cda:telecom]</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: At least one dialing digit is present in the phone number after visual separators are removed. (CONF-HP-13)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: //*[self::cda:telecom]</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: If the telephone number is unknown it is represented using the appropriate flavor of null. (CONF-HP-14)<ul class="ul"><li class="li">There is no way to distinguish between an unknown phone number and an unknown
e-mail or other telecommunications address. Therefore, the following convention will be
used: Any telecom element that uses a flavor of null (has a nullFlavor attribute) is
assumed to be a telephone number, which is the only required telecommunications
address element within this DSTU.</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: //*[self::cda:telecom]</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: The extension attribute of the typeId element is POCD_HD000040. (CONF-HP-16)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.typeId.extension = 'POCD_HD000040'</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: The id/@root attribute is a syntactically correct UUID or OID. (CONF-HP-17)</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: UUIDs are represented in the form XXXXXXXX-XXXX-XXXX-XXXXXXXXXXXXXXXX, where each X is a character from the set [A-Fa-f0-9]. (CONF-HP-18)</li>

<li class="li">OIDs are represented in dotted decimal notation, where each decimal number is either 0, or starts with a nonzero digit. More formally, an OID <strong class="ph b">SHALL</strong> be in the form ([0-2])(.([1-9][0-9]*|0))+. (CONF-HP-19)<ul class="ul"><li class="li"><p class="p">Organizations that wish to use OIDs should properly register their OID root and ensure
uniqueness of the OID roots used in identifiers. A large number of mechanisms exist
for obtaining OID roots for free or for a reasonable fee. HL7 maintains an OID registry
page from which organizations may request an OID root under the HL7 OID root. This
page can be accessed at: http://www.hl7.org/oid.</p>

<p class="p">Another useful resource lists the many ways to obtain a registered OID Root for free or
a small fee anywhere in the world and is located at:
http://www.dclunie.com/medical-image-faq/html/part8.html#UIDRegistration. </p>

<p class="p">The manner in which the OID root is obtained is not constrained by this DSTU.</p>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: OIDs are no more than 64 characters in length. (CONF-HP-20)<ul class="ul"><li class="li">OIDs are limited by this specification to no more than 64 characters in length for
compatibility with other standards and Implementation Guides.</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.id-&gt;select((not id.root.oclIsUndefined()) and id.root.size() &gt; 64 )</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: languageCode has the form nn, or nn-CC. (CONF-HP-25)</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: The nn portion of languageCode is a legal ISO-639-1 language code in lowercase. (CONF-HP-26)</li>

<li class="li">The CC portion languageCode, if present, <strong class="ph b">SHALL</strong> be an ISO-3166 country code in uppercase. (CONF-HP-27)</li>

<li class="li">Both setId and versionNumber <strong class="ph b">SHALL</strong> be present or both <strong class="ph b">SHALL</strong> be absent. (CONF-HP-28)<ul class="ul"><li class="li">The ClinicalDocument/setId element uses the instance identifier (II) data type. The root
attribute is a UUID or OID that uniquely identifies the scope of the identifier, and the
extension attribute is a value that is unique within the scope of the root for the set of
versions of the document. See Document Identification, Revisions, and Addenda in
Section 4.2.3.1 of the CDA Specification for some examples showing the use of the setId
element.</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: (self.setId.oclIsUndefined() and self.versionNumber.oclIsUndefined())
   xor (not self.setId.oclIsUndefined() and not self.versionNumber.oclIsUndefined())</pre>
</li>
</ul>
</li>

<li class="li">The @extension and/or @root of setId and id <strong class="ph b">SHALL</strong> be different when both are present. (CONF-HP-29)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: (not self.setId.oclIsUndefined() and not self.id.oclIsUndefined())
   implies (self.setId.root &lt;&gt; self.id.root or self.setId.extension &lt;&gt; self.id.extension)</pre>
</li>
</ul>
</li>

<li class="li">A copyTime element <strong class="ph b">SHALL NOT</strong> be present. (CONF-HP-30)<ul class="ul"><li class="li">The ClinicalDocument/copyTime element has been deprecated in CDA R2.</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.copyTime.oclIsUndefined()</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: At least one recordTarget/patientRole element is present. (CONF-HP-31)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.recordTarget-&gt;size() &gt; 0 and self.recordTarget-&gt;exists(target : cda::RecordTarget | not target.patientRole.oclIsUndefined())</pre>
</li>
</ul>
</li>

<li class="li">A patient/birthTime element <strong class="ph b">SHALL</strong> be present. The patient/birthTime
element <strong class="ph b">SHALL</strong> be precise at least to the year, and <strong class="ph b">SHOULD</strong> be precise at least to the
day, and <strong class="ph b">MAY</strong> omit time zone. If unknown, it <strong class="ph b">SHALL</strong> be represented using a flavor of
null. (CONF-HP-32)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.recordTarget-&gt;forAll(target : cda::RecordTarget | not target.patientRole.oclIsUndefined()
   implies (not target.patientRole.patient.birthTime.value.oclIsUndefined()
      or not target.patientRole.patient.birthTime.nullFlavor.oclIsUndefined()))</pre>
</li>
</ul>
</li>

<li class="li">A patient/administrativeGenderCode element <strong class="ph b">SHALL</strong> be present. If
unknown, it <strong class="ph b">SHALL</strong> be represented using a flavor of null. Values for
administrativeGenderCode <strong class="ph b">SHOULD</strong> be drawn from the HL7 AdministrativeGender
vocabulary. (CONF-HP-33)<ul class="ul"><li class="li">TODO: add OCL test for terminology</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.recordTarget-&gt;forAll(target : cda::RecordTarget | not target.patientRole.oclIsUndefined()
   implies (not target.patientRole.patient.administrativeGenderCode.code.oclIsUndefined()
      or not target.patientRole.patient.administrativeGenderCode.nullFlavor.oclIsUndefined()))</pre>
</li>
</ul>
</li>

<li class="li">The maritalStatusCode, religiousAffiliationCode, raceCode and
ethnicGroupCode <strong class="ph b">MAY</strong> be present. If maritalStatusCode, religiousAffiliationCode,
raceCode and ethnicGroupCode elements are present, they <strong class="ph b">SHOULD</strong> be encoded using
the appropriate HL7 vocabularies. (CONF-HP-34)</li>

<li class="li"><strong class="ph b">SHOULD</strong> satisfy: The guardian element is present when the patient is a minor child. (CONF-HP-35)</li>

<li class="li"><strong class="ph b">MAY</strong> satisfy: The providerOrganization element is present. (CONF-HP-36)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.recordTarget-&gt;exists(target : cda::RecordTarget | not target.patientRole.providerOrganization.oclIsUndefined())</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: The author/time element is present. (CONF-HP-37)<ul class="ul"><li class="li">The author/time element represents the start time of the author's
participation in the creation of the clinical document.</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.author-&gt;forAll(author : cda::Author | not author.time.oclIsUndefined())</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: The assignedAuthor/id element is present. (CONF-HP-38)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.author-&gt;forAll(author : cda::Author | author.assignedAuthor.id-&gt;size() &gt; 0)</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: An assignedAuthor element contains at least one assignedPerson
or assignedAuthoringDevice elements. (CONF-HP-39)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.author-&gt;forAll(author : cda::Author | not author.assignedAuthor.assignedPerson.oclIsUndefined() 
   or not author.assignedAuthor.assignedAuthoringDevice.oclIsUndefined())</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: When dataEnterer is present, an assignedEntity/assignedPerson element is present. (CONF-HP-40)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: not self.dataEnterer.oclIsUndefined() implies not self.dataEnterer.assignedEntity.assignedPerson.oclIsUndefined()</pre>
</li>
</ul>
</li>

<li class="li">The dataEnterer/time element <strong class="ph b">MAY</strong> be present. If present, it represents the starting time of entry of the data. (CONF-HP-41)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: not self.dataEnterer.oclIsUndefined() implies not self.dataEnterer.time.oclIsUndefined()</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">MAY</strong> satisfy: The informant element is present. (CONF-HP-42)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.informant-&gt;size() &gt; 0</pre>
</li>
</ul>
</li>

<li class="li">When informant is present, an assignedEntity/assignedPerson or
relatedEntity/relatedPerson element <strong class="ph b">SHALL</strong> be present. (CONF-HP-43)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.informant-&gt;forAll(i : cda::Informant12 | not i.assignedEntity.assignedPerson.oclIsUndefined()
   or not i.relatedEntity.relatedPerson.oclIsUndefined())</pre>
</li>
</ul>
</li>

<li class="li">When the informant is a healthcare provider with an assigned role, the
informant <strong class="ph b">SHALL</strong> be represented using the assignedEntity element (CONF-HP-44)<ul class="ul"><li class="li">Assigned health care providers may be a source of information when a document is
created. (e.g., a nurse's aide who provides information about a recent significant health
care event that occurred within an acute care facility.) In these cases, the
assignedEntity element is used.</li>
<li class="li">TODO: how to determin if informant is a healthcare provider?  condition for implementing OCL</li>
</ul>
</li>

<li class="li">Allowable values for informant/relatedEntity/@classCode <strong class="ph b">SHALL</strong> be CON,
PRS, CAREGIVER, AGNT or PROV from the RoleClass vocabulary. (CONF-HP-45)<ul class="ul"><li class="li"><p class="p">When the informant is a personal relation, that informant is represented in the
relatedEntity element. The code element of the relatedEntity describes the relationship
between the informant and the patient.</p>

<p class="p">The relationship between the informant and the patient needs to be described to help
the receiver of the clinical document understand the information in the document.</p>
</li>
</ul>
</li>

<li class="li">When relatedEntity/@classCode is PRS, values in relatedEntity/code
<strong class="ph b">SHALL</strong> come from the HL7 PersonalRelationshipRoleType vocabulary or from
SNOMED, any subtype of "Person in the family" (303071001). (CONF-HP-46)</li>

<li class="li">When an informant is an unrelated person not otherwise specified, the
value relatedEntity/@classCode <strong class="ph b">SHALL</strong> be set to CON to indicate that this person is a
contact. (CONF-HP-47)<ul class="ul"><li class="li">Individuals with no prior personal relationship to the patient (e.g., a witness to a
significant health care event) may provide information about the patient.</li>
</ul>
</li>

<li class="li">When the informant is a healthcare provider without an assigned role,
the informant <strong class="ph b">SHALL</strong> be represented using the relatedEntity element and the value of
relatedEntity/@classCode <strong class="ph b">SHALL</strong> be set to PROV. (CONF-HP-48)<ul class="ul"><li class="li">A health care provider who does not have an assigned role at the institution may
provide information. To record an informant that does not have an assigned role that
can be represented within the context of the document, the information will be
represented using the relatedEntity element and the value of relatedEntity/@classCode
will be set to PROV.</li>
</ul>
</li>

<li class="li">When the informant is a healthcare provider, the value of relatedEntity/code <strong class="ph b">SHOULD</strong> be present and indicate the type of healthcare provider. (CONF-HP-49)</li>

<li class="li">The ClinicalDocument/informationRecipient element <strong class="ph b">MAY</strong> be present.
When informationRecipient is used, at least one
informationRecipient/intendedRecipient/informationRecipient or
informationRecipient/intendedRecipient/receivedOrganization <strong class="ph b">SHALL</strong> be present. (CONF-HP-50)</li>

<li class="li">The assignedEntity/assignedPerson element <strong class="ph b">SHALL</strong> be present in legalAuthenticator. (CONF-HP-51)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: not self.legalAuthenticator.oclIsUndefined() implies not self.legalAuthenticator.assignedEntity.assignedPerson.oclIsUndefined()</pre>
</li>
</ul>
</li>

<li class="li">The assignedEntity/assignedPerson element <strong class="ph b">SHALL</strong> be present in an authenticator element. (CONF-HP-52)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.authenticator-&gt;forAll(auth : cda::Authenticator | auth.assignedEntity-&gt;forAll(entity : cda::AssignedEntity |
   not entity.assignedPerson.oclIsUndefined()))</pre>
</li>
</ul>
</li>

<li class="li">Times or time intervals found in the ClinicalDocument/effectiveTime,
author/time, dataEnterer/time, legalAuthenticator/time, authenticator/time and
encompassingEncounter/effectiveTime elements <strong class="ph b">SHALL</strong> be precise to the day, <strong class="ph b">SHALL</strong>
include a time zone if more precise than to the day, and <strong class="ph b">SHOULD</strong> be precise to the
second. (CONF-HP-10)<ul class="ul"><li class="li">Should portion of CON-HP-10 constraitn</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: -- implemented in Java using XPath selector</pre>
</li>
<li class="li"><pre class="pre codeblock">[XPath]: /cda:ClinicalDocument/cda:effectiveTime | //cda:author/cda:time | //cda:dataEnterer/cda:time | //cda:encompassingEncounter/cda:effectiveTime</pre>
</li>
</ul>
</li>

<li class="li">Times or time intervals found in the asOrganizationPartOf/effectiveTime,
asMaintainedEntity/effectiveTime, relatedEntity/effectiveTime,
serviceEvent/effectiveTime, ClinicalDocument/participant/time,
serviceEvent/performer/time and encounterParticipant/time <strong class="ph b">SHALL</strong> be precise at
least to the year, <strong class="ph b">SHOULD</strong> be precise to the day, and <strong class="ph b">MAY</strong> omit time zone. (CONF-HP-11)<ul class="ul"><li class="li">Should portion of CON-HP-11 constraint</li>
</ul>
<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: cda::OrganizationPartOf.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject)-&gt; union(  cda::MaintainedEntity.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union( cda::RelatedEntity.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union(cda::RelatedEntity.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union(cda::RelatedEntity.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union(cda::ServiceEvent.allInstances()-&gt;select( effectiveTime.oclIsUndefined()).oclAsType( ecore::EObject) )-&gt;union(cda::EncounterParticipant.allInstances()-&gt;select( time.oclIsUndefined()).oclAsType( ecore::EObject))-&gt;union(self.participant-&gt;select( time.oclIsUndefined()).oclAsType( ecore::EObject))-&gt;union(cda::OrganizationPartOf.allInstances().effectiveTime-&gt;union(cda::MaintainedEntity.allInstances().effectiveTime)-&gt;union( cda::RelatedEntity.allInstances().effectiveTime)-&gt;union(cda::RelatedEntity.allInstances().effectiveTime)-&gt;union(cda::RelatedEntity.allInstances().effectiveTime)-&gt;union(cda::ServiceEvent.allInstances().effectiveTime)-&gt;union(cda::EncounterParticipant.allInstances().time)-&gt;union(self.participant.time)-&gt;select(current : datatypes::IVL_TS  |  ((not current.low.oclIsUndefined()) and (current.low.value.oclIsUndefined() or current.low.value.size() &lt; 8)) or ((not current.center.oclIsUndefined()) and (current.center.value.oclIsUndefined() or current.center.value.size() &lt; 8)) or ((not current.high.oclIsUndefined()) and (current.high.value.oclIsUndefined() or current.high.value.size() &lt; 8)) or (current.low.oclIsUndefined() and current.center.oclIsUndefined() and current.high.oclIsUndefined()) ).oclAsType( ecore::EObject))</pre>
</li>
</ul>
</li>

<li class="li">Implementations <strong class="ph b">MAY</strong> use local codes in translation elements to specify a local code that is equivalent to the document type. (CONF-HP-55)</li>

<li class="li">If pre-coordinated document type codes are used, values used in the
assignedAuthor/code and assignedAuthor/author/functionCode elements <strong class="ph b">SHALL NOT</strong>
conflict with ClinicalDocument/code. (CONF-HP-56)</li>

<li class="li">If pre-coordinated document type codes are used, values used in
encompassingEncounter/location/healthCareFacility/code <strong class="ph b">SHALL NOT</strong> conflict with
ClinicalDocument/code. (CONF-HP-57)</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: Either combined Assessment + Plan section is included, or separate Assessment section and Plan section included, but not both combined and separate sections. (CONF-HP-92)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::AssessmentAndPlanSection))
   xor (self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::AssessmentSection))
      and self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::PlanSection)))</pre>
</li>
</ul>
</li>

<li class="li">When Assessment section or Plan section is included, then both sections <strong class="ph b">SHALL</strong> be included. (CONF-HP-91)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: let assessmentExists : Boolean = self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::AssessmentSection)) in
  let planExists : Boolean = self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::PlanSection))
    in (assessmentExists or planExists) implies (assessmentExists and planExists)</pre>
</li>
</ul>
</li>

<li class="li"><strong class="ph b">SHALL</strong> satisfy: Either combined Reason for Visit and Chief Complaint section is included, or separate Reason for Visit section and Chief Complaint section included, but not both combined and separate sections. (CONF-HP-75)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ReasonForVisitAndChiefComplaintSection))
   xor (self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ReasonForVisitSection))
      and self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ChiefComplaintSection)))</pre>
</li>
</ul>
</li>

<li class="li">When Reason for Visit section or Chief Complaint section is included, then both sections <strong class="ph b">SHALL</strong> be included. (CONF-HP-74)<ul class="ul"><li class="li"><pre class="pre codeblock">[OCL]: let reasonExists : Boolean = self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ReasonForVisitSection)) in
  let complaintExists : Boolean = self.getSections()-&gt;exists(section : cda::Section | not section.oclIsUndefined() and section.oclIsKindOf(cdt::ChiefComplaintSection))
    in (reasonExists or complaintExists) implies (reasonExists and complaintExists)</pre>
</li>
</ul>
</li>

</ol>

<div class="fig fignone"><span class="figcap">Figure 1. History And Physical example</span>



<pre class="pre codeblock">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ClinicalDocument xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:hl7-org:v3" xsi:schemaLocation="urn:hl7-org:v3 CDA.xsd"&gt;
  &lt;realmCode code="US"/&gt;
  &lt;typeId root="2.16.840.1.113883.1.3"/&gt;
  &lt;templateId root="2.16.840.1.113883.10.20.3"/&gt;
  &lt;templateId root="2.16.840.1.113883.10.20.2"/&gt;
  &lt;id root="249292558"/&gt;
  &lt;code codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC"/&gt;
  &lt;title/&gt;
  &lt;effectiveTime/&gt;
  &lt;confidentialityCode code="Value"/&gt;
  &lt;languageCode/&gt;
  &lt;recordTarget/&gt;
  &lt;author/&gt;
  &lt;custodian/&gt;
  &lt;component&gt;
    &lt;structuredBody&gt;
      &lt;component&gt;
        &lt;section&gt;
          &lt;realmCode/&gt;
          &lt;typeId root="2.16.840.1.113883.1.3"/&gt;
          &lt;templateId root="1.3.6.1.4.1.19376.1.5.3.1.3.4"/&gt;
          &lt;id root="1690314059"/&gt;
          &lt;code code="10164-2" codeSystem="2.16.840.1.113883.6.1" codeSystemName="LOINC" displayName="HISTORY OF PRESENT ILLNESS"/&gt;
          &lt;title/&gt;
          &lt;languageCode/&gt;
        &lt;/section&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
      &lt;component&gt;
        &lt;section/&gt;
      &lt;/component&gt;
    &lt;/structuredBody&gt;
  &lt;/component&gt;
&lt;/ClinicalDocument&gt;</pre>

</div>

</div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../content/DocumentTemplates.html">DOCUMENT TEMPLATES</a></div>
</div>
</div>

</body>
</html>